{"version":3,"sources":["services/api.js","components/global/Menu.js","components/global/AboutUs.js","components/auth/Login.js","components/auth/Signup.js","components/auth/Logout.js","components/global/Home.js","components/explore/Filters.js","components/explore/GemOnMap.js","components/explore/GemDetails.js","components/explore/MapGems.js","components/explore/ExplorePlaces.js","components/profile/Profile.js","components/profile/UpdateProfile.js","components/explore/PolyLineOverlay.js","components/explore/GemForTrip.js","components/explore/TripDetails.js","components/create/SuggestGem.js","components/create/SetGem.js","components/create/GemWelcome.js","components/create/AddExperience.js","components/create/AddDiscovery.js","components/create/GemSuccess.js","components/create/AddToTrip.js","components/create/AddGemToTrip.js","components/create/GemList.js","components/create/CreateGem.js","components/global/NotFound.js","App.js","serviceWorker.js","index.js"],"names":["signup","username","password","axios","post","then","response","data","catch","err","login","logout","delete","pushGem","gemInfos","console","log","pushTrip","tripInfos","requestTrips","creatorid","param","get","updateTrip","updatedTrip","gemsVisited","existingGems","gemId","selectedTrip","put","updatedtrip","specificGems","Menu","state","user","props","handleLogout","setUser","history","push","this","DropdownButton","id","className","title","Dropdown","Item","href","Divider","onClick","React","Component","AboutUs","Login","message","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","Form","onSubmit","Group","Label","htmlFor","Control","type","onChange","Alert","variant","Button","Signup","Logout","quote","author","resonse","n","Home","componentDidMount","width","height","viewBox","fill","xmlns","xmlnsXlink","filter","d","x","y","filterUnits","color-interpolation-filters","flood-opacity","result","in","stdDeviation","in2","operator","mode","patternContentUnits","xlinkHref","transform","role","to","Filters","displayFilters","gemsData","filterStatus","selectedOption","handleSelectChange","handleFilterSubmit","checked","showGems","handleFilterChange","showTrips","userFilter","options","userFilterOptions","dateStart","dateEnd","style","display","flex","foodDrinks","cultureArts","sports","party","hikes","nature","other","GemOnMap","latitude","longitude","captureClick","draggable","offsetTop","offsetLeft","openPopup","src","alt","GemDetails","currentGemData","currentGemIndex","experienceGemData","creatorData","getCreatorData","getExperienceGemData","handleLike","likes","userId","_id","includes","splice","indexOf","getGemExperience","newGemIndex","length","newGemData","gem","status","error","creatorId","creator","liked","likeClass","imageUrl","locationName","others","category","description","goodToKnow","created_at","slice","closeDetails","MapGems","viewport","zoom","gemSelectedInfo","displayDetails","gemData","openDetails","setUserLocation","navigator","geolocation","getCurrentPosition","position","userLocation","lat","coords","long","renderPopup","tipSize","anchor","closeOnClick","onClose","gemsToRender","gems","map","key","border","onViewportChange","mapboxApiAccessToken","process","mapStyle","captureDoubleClick","doubleClickZoom","right","top","positionOptions","enableHighAccuracy","trackUserLocation","label","ExplorePlaces","gemsToDisplay","getGemsData","filterGems","gemsFiltered","toggleFilters","Profile","popularGems","getPopularGems","displayPopularGems","Carousel","objectFit","Caption","fontWeight","isFollowing","following","handleFollowClick","score","followers","discovered","explored","travelInterests","UpdateProfile","profilePic","patch","FormControl","InputLabel","Input","placeholder","startAdornment","InputAdornment","TextField","multiline","rows","defaultValue","size","margin","startIcon","PolyLineOverlay","_redraw","ctx","isDragging","project","unproject","points","color","lineWidth","renderWhileDragging","clearRect","globalCompositeOperation","strokeStyle","beginPath","forEach","point","pixel","lineTo","stroke","redraw","coordinates","toFixed","addToTrip","TripDetails","tripStages","addTripStage","coord","currentStages","getRoute","join","url","routes","legs","steps","reduce","acc","val","newPoint","intersections","location","concat","GemForTrip","SuggestGem","suggestGemsData","newdata","count","split","element","handleRouteExperience","fetchGemInfo","setStage","handleRouteDiscovery","SetGem","bearing","pitch","marker","markerClicked","features","place_name","handleViewportChange","onSelected","item","onDblClick","lngLat","onDragEnd","hideOnSelect","GemWelcome","AddExperience","isEnabled","nopic","handleChanges","visitedDate","setTimeout","checkStatus","noPicProceed","createGem","persist","files","uploadData","FormData","append","secure_url","substring","required","as","disabled","AddDiscovery","discovery","GemSuccess","handleRoute","shareUrl","FacebookShareButton","FacebookIcon","round","WhatsappShareButton","WhatsappIcon","EmailShareButton","EmailIcon","AddToTrip","formStatus","trips","fetchTripInfos","createTrip","selectTrip","toogleForm","AddGemToTrip","availableGems","GemsInTripIncluded","undefined","TripInfos","allGems","updateGemStatus","tripName","saveGemsInTrip","CreateGem","stage","trip","tripId","addedGems","consider","pushObj","fetchTripInfo","getTrips","tripid","selectedGem","gemArray","gemid","addedGemcopy","changeStage","NotFound","App","exact","path","component","render","Boolean","window","hostname","match","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"6WAEMA,EAAS,SAACC,EAAUC,GACxB,OAAOC,IACJC,KAAK,mBAAoB,CAAEH,WAAUC,aACrCG,MAAK,SAACC,GACL,OAAOA,EAASC,QAEjBC,OAAM,SAACC,GACN,OAAOA,EAAIH,SAASC,SAIpBG,EAAQ,SAACT,EAAUC,GACvB,OAAOC,IACJC,KAAK,kBAAmB,CAAEH,WAAUC,aACpCG,MAAK,SAACC,GACL,OAAOA,EAASC,QAEjBC,OAAM,SAACC,GACN,OAAOA,EAAIH,SAASC,SAIpBI,EAAS,WACb,OAAOR,IACJS,OAAO,oBACPP,MAAK,SAACC,GACL,OAAOA,EAASC,QAEjBC,OAAM,SAACC,GACN,OAAOA,EAAIH,SAASC,SAepBM,EAAU,SAACC,GACf,OAAOX,IACJC,KAAK,kBAAmBU,GACxBT,MAAK,SAACC,GAEL,OADAS,QAAQC,IAAI,sBAAuBV,EAASC,MACrCD,EAASC,QAEjBC,OAAM,SAACC,GACN,OAAOA,EAAIH,SAASC,SAIpBU,EAAW,SAACC,GAChB,OAAOf,IACJC,KAAK,mBAAoBc,GACzBb,MAAK,SAACC,GAEL,OADAS,QAAQC,IAAI,uBAAwBV,EAASC,MACtCD,EAASC,QAEjBC,OAAM,SAACC,GACN,OAAOA,EAAIH,SAASC,SAIpBY,EAAe,SAACC,GACpB,IAAMC,EAAQD,EAEd,OADAL,QAAQC,IAAI,cAAeK,GACpBlB,IACJmB,IADI,oBACaD,IACjBhB,MAAK,SAACC,GACL,OAAOA,EAASC,QAEjBC,OAAM,SAACC,GACN,OAAOA,EAAIH,SAASC,SAIpBgB,EAAa,SAACC,GAClBT,QAAQC,IACN,kEACAQ,GAEF,IAAIC,EAAcD,EAAYE,aAC1BC,EAAQH,EAAYI,aACxB,OAAOzB,IACJ0B,IAAI,mBAAoB,CAAEJ,cAAaE,UACvCtB,MAAK,SAACyB,GACLf,QAAQC,IAAI,0CAA2Cc,MAExDtB,OAAM,SAACC,GACNM,QAAQC,IAAIP,OAIZsB,EAAe,SAACX,GACpB,IAAMC,EAAQD,EACd,OAAOjB,IACJmB,IADI,2BACoBD,IACxBhB,MAAK,SAACC,GAEL,OADAS,QAAQC,IAAI,2BAA4BV,EAASC,MAC1CD,EAASC,QAEjBC,OAAM,SAACC,GACN,OAAOA,EAAIH,SAASC,SChEXyB,E,2MAxCbC,MAAQ,CACNC,KAAM,EAAKC,MAAMD,M,EAGnBE,aAAe,SAAAD,GACbpB,QAAQC,IAAI,iBAAkBmB,GAC9BxB,IAASN,MAAK,WACZ,EAAK8B,MAAME,QAAQ,MACnB,EAAKF,MAAMG,QAAQC,KAAK,e,wEAO1B,OAFAxB,QAAQC,IAAI,eAAgBwB,KAAKP,OACjClB,QAAQC,IAAI,eAAgBwB,KAAKL,OAE/B,kBAACM,EAAA,EAAD,CACEC,GAAG,wBACHC,UAAU,YACVC,MAAM,UACN,kBAACC,EAAA,EAASC,KAAV,CAAeC,KAAK,KAApB,QACA,kBAACF,EAAA,EAASC,KAAV,CAAeC,KAAK,mBAApB,kBACCP,KAAKP,MAAMC,KACV,oCACE,kBAACW,EAAA,EAASC,KAAV,CAAeC,KAAK,eAApB,cACA,kBAACF,EAAA,EAASC,KAAV,CAAeC,KAAK,YAApB,WACA,kBAACF,EAAA,EAASG,QAAV,MACA,kBAACH,EAAA,EAASC,KAAV,CAAeG,QAAST,KAAKJ,cAA7B,WAGF,oCACE,kBAACS,EAAA,EAASC,KAAV,CAAeC,KAAK,UAApB,SACA,kBAACF,EAAA,EAASC,KAAV,CAAeC,KAAK,WAApB,gB,GAjCOG,IAAMC,WCFJC,E,iLAEjB,OACE,qD,GAH+BD,a,2CCEhBE,E,2MACnBpB,MAAQ,CACNhC,SAAU,GACVC,SAAU,GACVoD,QAAS,I,EAGXC,aAAe,SAACC,GAAW,IAAD,EACAA,EAAMC,OAAtBC,EADgB,EAChBA,KAAMC,EADU,EACVA,MAEd,EAAKC,SAAL,eACGF,EAAOC,K,EAIZE,aAAe,SAACL,GACdA,EAAMM,iBADkB,MAGO,EAAK7B,MAA5BhC,EAHgB,EAGhBA,SAAUC,EAHM,EAGNA,SAElBQ,EAAMT,EAAUC,GAAUG,MAAK,SAACE,GAC1BA,EAAK+C,QACP,EAAKM,SAAS,CACZN,QAAS/C,EAAK+C,QACdrD,SAAU,GACVC,SAAU,MAKZ,EAAKiC,MAAME,QAAQ9B,GACnB,EAAK4B,MAAMG,QAAQC,KAAK,U,wEAM5B,OACE,oCACE,qCACA,kBAACwB,EAAA,EAAD,CAAMC,SAAUxB,KAAKqB,cACnB,kBAACE,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,YAApB,eACA,kBAACJ,EAAA,EAAKK,QAAN,CACEC,KAAK,OACLX,KAAK,WACLC,MAAOnB,KAAKP,MAAMhC,SAClBqE,SAAU9B,KAAKe,aACfb,GAAG,cAGP,kBAACqB,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,YAApB,cACA,kBAACJ,EAAA,EAAKK,QAAN,CACEC,KAAK,WACLX,KAAK,WACLC,MAAOnB,KAAKP,MAAM/B,SAClBoE,SAAU9B,KAAKe,aACfb,GAAG,cAGNF,KAAKP,MAAMqB,SACV,kBAACiB,EAAA,EAAD,CAAOC,QAAQ,UAAUhC,KAAKP,MAAMqB,SAEtC,kBAACmB,EAAA,EAAD,CAAQJ,KAAK,UAAb,UAEF,uBAAGtB,KAAK,yCACN,sDAEF,uBAAGA,KAAK,2CACN,6D,GAtEyBI,aCCduB,E,2MACnBzC,MAAQ,CACNhC,SAAU,GACVC,SAAU,GACVoD,QAAS,I,EAGXC,aAAe,SAAAC,GAAU,IAAD,EACEA,EAAMC,OAAtBC,EADc,EACdA,KAAMC,EADQ,EACRA,MAEd,EAAKC,SAAL,eACGF,EAAOC,K,EAIZE,aAAe,SAAAL,GACbA,EAAMM,iBADgB,MAGS,EAAK7B,MAA5BhC,EAHc,EAGdA,SAAUC,EAHI,EAGJA,SAMlBF,EAAOC,EAAUC,GAAUG,MAAK,SAAAE,GAC1BA,EAAK+C,QACP,EAAKM,SAAS,CACZN,QAAS/C,EAAK+C,QACdrD,SAAU,GACVC,SAAU,MAKZ,EAAKiC,MAAME,QAAQ9B,GACnB,EAAK4B,MAAMG,QAAQC,KAAK,iB,wEAM5B,OACE,oCACE,sCACA,kBAACwB,EAAA,EAAD,CAAMC,SAAUxB,KAAKqB,cACnB,kBAACE,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,YAApB,eACA,kBAACJ,EAAA,EAAKK,QAAN,CACEC,KAAK,OACLX,KAAK,WACLC,MAAOnB,KAAKP,MAAMhC,SAClBqE,SAAU9B,KAAKe,aACfb,GAAG,cAGP,kBAACqB,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,YAApB,cACA,kBAACJ,EAAA,EAAKK,QAAN,CACEC,KAAK,WACLX,KAAK,WACLC,MAAOnB,KAAKP,MAAM/B,SAClBoE,SAAU9B,KAAKe,aACfb,GAAG,cAGNF,KAAKP,MAAMqB,SACV,kBAACiB,EAAA,EAAD,CAAOC,QAAQ,UAAUhC,KAAKP,MAAMqB,SAEtC,kBAACmB,EAAA,EAAD,CAAQJ,KAAK,UAAb,WAEF,uBAAGtB,KAAK,yCACN,mDAEF,uBAAGA,KAAK,2CACN,+D,GA1E0BG,IAAMC,WCFrBwB,E,2MACnB1C,MAAQ,CACN2C,MAAO,GACPC,OAAQ,I,mFAGW,IAAD,OL2Bb1E,IACJmB,IAAI,eACJjB,MAAK,SAACC,GACL,OAAOA,EAASC,QAEjBC,OAAM,SAACC,GACN,OAAOA,EAAIqE,QAAQvE,QKhCVF,MAAK,SAAC0E,GACfhE,QAAQC,IAAI+D,GACZ,EAAKnB,SAAS,CACZgB,MAAOG,EAAEH,MACTC,OAAQE,EAAEF,c,+BAOd,OADA9D,QAAQC,IAAIwB,KAAKP,OAEf,6BACE,yBAAKU,UAAU,WACb,yBAAKA,UAAU,cACb,uDAGF,yBAAKA,UAAU,UACb,yBAAKA,UAAU,SAASH,KAAKP,MAAM2C,OACnC,yBAAKjC,UAAU,UAAf,KAA2BH,KAAKP,MAAM4C,e,GA3Bd3B,IAAMC,W,QC+H3B6B,G,kNA5Hb/C,MAAQ,CACNC,KAAM,M,EAGR+C,kBAAoB,WAClB,EAAKrB,SAAS,CACZ1B,KAAM,EAAKC,MAAMD,Q,wEAMnB,OADAnB,QAAQC,IAAI,eAAgBwB,KAAKL,OAE/B,yBAAKQ,UAAU,eAKb,yBACEA,UAAU,OACVuC,MAAM,MACNC,OAAO,MACPC,QAAQ,cACRC,KAAK,OACLC,MAAM,6BACNC,WAAW,gCAEX,uBAAGC,OAAO,mBACR,0BACEC,EAAE,moCACFJ,KAAK,aAGT,0BACEI,EAAE,87BACFJ,KAAK,YAEP,0BAAMK,EAAE,KAAKC,EAAE,KAAKT,MAAM,KAAKC,OAAO,KAAKE,KAAK,mBAChD,8BACE,4BACE3C,GAAG,YACHgD,EAAE,WACFC,EAAE,WACFT,MAAM,UACNC,OAAO,SACPS,YAAY,iBACZC,8BAA4B,QAE5B,6BAASC,gBAAc,IAAIC,OAAO,uBAClC,oCAAgBC,GAAG,kBAAkBC,aAAa,MAClD,iCACEC,IAAI,cACJC,SAAS,KACTJ,OAAO,2BAET,6BACEK,KAAK,SACLJ,GAAG,gBACHE,IAAI,yBACJH,OAAO,WAGX,6BACErD,GAAG,WACH2D,oBAAoB,oBACpBnB,MAAM,IACNC,OAAO,KAEP,yBACEmB,UAAU,UACVC,UAAU,iDAGd,2BACE7D,GAAG,SACHwC,MAAM,KACNC,OAAO,KACPmB,UAAU,q2DAKhB,yBAAK3D,UAAU,UACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,cACb,4CACA,2CACA,oDAIN,oCACE,2BACE,uBACEA,UAAU,gEACVI,KAAK,kBACLyD,KAAK,UAHP,iBAUF,yBAAK7D,UAAU,oBACb,2BACE,kBAAC,IAAD,CAAMA,UAAU,uBAAuB8D,GAAG,WAA1C,uBAIF,2BACE,kBAAC,IAAD,CAAM9D,UAAU,sBAAsB8D,GAAG,UAAzC,YAMLjE,KAAKP,MAAMqB,SACV,kBAACiB,EAAA,EAAD,CAAOC,QAAQ,UAAUhC,KAAKP,MAAMqB,c,GAtH3BH,c,SCiKJuD,E,2MA3JbzE,MAAQ,CACN0E,gBAAgB,EAChBC,SAAU,KACVC,aAAc,EAAK1E,MAAM0E,aACzBC,eAAgB,M,EAElBC,mBAAqB,SAAAD,GACnB,EAAKlD,SAAS,CAAEkD,mBAChB/F,QAAQC,IAAR,mBAAgC8F,I,wEAILtE,KAAKP,MAAxB6E,eACR,OACE,yBAAKnE,UAAU,iBACb,yCACA,0BAAMqB,SAAUxB,KAAKL,MAAM6E,oBACzB,6BACE,2BACE3C,KAAK,WACLX,KAAK,WACLhB,GAAG,WACHuE,QAASzE,KAAKL,MAAM0E,aAAaK,SACjC5C,SAAU9B,KAAKL,MAAMgF,qBAEvB,2BAAOhD,QAAQ,YAAf,QACA,6BACA,2BACEE,KAAK,WACLX,KAAK,YACLhB,GAAG,YACHuE,QAASzE,KAAKL,MAAM0E,aAAaO,UACjC9C,SAAU9B,KAAKL,MAAMgF,qBAEvB,2BAAOhD,QAAQ,aAAf,UAEF,6BACE,kBAAC,IAAD,CACER,MAAOnB,KAAKL,MAAM0E,aAAaQ,WAC/B/C,SAAU9B,KAAKL,MAAM4E,mBACrBO,QAAS9E,KAAKL,MAAMoF,qBA4BxB,6BACE,4CACA,2BAAOpD,QAAQ,aAAf,SACA,2BACEE,KAAK,OACL3B,GAAG,YACHgB,KAAK,YACLC,MAAOnB,KAAKL,MAAM0E,aAAaW,UAC/BlD,SAAU9B,KAAKL,MAAMgF,qBACvB,2BAAOhD,QAAQ,aAAf,OACA,2BACEE,KAAK,OACL3B,GAAG,UACHgB,KAAK,UACLC,MAAOnB,KAAKL,MAAM0E,aAAaY,QAC/BnD,SAAU9B,KAAKL,MAAMgF,sBAEzB,0CACA,yBAAKO,MAAO,CAAEC,QAAS,SACrB,yBAAKD,MAAO,CAAEE,KAAM,MAClB,2BACEvD,KAAK,WACLX,KAAK,aACLhB,GAAG,aACHuE,QAASzE,KAAKL,MAAM0E,aAAagB,WACjCvD,SAAU9B,KAAKL,MAAMgF,qBAEvB,2BAAOhD,QAAQ,cAAf,iBARF,IAQoD,6BAClD,2BACEE,KAAK,WACLX,KAAK,cACLhB,GAAG,cACHuE,QAASzE,KAAKL,MAAM0E,aAAaiB,YACjCxD,SAAU9B,KAAKL,MAAMgF,qBAEvB,2BAAOhD,QAAQ,eAAf,kBAhBF,IAgBsD,6BACpD,2BACEE,KAAK,WACLX,KAAK,SACLhB,GAAG,SACHuE,QAASzE,KAAKL,MAAM0E,aAAakB,OACjCzD,SAAU9B,KAAKL,MAAMgF,qBAEvB,2BAAOhD,QAAQ,UAAf,UAxBF,IAwByC,6BACvC,2BACEE,KAAK,WACLX,KAAK,QACLhB,GAAG,QACHuE,QAASzE,KAAKL,MAAM0E,aAAamB,MACjC1D,SAAU9B,KAAKL,MAAMgF,qBAEvB,2BAAOhD,QAAQ,SAAf,UAEF,yBAAKuD,MAAO,CAAEE,KAAM,MAClB,2BACEvD,KAAK,WACLX,KAAK,QACLhB,GAAG,QACHuE,QAASzE,KAAKL,MAAM0E,aAAaoB,MACjC3D,SAAU9B,KAAKL,MAAMgF,qBAEvB,2BAAOhD,QAAQ,SAAf,SARF,IAQuC,6BACrC,2BACEE,KAAK,WACLX,KAAK,SACLhB,GAAG,SACHuE,QAASzE,KAAKL,MAAM0E,aAAaqB,OACjC5D,SAAU9B,KAAKL,MAAMgF,qBAEvB,2BAAOhD,QAAQ,UAAf,UAhBF,IAgByC,6BACvC,2BACEE,KAAK,WACLX,KAAK,QACLhB,GAAG,QACHuE,QAASzE,KAAKL,MAAM0E,aAAasB,MACjC7D,SAAU9B,KAAKL,MAAMgF,qBAEvB,2BAAOhD,QAAQ,SAAf,WAGJ,kBAACM,EAAA,EAAD,CAAQJ,KAAK,UAAb,uB,GArJYlB,a,iBCcPiF,EArBE,SAAAjG,GAEf,OACE,6BACI,kBAAC,IAAD,CACEkG,SAAUlG,EAAM5B,KAAK8H,SACrBC,UAAWnG,EAAM5B,KAAK+H,UACtBC,cAAc,EACdC,WAAW,EACXC,WAAY,GACZC,YAAa,IACb,yBAAK/F,UAAU,aAAaM,QACpB,WAAKd,EAAMwG,UAAUxG,EAAM5B,QAEjC,yBAAKqI,IAAI,uBAAuBC,IAAI,Y,qkBCb3BC,E,2MACnB7G,MAAQ,CACN8G,eAAgB,EAAK5G,MAAM5B,KAC3ByI,gBAAiB,EACjBC,kBAAmB,KACnBC,YAAa,M,EAGfjE,kBAAoB,WACd,EAAKhD,MAAM8G,iBAAmB,EAAK9G,MAAMiH,aAC3C,EAAKC,iBACF,EAAKlH,MAAMgH,mBAAmB,EAAKG,wB,EAG1CC,WAAa,WACX,IAAMC,EAAK,YAAO,EAAKrH,MAAM8G,eAAeO,OACtCC,EAAS,EAAKpH,MAAMD,KAAKsH,IAC1BF,EAAMG,SAASF,GAGlBD,EAAMI,OAAOJ,EAAMK,QAAQJ,GAAS,GAFpCD,EAAM/G,KAAK,EAAKJ,MAAMD,KAAKsH,KAI7B,IAAM7H,EAAQ,EAAKM,MAAM8G,eAAeS,IACxCrJ,IAAM0B,IAAN,mBAAsBF,GAAS,CAAE2H,UAASjJ,MAAK,SAAAC,GAC7CS,QAAQC,IAAIV,GACZ,EAAKsD,SAAS,CACZmF,eAAe,EAAD,GAAOzI,EAASC,KAAhB,CAAsB+I,MAAOhJ,EAASC,KAAK+I,c,EAK/DM,iBAAmB,SAAApG,GAAU,IAAD,EACqB,EAAKvB,MAA5C+G,EADkB,EAClBA,gBAAiBC,EADC,EACDA,kBACrBY,EAAcb,EACQ,aAAtBxF,EAAMC,OAAOC,MAAuBsF,EAAkB,IACxDa,GAAe,GAEO,SAAtBrG,EAAMC,OAAOC,MACbsF,EAAkBC,EAAkBa,OAAS,IAE7CD,GAAe,GACjB,IAAME,EAAad,EAAkBY,GACrC,EAAKjG,SAAS,CACZoF,gBAAiBa,EACjBd,eAAgBgB,K,EAIpBX,qBAAuB,WACrBjJ,IACGmB,IADH,aAEGjB,MAAK,SAAAC,GACJS,QAAQC,IAAIV,GADI,MAEgB,EAAK2B,MAAM8G,eAAnCV,EAFQ,EAERA,SAAUC,EAFF,EAEEA,UACZW,EAAoB3I,EAASC,KAAKiF,QAAO,SAAAwE,GAC7C,OAAOA,EAAI3B,WAAaA,GAAY2B,EAAI1B,YAAcA,KAExD,EAAK1E,SAAS,CACZqF,yBAGHzI,OAAM,SAAAC,GACuB,MAAxBA,EAAIH,SAAS2J,QACf,EAAKrG,SAAS,CAAEsG,MAAO,kB,EAK/Bf,eAAiB,WACf,IAAMgB,EAAY,EAAKlI,MAAM8G,eAAeqB,QAC5CjK,IACGmB,IADH,oBACoB6I,IACjB9J,MAAK,SAAAC,GACJ,EAAKsD,SAAS,CACZsF,YAAa5I,EAASC,UAGzBC,OAAM,SAAAC,GACuB,MAAxBA,EAAIH,SAAS2J,QACf,EAAKrG,SAAS,CAAEsG,MAAO,kB,wEAKrB,IAAD,OACPnJ,QAAQC,IAAIwB,KAAKL,MAAOK,KAAKP,OAC7BlB,QAAQC,IAAIwB,KAAKL,MAAMD,MACvB,IASM6G,EAAiBvG,KAAKP,MAAM8G,eAClChI,QAAQC,IAAI+H,GACZ,IAAMG,EAAc1G,KAAKP,MAAMiH,YAC/B,IAAKH,EAAgB,OAAO,qCAC5B,IAAMsB,KAAS7H,KAAKL,MAAMD,OAAM6G,EAAeO,MAAMG,SAASjH,KAAKL,MAAMD,KAAKsH,MAGxEc,EAAYD,EAAQ,aAAe,WACzC,OACE,yBAAK1H,UAAU,eACb,yBACEA,UAAU,oBACViG,IAAKG,EAAewB,SACpB1B,IAAI,KAEN,yBAAKlG,UAAU,kBACZH,KAAKP,MAAMiH,aAAe,yCAAeA,EAAYjJ,UACtD,6BACGuC,KAAKL,MAAMD,KACZ,4BAAQS,UAAW2H,EAAWrH,QAAS,kBAAM,EAAKoG,eAC/CgB,EAAQ,8CAAc,6CACd,+CACVtB,EAAeO,MAAMQ,SAGzBtH,KAAKP,MAAMgH,mBACVzG,KAAKP,MAAMgH,kBAAkBa,OAAS,GACpC,yBAAKnH,UAAU,kBACb,4BAAQe,KAAK,WAAWT,QAAST,KAAKoH,kBAAtC,YAGA,4BAAQlG,KAAK,OAAOT,QAAST,KAAKoH,kBAAlC,SAKN,yBAAKjH,UAAU,kBACb,4BAAKoG,EAAenG,OACnBmG,EAAeyB,cAAgB,2BAAIzB,EAAeyB,eAErD,yBAAK7H,UAAU,kBACb,yCACA,4BAnDkB,CACtBkF,WAAY,gBACZC,YAAa,iBACbG,MAAO,QACPC,OAAQ,iBACRF,MAAO,QACPD,OAAQ,SACR0C,OAAQ,UA4CiB1B,EAAe2B,YAEtC,yBAAK/H,UAAU,YACb,2BACE,iDACCoG,EAAe4B,cAGpB,yBAAKhI,UAAU,YACb,2BACE,kDACCoG,EAAe6B,aAGpB,yBAAKjI,UAAU,YACb,2BACE,6CACCoG,EAAe8B,WAAWC,MAAM,EAAG,MAGxC,6BACE,kBAACrG,EAAA,EAAD,CAAQxB,QAAST,KAAKL,MAAM4I,cAA5B,qB,GA/J8B5H,a,mkBCuIzB6H,E,2MA9Hb/I,MAAQ,CACNgJ,SAAU,CACR/F,MAAO,OACPC,OAAQ,QACRkD,SAAU,UACVC,UAAW,UACX4C,KAAM,GAERC,gBAAiB,EAAKhJ,MAAMgJ,gBAC5BC,gBAAgB,G,EAGlBzC,UAAY,SAAA0C,GACV,EAAKzH,SAAS,CACZuH,gBAAgB,KACXE,M,EAKTN,aAAe,WACb,EAAKnH,SAAS,CACZwH,gBAAgB,EAChBD,gBAAiB,Q,EAIrBG,YAAc,WACZ,EAAK1H,SAAS,CACZwH,gBAAgB,K,EAIpBG,gBAAkB,WAChBC,UAAUC,YAAYC,oBAAmB,SAAAC,GACvC,IAAIC,EAAe,CACjBC,IAAKF,EAASG,OAAOzD,SACrB0D,KAAMJ,EAASG,OAAOxD,WAExB,EAAK1E,SAAS,CACZqH,SAAS,KACJ,EAAKhJ,MAAMgJ,SADR,CAEN5C,SAAUuD,EAAaC,IACvBvD,UAAWsD,EAAaG,a,EAMhCC,YAAc,WAAO,IACXb,EAAoB,EAAKlJ,MAAzBkJ,gBACR,OACEA,GACE,kBAAC,IAAD,CACExI,UAAU,YACVsJ,QAAS,EACTC,OAAO,MACP7D,SAAU8C,EAAgB9C,SAC1BC,UAAW6C,EAAgB7C,UAC3B6D,cAAc,EACdC,QAAS,kBAAM,EAAKxI,SAAS,CAAEuH,gBAAiB,SAChD,6BACE,yBACExI,UAAU,gBACViG,IAAKuC,EAAgBZ,SACrB1B,IAAI,KAEN,uBAAGlG,UAAU,mBAAmBwI,EAAgBvI,OAChD,uBAAGD,UAAU,kBACVwI,EAAgBN,WAAWC,MAAM,EAAG,KAEvC,4BAAQ7H,QAAS,EAAKqI,YAAa3I,UAAU,kBAA7C,c,wEASA,IAAD,OACD0J,EAAe7J,KAAKL,MAAMmK,KAAKC,KAAI,SAAAvC,GACvC,OAAO,kBAAC,EAAD,CAAUwC,IAAKxC,EAAIR,IAAKjJ,KAAMyJ,EAAKrB,UAAW,EAAKA,eAG5D,OADAnG,KAAK+I,kBAEH,yBAAK7D,MAAO,CAAE+E,OAAQ,oBACnBjK,KAAKP,MAAMmJ,gBACV,oCACE,kBAAC,EAAD,CACE7K,KAAMiC,KAAKP,MAAMkJ,gBACjBjJ,KAAMM,KAAKL,MAAMD,KACjB6I,aAAcvI,KAAKuI,gBAIzB,kBAAC,IAAD,iBACMvI,KAAKP,MAAMgJ,SADjB,CAEEyB,iBAAkB,SAAAzB,GAAQ,OACxB,EAAKrH,SAAS,CACZqH,SAAUA,KAGd0B,qBAAsBC,yFACtBC,SAAS,qCACTC,oBAAoB,EACpBC,iBAAiB,IACjB,yBAAKrF,MAAO,CAAEiE,SAAU,WAAYqB,MAAO,MAAOC,IAAK,SACrD,kBAAC,IAAD,CACEP,iBAAkB,SAAAzB,GAAQ,OAAI,EAAKrH,SAAS,CAAEqH,iBAGlD,yBAAKvD,MAAO,CAAEiE,SAAU,WAAYqB,MAAO,MAAOC,IAAK,QACrD,kBAAC,IAAD,CACEC,gBAAiB,CAAEC,oBAAoB,GACvCC,mBAAmB,KAGtBf,EACA7J,KAAKwJ,oB,GAxHM7I,a,yjBCNtB,IAAMoE,EAAoB,CACxB,CAAE5D,MAAO,MAAO0J,MAAO,OACvB,CAAE1J,MAAO,QAAS0J,MAAO,SACzB,CAAE1J,MAAO,OAAQ0J,MAAO,SA8GXC,E,2MA1GbrL,MAAQ,CACN0E,gBAAgB,EAChBC,SAAU,KACV2G,cAAe,KACfpC,gBAAiB,KACjBtE,aAAc,CACZK,UAAU,EACVE,WAAW,EACXC,WAAY,MACZG,UAAW,aACXC,QAAS,aACTI,YAAY,EACZC,aAAa,EACbC,QAAQ,EACRC,OAAO,EACPC,OAAO,EACPC,QAAQ,EACRuC,QAAQ,I,EAIZ+C,YAAc,WACZrN,IAAMmB,IAAI,YAAYjB,MAAK,SAAAiM,GACzBvL,QAAQC,IAAIsL,EAAK/L,MACjB,EAAKqD,SAAS,CACZgD,SAAU0F,EAAK/L,KACfgN,cAAejB,EAAK/L,W,EAK1BkN,WAAW,SAAAjK,GACTA,EAAMM,iBACN,IAAM0B,EAAS,EAAKvD,MAAM4E,aACtB6G,EAAe,EAAKzL,MAAM2E,SAASpB,QAAO,SAAAwE,GAC1C,OACExE,EAAO0B,WACsB,QAA5B1B,EAAO6B,WAAW1D,OACY,UAA5B6B,EAAO6B,WAAW1D,OAAmBqG,EAAIV,MAAMG,SAAS,EAAKtH,MAAMD,KAAKsH,MAC5C,SAA5BhE,EAAO6B,WAAW1D,OAAkBqG,EAAII,UAAU,EAAKjI,MAAMD,KAAKsH,OAC5C,IAAzBhE,EAAOwE,EAAIU,WACXlF,EAAOgC,WAAawC,EAAIa,WAAWC,MAAM,EAAG,KAC5Cd,EAAIa,WAAWC,MAAM,EAAG,KAAOtF,EAAOiC,WAG1C,EAAK7D,SAAS,CACZ2J,cAAeG,EACf/G,gBAAgB,EAChBwE,gBAAiB,Q,EAIvBlG,kBAAoB,WACb,EAAKhD,MAAM2E,UAAU,EAAK4G,e,EAGjCzG,mBAAqB,SAAAM,GACnB,EAAKzD,SAAS,CAAEiD,aAAa,KAAI,EAAK5E,MAAM4E,aAAhB,CAA8BQ,WAAWA,MACrEtG,QAAQC,IAAR,mBAAgCqG,I,EAGlC9D,aAAe,SAAAC,GACbzC,QAAQC,IAAIwC,EAAMC,QAClB,IAAMC,EAAOF,EAAMC,OAAOC,KACpBC,EACkB,aAAtBH,EAAMC,OAAOY,KACTb,EAAMC,OAAOwD,QACdzD,EAAMC,OAAOE,MAClB,EAAKC,SAAS,CACZiD,aAAa,KAAM,EAAK5E,MAAM4E,aAAlB,eAAiCnD,EAAOC,O,EAIxDgK,cAAgB,WACd,IAAMhH,GAAiB,EAAK1E,MAAM0E,eAClC,EAAK/C,SAAS,CACZ+C,oB,wEAMF,OADA5F,QAAQC,IAAI,iBAAiBwB,KAAKP,MAAM4E,cACpCrE,KAAKP,MAAMsL,cAEb,yBAAK5K,UAAU,kBACZH,KAAKP,MAAM0E,eACV,oCACE,kBAAC,EAAD,CACEQ,mBAAoB3E,KAAKe,aACzBwD,mBAAoBvE,KAAKuE,mBACzBC,mBAAoBxE,KAAKiL,WACzBlG,kBAAmBA,EACnBV,aAAcrE,KAAKP,MAAM4E,gBAI7B,kBAACpC,EAAA,EAAD,CAAQ9B,UAAU,uBAAuBM,QAAST,KAAKmL,eACrD,uBAAGhL,UAAU,mBAGjB,kBAAC,EAAD,CAAS2J,KAAM9J,KAAKP,MAAMsL,cAAerL,KAAMM,KAAKL,MAAMD,KAAMiJ,gBAAiB3I,KAAKP,MAAMkJ,mBAlB3D,yC,GAnFbhI,a,kBCJPyK,E,2MACnB3L,MAAQ,CACNC,KAAM,EAAKC,MAAMD,KACjB2L,YAAa,I,EAsBfC,eAAiB,WACf3N,IAAMmB,IAAN,oBAAuB,EAAKa,MAAMD,KAAKsH,MAAOnJ,MAAK,SAAAiM,GACjDvL,QAAQC,IAAIsL,EAAK/L,MACjB,EAAKqD,SAAS,CACZiK,YAAavB,EAAK/L,W,EAKxBwN,mBAAqB,WACnB,OACE,kBAACC,EAAA,EAAD,KACG,EAAK/L,MAAM4L,YAAYtB,KAAI,SAAAvC,GAAG,OAC7B,kBAACgE,EAAA,EAASlL,KAAV,CAAe0J,IAAKxC,EAAIR,KACtB,yBACE7G,UAAU,gBACV+E,MAAO,CAAEvC,OAAQ,OAAQ8I,UAAW,SACpCrF,IAAKoB,EAAIO,SACT1B,IAAI,QAEN,kBAACmF,EAAA,EAASE,QAAV,KACE,wBAAIxG,MAAO,CAAEyG,WAAY,MAAQnE,EAAIpH,OACrC,uBAAG8E,MAAO,CAAEyG,WAAY,MAAQnE,EAAIQ,cACpC,uBACE7H,UAAU,+DACVI,KAAI,eAAUiH,EAAIR,MAFpB,kB,mFA1CS,IAAD,OAEbhH,KAAKP,MAAMC,OACdnB,QAAQC,IAAI,UAAWwB,KAAKL,MAAMD,KAAK3B,MACvCiC,KAAKoB,SACH,CACE1B,KAAMM,KAAKL,MAAMD,KAAK3B,OAExB,kBAAMQ,QAAQC,IAAI,gBAAiB,EAAKiB,WAG5CO,KAAKsL,mB,wCAGWvE,GAChBxI,QAAQC,IAAI,UACZb,IAAM0B,IAAI,2BAA4B,CAAEa,GAAI6G,M,+BAuCpC,IAAD,OACPxI,QAAQC,IAAIwB,KAAKP,MAAM4L,aACvB,IAAM3L,EAAOM,KAAKP,MAAMC,KACxB,IAAKA,EACH,OACE,oCACE,uDACA,yCAIN,IAAMkM,EAAclM,EAAKmM,UAAU5E,SAASvH,EAAKjC,UACjD,OACE,yBAAK0C,UAAU,8BACb,6BACE,4BAAKT,EAAKjC,UACTiC,EAAKjC,WAAaiC,EAAKjC,UACtB,kBAAC,IAAD,CACE0C,UAAU,kEACVM,QAAS,SAAAO,GAAK,OAAI,EAAK8K,kBAAkBpM,EAAKsH,OAE7C4E,EAAc,WAAa,WAIlC,6BACE,yBAAKxF,IAAI,oBAAoBC,IAAI,MAGnC,kBAAC,IAAD,CAAMpC,GAAG,mBACP,kBAAC,IAAD,CAAQjC,QAAQ,YAAYH,KAAK,UAAjC,sBAKF,6BACE,qCAAWnC,EAAKqM,OAChB,yCAAerM,EAAKsM,WACpB,yCAAetM,EAAKmM,YAEtB,6BACE,yCAAenM,EAAKuM,YACpB,wCAAcvM,EAAKwM,WAErB,6BACE,wCACA,2BAAIxM,EAAKyM,kBAEX,6BACE,iDACCnM,KAAKuL,sBAER,0C,GAjH6B5K,a,2FCWhByL,G,2MACnB3M,MAAQ,CACNhC,SAAU,EAAKkC,MAAMD,KAAKjC,SAC1B4O,WAAY,EAAK1M,MAAMD,KAAK2M,WAC5BF,gBAAiB,EAAKxM,MAAMD,KAAKyM,iB,EAGnCpL,aAAe,SAAAC,GACb,IAAME,EAAOF,EAAMC,OAAOC,KACpBC,EAAQH,EAAMC,OAAOE,MAFL,EAI4B,EAAK1B,MAJjC,EAIdhC,SAJc,EAIJ4O,WAJI,EAIQF,gBAE9B,EAAK/K,SAAL,eACGF,EAAOC,K,EASZE,aAAe,SAAAL,GACbA,EAAMM,iBAEN3D,IACG2O,MAAM,mBAAoB,CACzB7O,SAAU,EAAKgC,MAAMhC,SACrB4O,WAAY,EAAK5M,MAAM4M,WACvBF,gBAAiB,EAAK1M,MAAM0M,kBAE7BtO,MAAK,SAAAC,GACJ,EAAK6B,MAAME,QAAQ/B,EAASC,MAC5B,EAAK4B,MAAMG,QAAQC,KAAK,eAEzB/B,OAAM,SAAAC,GACLM,QAAQC,IAAIP,O,wEAMhB,OADAM,QAAQC,IAAIwB,KAAKP,MAAMhC,UAErB,oCACE,kBAAC8D,EAAA,EAAKE,MAAN,KACE,qCAAWzB,KAAKL,MAAMD,KAAKjC,WAE7B,kBAAC8O,GAAA,EAAD,CAAa/K,SAAUxB,KAAKqB,cAC1B,kBAACE,EAAA,EAAKE,MAAN,KACE,kBAAC+K,GAAA,EAAD,CAAY7K,QAAQ,sCAApB,yBAGA,kBAAC8K,EAAA,EAAD,CACEvM,GAAG,4BACH4B,SAAU9B,KAAKe,aACf2L,YAAa1M,KAAKL,MAAMD,KAAKjC,SAE7ByD,KAAK,WACLC,MAAOnB,KAAKP,MAAMhC,SAClBkP,eACE,kBAACC,GAAA,EAAD,CAAgBzD,SAAS,SACvB,kBAAC,KAAD,UAMR,kBAAC5H,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,oBACpB,kBAACkL,GAAA,EAAD,CACE3M,GAAG,4BACH2K,MAAM,oBACNiC,WAAS,EACTC,KAAK,IACLC,aAAa,OACbN,YAAa1M,KAAKL,MAAMD,KAAKyM,gBAG7BnK,QAAQ,cAWZ,kBAACT,EAAA,EAAKE,MAAN,KACE,kBAAC,IAAD,CACEI,KAAK,SACLG,QAAQ,YACRiL,KAAK,QACLC,OAAO,mBACPC,UAAW,kBAAC,KAAD,OALb,SAWF,kBAAC5L,EAAA,EAAKE,MAAN,KACE,kBAAC,IAAD,CAAMwC,GAAG,YACP,kBAAC,IAAD,CAAQjC,QAAQ,YAAYH,KAAK,UAAjC,uBAKJ,kBAACN,EAAA,EAAKE,MAAN,KACE,kBAAC,IAAD,CAAMwC,GAAG,mBACP,kBAAC,IAAD,CAAQjC,QAAQ,YAAYH,KAAK,UAAjC,0B,GA/G6BlB,aCY5ByM,G,2MA3BbC,QAAU,YAA6D,IAA1D3K,EAAyD,EAAzDA,MAAOC,EAAkD,EAAlDA,OAAQ2K,EAA0C,EAA1CA,IAAKC,EAAqC,EAArCA,WAAYC,EAAyB,EAAzBA,QAAyB,KAAhBC,UAMhD,EAAK9N,OAJP+N,EAFkE,EAElEA,OAFkE,IAGlEC,aAHkE,MAG1D,MAH0D,MAIlEC,iBAJkE,MAItD,EAJsD,MAKlEC,2BALkE,SAOpEP,EAAIQ,UAAU,EAAG,EAAGpL,EAAOC,GAC3B2K,EAAIS,yBAA2B,WAE1BF,GAAwBN,IAAeG,IAC1CJ,EAAIM,UAAYA,EAChBN,EAAIU,YAAcL,EAClBL,EAAIW,YACJP,EAAOQ,SAAQ,SAAAC,GACb,IAAMC,EAAQZ,EAAQ,CAACW,EAAM,GAAIA,EAAM,KACvCb,EAAIe,OAAOD,EAAM,GAAIA,EAAM,OAE7Bd,EAAIgB,W,wEAKN,OAAO,kBAAC,IAAD,CAAeC,OAAQvO,KAAKqN,c,GAxBT1M,aCoBfiF,GApBE,SAAAjG,GACf,IAAM6O,EAAY7O,EAAM5B,KAAK8H,SAAS4I,QAAQ,GAAK,IAAM9O,EAAM5B,KAAK+H,UAAU2I,QAAQ,GACtF,OACE,6BACI,kBAAC,IAAD,CACE5I,SAAUlG,EAAM5B,KAAK8H,SACrBC,UAAWnG,EAAM5B,KAAK+H,UACtBC,cAAc,EACdC,WAAW,EACXC,WAAY,GACZC,YAAa,IACb,yBAAK/F,UAAU,aAAaM,QAAS,WAAKd,EAAM+O,UAAUF,KACxD,yBAAKpI,IAAI,uBAAuBC,IAAI,YC0FjCsI,G,2MAlGblP,MAAQ,CACNgJ,SAAU,CACR/F,MAAO,QACPC,OAAQ,QACRkD,SAAU,UACVC,UAAW,UACX4C,KAAM,GAERtE,SAAU,KACVwK,WAAY,GACZlB,OAAQ,I,EAOV1C,YAAc,WACZrN,IAAMmB,IAAI,YAAYjB,MAAK,SAAAiM,GACzB,EAAK1I,SAAS,CACZgD,SAAU0F,EAAK/L,W,EAKrB8Q,aAAe,SAAAC,GACbvQ,QAAQC,IAAI,WACZ,IAAMuQ,EAAgB,EAAKtP,MAAMmP,WACjCG,EAAchP,KAAK+O,GACnB,EAAK1N,SAAS,CACZwN,WAAYG,K,EAIhBC,SAAW,WACT,IACMR,EAAc,EAAK/O,MAAMmP,WAAWK,KAAK,KAE3CC,EAAI,uDAAD,OAAyDV,EAAzD,mHACC,8DAA0DA,EAA1D,8BAJqBpE,0FAK7BzM,IACGmB,IAAIoQ,GACJrR,MAAK,SAAAC,GACJS,QAAQC,IAAI,kBAAmBV,EAASC,MACxC,IAAM2P,EAAS5P,EAASC,KAAKoR,OAAO,GAAGC,KAAK,GAAGC,MAAMC,QACnD,SAACC,EAAKC,GACJjR,QAAQC,IAAI,QAAS+Q,GACrB,IAAME,EAAUD,EAAIE,cAAc,GAAGC,SAErC,OADApR,QAAQC,IAAI,cAAciR,GACnBF,EAAIK,OAAO,CAACH,MAErB,IACFlR,QAAQC,IAAI,WAAWkP,GACvB,EAAKtM,SAAS,CACZsM,cAGH1P,OAAM,SAAAC,GACLM,QAAQC,IAAIP,O,mFA5CX+B,KAAKP,MAAM2E,UAAUpE,KAAKgL,gB,+BAgDvB,IAAD,OAEHnB,EAAe,GAUnB,OATAtL,QAAQC,IAAIwB,KAAKP,MAAMmP,YACnB5O,KAAKP,MAAM2E,WACbyF,EAAe7J,KAAKP,MAAM2E,SAAS2F,KAAI,SAAAvC,GACrC,OACI,kBAACqI,GAAD,CAAY7F,IAAKxC,EAAIR,IAAKjJ,KAAMyJ,EAAKkH,UAAW,EAAKG,mBAI7DtQ,QAAQC,IAAIwB,KAAKP,MAAMmP,YAErB,6BACE,6CACA,4BAAQnO,QAAST,KAAKgP,UAAtB,aACA,kBAAC,IAAD,iBACMhP,KAAKP,MAAMgJ,SADjB,CAEEyB,iBAAkB,SAAAzB,GAAQ,OACxB,EAAKrH,SAAS,CACZqH,SAAUA,KAGd0B,qBAAsBC,yFACtBC,SAAS,qCACTC,oBAAoB,EACpBC,iBAAiB,IAChBvK,KAAKP,MAAMiO,QAAU,kBAAC,GAAD,CAAiBA,OAAQ1N,KAAKP,MAAMiO,SACzD7D,Q,GA3FelJ,a,2BCHLmP,G,2MACnBrQ,MAAQ,CACNsQ,gBAAiB,M,EAGnB/E,YAAc,WACZrN,IAAMmB,IAAI,YAAYjB,MAAK,SAAAiM,GACzBvL,QAAQC,IAAIsL,EAAK/L,MACjBQ,QAAQC,IAAI,EAAKmB,MAAMqI,cACvB,IAAIgI,EAAUlG,EAAK/L,KAAKiF,QAAO,SAAAwE,GAC7B,IAAIyI,EAAQ,EAOZ,GANA,EAAKtQ,MAAMqI,aAAakI,MAAM,KAAKhC,SAAQ,SAAAiC,IACE,IAAvC3I,EAAIQ,aAAab,QAAQgJ,KAC3BF,IACA1R,QAAQC,IAAIyR,OAGZA,GAAS,EAAG,OAAO,KAEzB1R,QAAQC,IAAIwR,GACZ,EAAK5O,SAAS,CACZ2O,gBAAiBC,Q,EAKvBI,sBAAwB,SAAAZ,GACtBjR,QAAQC,IAAIgR,GACZ,EAAK7P,MAAM0Q,aAAa,CACtBxK,SAAU2J,EAAI3J,SACdC,UAAW0J,EAAI1J,UACfkC,aAAcwH,EAAIxH,eAEpB,EAAKrI,MAAM2Q,SAAS,kB,EAGtBC,qBAAuB,WACrB,EAAK5Q,MAAM2Q,SAAS,iB,EAGtB7N,kBAAoB,WACb,EAAKhD,MAAM2E,UAAU,EAAK4G,e,wEAEvB,IAAD,OAEP,OADAzM,QAAQC,IAAIwB,KAAKP,MAAM2E,UAErB,6BACE,wBAAIjE,UAAU,iBAAd,sCAE+B,MAA9BH,KAAKP,MAAMsQ,iBACV/P,KAAKP,MAAMsQ,gBAAgBhG,KAAI,SAAAyF,GAAG,OAChC,yBAAKrP,UAAU,OAAO6J,IAAKwF,EAAIxI,KAC7B,6BACE,2BAAIwI,EAAIpP,OACR,2BAAIoP,EAAIxH,eAEV,6BACE,4BAAQvH,QAAS,kBAAM,EAAK2P,sBAAsBZ,KAAlD,kBAOR,yBAAKrP,UAAU,QACb,6BACE,yDACA,qDAEF,6BACE,4BAAQM,QAAST,KAAKuQ,sBAAtB,eAGJ,iE,GAzEgC5P,a,6jBCWjC,IA2JQ6P,GA3Jf,2MACE/Q,MAAQ,CACNgJ,SAAU,CACR/F,MAAO,OACPC,OAAQ,QACRkD,SAAU,UACVC,UAAW,UACX4C,KAAM,EACN+H,QAAS,EACTC,MAAO,GAETC,OAAQ,CACNC,eAAe,EACf/K,SAAU,UACVC,UAAW,YAdjB,EAmBEtE,SAAW,SAAAR,GACTA,EAAMM,iBACN,IAAI0G,EAAe,GACnBrK,IACGmB,IACC,4DAAqD,EAAKW,MAAMkR,OAAO7K,UAAvE,YAAoF,EAAKrG,MAAMkR,OAAO9K,SAAtG,uBACEuE,0FAEHvM,MAAK,SAAAC,GACJS,QAAQC,IAAIV,GACZkK,EAAelK,EAASC,KAAK8S,SAAS,GAAGC,WACzC,EAAKnR,MAAM0Q,aAAa,CACtBxK,SAAU,EAAKpG,MAAMkR,OAAO9K,SAC5BC,UAAW,EAAKrG,MAAMkR,OAAO7K,UAC7BkC,aAAcA,IAEhB,EAAKrI,MAAM2Q,SAAS,iBAErBtS,OAAM,SAAAC,GAAG,OAAIM,QAAQC,IAAI,oCAAsCP,OArCtE,EAwCE8S,qBAAuB,SAAAtI,GACrB,EAAKrH,SAAS,CACZqH,SAAS,MAAM,EAAKhJ,MAAMgJ,SAAlB,GAA+BA,MA1C7C,EA8CEuI,WAAa,SAACvI,EAAUwI,GACtB,EAAK7P,SAAS,CACZqH,SAAUA,EACVkI,OAAQ,CACN7K,UAAW2C,EAAS3C,UACpBD,SAAU4C,EAAS5C,aAnD3B,wEAwDY,IAAD,OAGP,OAFAtH,QAAQC,IAAIwB,KAAKP,MAAMkR,QACvBpS,QAAQC,IAAIwB,KAAKP,MAAMgJ,UAErB,oCACE,kBAAC,IAAD,iBACMzI,KAAKP,MAAMgJ,SADjB,CAEEyB,iBAAkB,SAAAzB,GAAQ,OACxB,EAAKrH,SAAS,CACZqH,SAAUA,EACVkI,OAAQ,CACN7K,UAAW2C,EAAS3C,UACpBD,SAAU4C,EAAS5C,aAIzBsE,qBAAsBC,yFACtBC,SAAS,qCACTC,oBAAoB,EACpBC,iBAAiB,EACjB2G,WAAY,SAAAlQ,GACV,EAAKI,SAAS,CAKZuP,OAAQ,CACN7K,UAAW9E,EAAMmQ,OAAO,GACxBtL,SAAU7E,EAAMmQ,OAAO,SAM7B,kBAAC,IAAD,CACEtL,SAAU7F,KAAKP,MAAMkR,OAAO9K,SAC5BC,UAAW9F,KAAKP,MAAMkR,OAAO7K,UAC7BG,WAAY,GACZC,YAAa,GACbH,cAAc,EACdC,WAAW,EACXoL,UAAW,SAAApQ,GAAK,OACd,EAAKI,SAAS,CACZuP,OAAQ,CACN7K,UAAW9E,EAAMmQ,OAAO,GACxBtL,SAAU7E,EAAMmQ,OAAO,QAK7B,yBAAKhR,UAAU,eAoBjB,yBAAK+E,MAAO,CAAEiE,SAAU,WAAYqB,MAAO,MAAOC,IAAK,SACrD,kBAAC,IAAD,CACEP,iBAAkB,SAAAzB,GAAQ,OAAI,EAAKrH,SAAS,CAAEqH,iBAGlD,yBAAKvD,MAAO,CAAEiE,SAAU,WAAYqB,MAAO,MAAOC,IAAK,QACrD,kBAAC,IAAD,CACEC,gBAAiB,CAAEC,oBAAoB,GACvCC,mBAAmB,KAGvB,6BACE,kBAAC,KAAD,CACET,qBAAsBC,yFACtB4G,WAAYhR,KAAKgR,WACjBvI,SAAUzI,KAAKP,MAAMgJ,SACrB4I,cAAc,KAGlB,yBAAKlR,UAAU,UACb,4BAAQM,QAAST,KAAKwB,UACpB,mEAnJd,GAA4Bb,aCZP2Q,G,iLAEjB,OACE,wD,GAHkC3Q,aCUnB4Q,I,yNACnB9R,MAAQ,CACNqB,QAAS,GACT0Q,WAAW,EACXC,OAAO,G,EAGTC,cAAgB,SAAC1Q,GAAW,IAAD,EACDA,EAAMC,OAAtBC,EADiB,EACjBA,KAAMC,EADW,EACXA,MACd5C,QAAQC,IAAIwC,EAAMC,OAAO0Q,aACzB,EAAKhS,MAAM0Q,aAAX,eACGnP,EAAOC,IAIVyQ,YAAW,WACT,EAAKxQ,SACH,CACEoQ,UAAW,EAAK7R,MAAMkS,gBAExB,kBAAMtT,QAAQC,IAAI,gBAAiB,EAAKiB,YAEzC,K,EAGLqS,aAAe,SAAC9Q,GACdA,EAAMM,iBACoB,QAAtBN,EAAMC,OAAOC,MACf,EAAKvB,MAAM2Q,SAAS,cACpB,EAAK3Q,MAAMoS,aAEX,EAAK3Q,SAAS,CACZN,QAAS,M,EAKfO,aAAe,SAACL,GACdA,EAAMM,iBACNN,EAAMgR,UACN,IAAMC,EAAQjR,EAAMC,OAAO8G,SAASkK,MAAM,GACpCC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,WAAYH,GAC9BtU,IACGC,KAAK,qBAAsBsU,GAC3BrU,MAAK,SAACC,GACL,EAAK6B,MAAM0Q,aAAa,CACtBtI,SAAUjK,EAASC,KAAKsU,aAE1B,EAAK1S,MAAM2Q,SAAS,cACpB,EAAK3Q,MAAMoS,eAEZ/T,OAAM,SAACC,GACN,EAAKmD,SAAS,CACZN,QAAS,yD,wEAMf,OACE,6BACE,kEACCd,KAAKL,MAAMqI,cACV,4BAAKhI,KAAKL,MAAMqI,aAAasK,UAAU,EAAG,IAA1C,OAGDtS,KAAKP,MAAMqB,SACV,6BACE,4BAAKd,KAAKP,MAAMqB,SAChB,4BAAQL,QAAST,KAAK8R,aAAc5Q,KAAK,OAAzC,OAGA,4BAAQT,QAAST,KAAK8R,aAAc5Q,KAAK,MAAzC,OAKJ,kBAACK,EAAA,EAAD,CAAMC,SAAUxB,KAAKqB,cACnB,kBAACE,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,SAApB,WACA,kBAACJ,EAAA,EAAKK,QAAN,CACE2Q,UAAQ,EACRzQ,SAAU9B,KAAK0R,cACf7P,KAAK,OACLX,KAAK,QACLhB,GAAG,QACHiB,MAAOnB,KAAKL,MAAMS,SAGtB,kBAACmB,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,eAApB,iBACA,kBAACJ,EAAA,EAAKK,QAAN,CACE2Q,UAAQ,EACRzQ,SAAU9B,KAAK0R,cACf7P,KAAK,OACLX,KAAK,cACLhB,GAAG,iBAGP,kBAACqB,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,YAApB,aACA,kBAACJ,EAAA,EAAKK,QAAN,CACE2Q,UAAQ,EACRzQ,SAAU9B,KAAK0R,cACfxQ,KAAK,WACLsR,GAAG,UAEH,4BAAQrR,MAAM,IAAd,qBACA,4BAAQA,MAAM,eAAd,iBACA,4BAAQA,MAAM,cAAd,iBACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,UAAd,YAGJ,kBAACI,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,cAApB,kBACA,kBAACJ,EAAA,EAAKK,QAAN,CACE2Q,UAAQ,EACRzQ,SAAU9B,KAAK0R,cACf7P,KAAK,OACLX,KAAK,aACLhB,GAAG,gBAGP,kBAACqB,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,eAApB,UACA,kBAACJ,EAAA,EAAKK,QAAN,CACE2Q,UAAQ,EACRzQ,SAAU9B,KAAK0R,cACf7P,KAAK,OACLX,KAAK,cACLhB,GAAG,iBAGP,kBAACqB,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKK,QAAN,CAAcC,KAAK,OAAOX,KAAK,cAEjC,kBAACe,EAAA,EAAD,CAAQwQ,UAAWzS,KAAKP,MAAM+R,UAAW3P,KAAK,UAA9C,oB,GA7IiCnB,IAAMC,YCA5B+R,G,2MACnBjT,MAAQ,CACNqB,QAAS,GACT0Q,WAAW,EACXC,OAAO,G,EAGTC,cAAgB,SAAC1Q,GAAW,IAAD,EACDA,EAAMC,OAAtBC,EADiB,EACjBA,KAAMC,EADW,EACXA,MACd,EAAKxB,MAAM0Q,aAAX,eACGnP,EAAOC,IAIVyQ,YAAW,WACT,EAAKxQ,SACH,CACEoQ,UAAW,EAAK7R,MAAMkS,kBAIzB,K,EAGLC,aAAe,SAAC9Q,GACdA,EAAMM,iBACoB,QAAtBN,EAAMC,OAAOC,MACf,EAAKvB,MAAM0Q,aAAa,CACtBsC,WAAW,IAEb,EAAKhT,MAAM2Q,SAAS,cACpB,EAAK3Q,MAAMoS,aAEX,EAAK3Q,SAAS,CACZN,QAAS,M,EAKfO,aAAe,SAACL,GACdA,EAAMM,iBACNN,EAAMgR,UACN,IAAMC,EAAQjR,EAAMC,OAAO8G,SAASkK,MAAM,GACpCC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,WAAYH,GAC9BtU,IACGC,KAAK,qBAAsBsU,GAC3BrU,MAAK,SAACC,GACL,EAAK6B,MAAM0Q,aAAa,CACtBtI,SAAUjK,EAASC,KAAKsU,WACxBM,WAAW,IAEb,EAAKhT,MAAM2Q,SAAS,cACpB,EAAK3Q,MAAMoS,eAEZ/T,OAAM,SAACC,GACN,EAAKmD,SAAS,CACZN,QAAS,yD,wEAMf,OACE,6BACE,iEACCd,KAAKL,MAAMqI,cACV,4BAAKhI,KAAKL,MAAMqI,aAAasK,UAAU,EAAG,IAA1C,OAGDtS,KAAKP,MAAMqB,SACV,6BACE,4BAAKd,KAAKP,MAAMqB,SAChB,4BAAQL,QAAST,KAAK8R,aAAc5Q,KAAK,OAAzC,OAGA,4BAAQT,QAAST,KAAK8R,aAAc5Q,KAAK,MAAzC,OAKJ,kBAACK,EAAA,EAAD,CAAMC,SAAUxB,KAAKqB,cACnB,kBAACE,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,SAApB,WACA,kBAACJ,EAAA,EAAKK,QAAN,CACE2Q,UAAQ,EACRzQ,SAAU9B,KAAK0R,cACf7P,KAAK,OACLX,KAAK,QACLhB,GAAG,QACHiB,MAAOnB,KAAKL,MAAMS,SAGtB,kBAACmB,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,eAApB,iBACA,kBAACJ,EAAA,EAAKK,QAAN,CACE2Q,UAAQ,EACRzQ,SAAU9B,KAAK0R,cACf7P,KAAK,OACLX,KAAK,cACLhB,GAAG,iBAGP,kBAACqB,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,YAApB,aACA,kBAACJ,EAAA,EAAKK,QAAN,CACE2Q,UAAQ,EACRzQ,SAAU9B,KAAK0R,cACfxQ,KAAK,WACLsR,GAAG,UAEH,4BAAQrR,MAAM,IAAd,qBACA,4BAAQA,MAAM,eAAd,iBACA,4BAAQA,MAAM,cAAd,iBACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,UAAd,YAGJ,kBAACI,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,cAApB,kBACA,kBAACJ,EAAA,EAAKK,QAAN,CACE2Q,UAAQ,EACRzQ,SAAU9B,KAAK0R,cACf7P,KAAK,OACLX,KAAK,aACLhB,GAAG,gBAGP,kBAACqB,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,eAApB,UACA,kBAACJ,EAAA,EAAKK,QAAN,CACE2Q,UAAQ,EACRzQ,SAAU9B,KAAK0R,cACf7P,KAAK,OACLX,KAAK,cACLhB,GAAG,iBAGP,kBAACqB,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKK,QAAN,CAAcC,KAAK,OAAOX,KAAK,cAEjC,kBAACe,EAAA,EAAD,CAAQwQ,UAAWzS,KAAKP,MAAM+R,UAAW3P,KAAK,UAA9C,oB,GAhJgCnB,IAAMC,W,+RCF3BiS,G,2MACnBC,YAAc,SAAC7R,GACb,OAAQA,EAAMC,OAAOC,MACnB,IAAK,OACH,EAAKvB,MAAMG,QAAQC,KAAnB,eAAgC,EAAKJ,MAAMR,QAC3C,MACF,IAAK,QACH,MACF,IAAK,MACH,EAAKQ,MAAM2Q,SAAS,aACpB,MACF,IAAK,MACH,EAAK3Q,MAAMG,QAAQC,KAAK,qB,wEAU5B,IAAI+S,EAAQ,qCAAiC9S,KAAKL,MAAMR,OAGxD,OAFAZ,QAAQC,IAAIsU,GACZvU,QAAQC,I,2VAAR,IAAiBwB,KAAKL,QAEpB,6BACE,+EACA,yBAAKQ,UAAU,uBACb,4DACA,yBAAKA,UAAU,eACb,6BACE,kBAAC4S,GAAA,EAAD,CAAqB7D,IAAK4D,GACxB,kBAACE,GAAA,EAAD,CAAc/F,KAAM,GAAIgG,OAAO,MAGnC,6BACE,kBAACC,GAAA,EAAD,CAAqBhE,IAAK4D,GACxB,kBAACK,GAAA,EAAD,CAAclG,KAAM,GAAIgG,OAAO,MAGnC,6BACE,kBAACG,GAAA,EAAD,CAAkBlE,IAAK4D,GACrB,kBAACO,GAAA,EAAD,CAAWpG,KAAM,GAAIgG,OAAO,OAKlC,kBAAChR,EAAA,EAAD,CAAQxB,QAAST,KAAK6S,YAAa3R,KAAK,QAAxC,YAIA,kBAACe,EAAA,EAAD,CAAQxB,QAAST,KAAK6S,YAAa3R,KAAK,OAAxC,iBAGA,kBAACe,EAAA,EAAD,CAAQxB,QAAST,KAAK6S,YAAa3R,KAAK,OAAxC,qB,GAvD8BR,IAAMC,WCNzB2S,G,2MACnB7T,MAAQ,CACN8T,YAAY,EACZC,MAAO,I,EAGT9B,cAAgB,SAAC1Q,GAAW,IAAD,EACDA,EAAMC,OAAtBC,EADiB,EACjBA,KAAMC,EADW,EACXA,MACd,EAAKxB,MAAM8T,eAAX,eACGvS,EAAOC,K,EAIZE,aAAe,SAACL,GACdA,EAAMM,iBACN,EAAK3B,MAAM+T,aACX/U,EAAa,EAAKgB,MAAMf,WACrBf,MAAK,SAAC2V,GACL,EAAKpS,SAAS,CAAEoS,aAEjBxV,OAAM,SAACC,GACNM,QAAQC,IAAIP,O,EAIlB2G,UAAY,WACV,OAAO,EAAKnF,MAAM+T,MAAMzJ,KAAI,SAACoG,GAC3B,OACE,kBAAClO,EAAA,EAAD,CACE9B,UAAU,cACVM,QAAS,kBACP,EAAKd,MAAMgU,WACTxD,EAAQnJ,IACRmJ,EAAQjP,KACRiP,EAAQlR,eAIXkR,EAAQjP,U,EAMjB0S,WAAa,WACX,EAAKxS,SAAS,CACZmS,YAAa,EAAK9T,MAAM8T,c,EAI5B9Q,kBAAoB,WAClB9D,EAAa,EAAKgB,MAAMf,WACrBf,MAAK,SAAC2V,GACL,EAAKpS,SAAS,CAAEoS,aAEjBxV,OAAM,SAACC,GACNM,QAAQC,IAAIP,O,wEAKhB,OACE,6BACE,mEACA,kBAACgE,EAAA,EAAD,CAAQxB,QAAST,KAAK4T,YAAtB,qBACC5T,KAAKP,MAAM8T,WACV,kBAAChS,EAAA,EAAD,CAAMC,SAAUxB,KAAKqB,cACnB,kBAACE,EAAA,EAAKE,MAAN,KACE,kBAACF,EAAA,EAAKG,MAAN,CAAYC,QAAQ,QAApB,eACA,kBAACJ,EAAA,EAAKK,QAAN,CACE2Q,UAAQ,EACRzQ,SAAU9B,KAAK0R,cACf7P,KAAK,OACLX,KAAK,OACLhB,GAAG,OACHiB,MAAOnB,KAAKL,MAAMS,SAGtB,kBAAC6B,EAAA,EAAD,CAAQJ,KAAK,UAAb,gBAGF,8BAEF,yBAAK1B,UAAU,YAAYH,KAAK4E,kB,GAnFDjE,aCDlBkT,ICDgBlT,Y,2MDEnClB,MAAQ,CACNqU,cAAe,I,EAGjBpP,SAAW,WACT,IAAIqP,EAAqB,GAKzB,YAJ0CC,IAAtC,EAAKrU,MAAMsU,UAAU/U,eACvB6U,EAAqB,EAAKpU,MAAMsU,UAAU/U,cAE5CX,QAAQC,IAAI,yBAA0B,EAAKmB,MAAMsU,UAAU/U,cACpD,EAAKS,MAAMsU,UAAUC,QAAQnK,KAAI,SAACoG,GACvC,OAAI4D,EAAmB9M,SAASkJ,EAAQnJ,KAEpC,6BACE,kBAAC/E,EAAA,EAAD,CACE9B,UAAU,yBACVM,QAAS,kBAAM,EAAKd,MAAMwU,gBAAgBhE,EAAQnJ,OAEjDmJ,EAAQ/P,MAJX,wBAUF,6BACE,kBAAC6B,EAAA,EAAD,CACE9B,UAAU,2BACVM,QAAS,WACP,EAAKd,MAAMwU,gBAAgBhE,EAAQnJ,OAGpCmJ,EAAQ/P,MANX,uB,EAcVqC,kBAAoB,WAClBlE,QAAQC,IACN,oCACA,EAAKmB,MAAMsU,UAAU/U,e,wEASvB,OAJAX,QAAQC,IACN,6BACAwB,KAAKL,MAAMsU,UAAU/U,cAGrB,6BACE,gEAAsCc,KAAKL,MAAMyU,UACjD,yBAAKjU,UAAU,WAAWH,KAAK0E,YAC/B,kBAACzC,EAAA,EAAD,CAAQxB,QAAST,KAAKL,MAAM0U,gBAA5B,yB,GAxDkC1T,c,ikBEiO3B2T,G,2MA9Mb7U,MAAQ,CACN8U,MAAO,YACP/M,IAAK,CACHpH,MAAO,GACP+H,YAAa,GACbC,WAAY,GACZL,SAAU,GACVH,QAAS,EAAKjI,MAAMD,KAAKsH,IACzB2L,WAAW,EACXzK,SAAU,GACVyJ,YAAa,GACb9L,SAAU,EACVC,UAAW,EACXkC,aAAc,GACd7I,MAAO,MAETqV,KAAM,CACJC,OAAQ,KACRvT,KAAM,GACN0G,QAAS,EAAKjI,MAAMD,KAAKsH,IACzB5H,aAAc,KACd8U,QAAS,GACTQ,UAAW,GACXxV,aAAc,K,EAIlB2S,YAAc,WACZtT,QAAQC,IAAI,EAAKiB,MAAM+H,KACvB,IAAMmN,EAAW,CACf,QACA,cACA,aACA,cACA,WACA,gBAEF,IAAK,IAAI3K,KAAO,EAAKvK,MAAM+H,IACzB,GAA4B,KAAxB,EAAK/H,MAAM+H,IAAIwC,KAA0C,IAA3B2K,EAASxN,QAAQ6C,GACjD,OAAO,EAGX,OAAO,G,EAGT+H,UAAY,WAAO,IACR6C,EADO,gBACK,EAAKnV,MAAM+H,YACzBoN,EAAQL,MACS,KAApBK,EAAQhN,UAAgBgN,EAAQhN,QAAU,MAC9CvJ,EAAQuW,GAAS/W,MAAK,SAAC0E,GACrB,EAAKnB,SAAS,CACZoG,IAAK,CACHrI,MAAOoD,EAAEyE,W,EAMjBqJ,aAAe,SAAC/R,GACd,EAAK8C,SAAS,CAAEoG,IAAI,MAAM,EAAK/H,MAAM+H,IAAlB,GAA0BlJ,M,EAG/CoV,WAAa,WAAO,IACTkB,EADQ,gBACI,EAAKnV,MAAM+U,aACzBI,EAAQL,MACS,KAApBK,EAAQhN,UAAgBgN,EAAQhN,QAAU,MAC9CnJ,EAASmW,GAAS/W,MAAK,SAAC0E,GACtB,EAAKnB,SAAS,CACZoT,KAAM,CACJC,OAAQlS,EAAEyE,OAGdzI,QAAQC,IAAI,0BAA2B,EAAKiB,MAAM+U,MAClD7V,EAAa,EAAKgB,MAAMD,KAAKsH,S,EAIjC6N,cAAgB,SAACnW,GACf,EAAK0C,SAAS,CAAEoT,KAAK,MAAM,EAAK/U,MAAM+U,KAAlB,GAA2B9V,M,EAGjDoW,SAAW,WACTnW,IAAed,MAAK,SAAC0E,GACnB,EAAKnB,SAAS,CACZoT,KAAM,CACJC,OAAQlS,EAAEyE,W,EAMlB2M,WAAa,SAACoB,EAAQ7T,EAAM8T,GAC1BzV,EAAa,EAAKI,MAAMD,KAAKsH,KAAKnJ,MAAK,SAACoX,GACtC,EAAK7T,SAAS,CACZmT,MAAO,eACPC,KAAM,CACJpV,aAAc2V,EACdb,QAASe,EACT/T,KAAMA,EACNhC,aAAc,CAAC,mC,EAOvBmV,eAAiB,WAAO,IACbO,EADY,gBACA,EAAKnV,MAAM+U,MAChCjW,QAAQC,IAAI,yBAA0B,EAAKiB,MAAM+U,MACzB,KAApBI,EAAQhN,UAAgBgN,EAAQhN,QAAU,MAC9C7I,EAAW6V,GAAS/W,MAAK,SAAC0E,GACxBhE,QAAQC,IAAI,iC,EAIhB2V,gBAAkB,SAACe,EAAOlU,GACxB,IAAImU,EAAY,YAAO,EAAK1V,MAAM+U,KAAKtV,eACF,IAAjCiW,EAAahO,QAAQ+N,GAAeC,EAAapV,KAAKmV,GACrDC,EAAajO,OAAOiO,EAAahO,QAAQ+N,GAAQ,GACtD,EAAK9T,SAAS,CACZoT,KAAK,MACA,EAAK/U,MAAM+U,KADZ,CAEFtV,aAAciW,O,EAKpB7E,SAAW,SAACiE,GACV,EAAKnT,SAAS,CACZmT,MAAOA,K,EAIXa,YAAc,SAACb,GACb,OAAQA,GACN,IAAK,aACH,OAAO,kBAAC,GAAD,CAAYjE,SAAU,EAAKA,WACpC,IAAK,SACH,OACE,kBAAC,GAAD,CAAQD,aAAc,EAAKA,aAAcC,SAAU,EAAKA,WAE5D,IAAK,aACH,OACE,kBAAC,GAAD,CACEtI,aAAc,EAAKvI,MAAM+H,IAAIQ,aAC7BsI,SAAU,EAAKA,SACfD,aAAc,EAAKA,eAGzB,IAAK,gBACH,OACE,kBAAC,GAAD,CACErI,aAAc,EAAKvI,MAAM+H,IAAIQ,aAC7BqI,aAAc,EAAKA,aACnBC,SAAU,EAAKA,SACfuB,YAAa,EAAKA,YAClBE,UAAW,EAAKA,YAGtB,IAAK,eACH,OACE,kBAAC,GAAD,CACE/J,aAAc,EAAKvI,MAAM+H,IAAIQ,aAC7BqI,aAAc,EAAKA,aACnBC,SAAU,EAAKA,SACfuB,YAAa,EAAKA,YAClBE,UAAW,EAAKA,YAGtB,IAAK,aACH,OACE,kBAAC,GAAD,eACE5S,MAAO,EAAKM,MAAM+H,IAAIrI,MACtBmR,SAAU,EAAKA,UACX,EAAK3Q,QAGf,IAAK,YACH,OACE,kBAAC,GAAD,CACE8T,eAAgB,EAAKoB,cACrBvE,SAAU,EAAKA,SACfoD,WAAY,EAAKA,WACjB9U,UAAW,EAAKe,MAAMD,KAAKsH,IAC3B2M,WAAY,EAAKA,aAKvB,IAAK,eACH,OACE,kBAAC,GAAD,CACEM,UAAW,EAAKxU,MAAM+U,KACtBL,gBAAiB,EAAKA,gBACtBE,eAAgB,EAAKA,eACrBD,SAAU,EAAK3U,MAAM+U,KAAKtT,S,wEAOlC,OADA3C,QAAQC,IAAIwB,KAAKP,MAAM8U,MAAOvU,KAAKP,OAC5B,6BAAMO,KAAKoV,YAAYpV,KAAKP,MAAM8U,Y,GA3MrB7T,IAAMC,WCnBT0U,G,iLAEjB,OAAO,yD,GAF2B1U,a,kBCiHvB2U,G,2MA7Fb7V,MAAQ,CACNC,KAAM,EAAKC,MAAMD,M,EAGnBG,QAAU,SAAAH,GACR,EAAK0B,SAAS,CACZ1B,KAAMA,K,wEAIA,IAAD,OACP,OACE,yBAAKS,UAAU,OACb,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAOoV,OAAK,EAACC,KAAK,IAAIC,UAAWjT,IACjC,oCACE,kBAAC,KAAD,CACEkT,OAAQ,SAAA/V,GAAK,OACX,kBAAC,EAAD,eACED,KAAM,EAAKD,MAAMC,KACjBG,QAAS,EAAKA,SACVF,OAIV,kBAAC,KAAD,KACE,kBAAC,KAAD,CACE4V,OAAK,EACLC,KAAK,SACLE,OAAQ,SAAA/V,GAAK,OAAI,kBAAC,EAAD,eAAOE,QAAS,EAAKA,SAAaF,OAErD,kBAAC,KAAD,CACE4V,OAAK,EACLC,KAAK,UACLE,OAAQ,SAAA/V,GAAK,OAAI,kBAAC,EAAD,eAAQE,QAAS,EAAKA,SAAaF,OAEtD,kBAAC,KAAD,CACE4V,OAAK,EACLC,KAAK,WACLE,OAAQ,SAAA/V,GAAK,OACX,kBAAC,EAAD,eACEE,QAAS,EAAKA,SACVF,EAFN,CAGED,KAAM,EAAKD,MAAMC,WAIvB,kBAAC,KAAD,CACE6V,OAAK,EACLC,KAAK,kBACLE,OAAQ,SAAA/V,GAAK,OACX,kBAAC,GAAD,eACEE,QAAS,EAAKA,SACVF,EAFN,CAGED,KAAM,EAAKD,MAAMC,WAIvB,kBAAC,KAAD,CACE6V,OAAK,EACLC,KAAK,cACLE,OAAQ,SAAA/V,GAAK,OACX,kBAAC,GAAD,iBAAeA,EAAf,CAAsBD,KAAM,EAAKD,MAAMC,WAG3C,kBAAC,KAAD,CAAO6V,OAAK,EAACC,KAAK,UAAUC,UAAWtT,IAEvC,kBAAC,KAAD,CAAOqT,KAAK,gBAAgBC,UAAW9G,KACvC,kBAAC,KAAD,CACE4G,OAAK,EACLC,KAAK,kBACLE,OAAQ,SAAA/V,GAAK,OACX,kBAAC,EAAD,iBAAmBA,EAAnB,CAA0BD,KAAM,EAAKD,MAAMC,WAG/C,kBAAC,KAAD,CACE6V,OAAK,EACLC,KAAK,cACLE,OAAQ,SAAA/V,GAAK,OACX,kBAAC,EAAD,iBAAgBA,EAAhB,CAAuBD,KAAM,EAAKD,MAAMC,WAI5C,kBAAC,KAAD,CAAO6V,OAAK,EAACC,KAAK,YAAYC,UAAW7U,IACzC,kBAAC,KAAD,CAAO6U,UAAWJ,a,GArFd3U,IAAMC,WCTJgV,QACW,cAA7BC,OAAOjG,SAASkG,UAEe,UAA7BD,OAAOjG,SAASkG,UAEhBD,OAAOjG,SAASkG,SAASC,MACvB,2DCVNnY,IAAMmB,IAAI,sBAAsBjB,MAAK,SAACC,GACpC,IAAM4B,EAAO5B,EAASC,KAEtBgY,IAASL,OACP,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAKhW,KAAMA,KAEbsW,SAASC,eAAe,YDkHtB,kBAAmBjN,WACrBA,UAAUkN,cAAcC,MAAMtY,MAAK,SAAAuY,GACjCA,EAAaC,kB","file":"static/js/main.f45b7701.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst signup = (username, password) => {\r\n  return axios\r\n    .post(\"/api/auth/signup\", { username, password })\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nconst login = (username, password) => {\r\n  return axios\r\n    .post(\"/api/auth/login\", { username, password })\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nconst logout = () => {\r\n  return axios\r\n    .delete(\"/api/auth/logout\")\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nconst getQuote = () => {\r\n  return axios\r\n    .get(\"/api/wisdom\")\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      return err.resonse.data;\r\n    });\r\n};\r\n\r\nconst pushGem = (gemInfos) => {\r\n  return axios\r\n    .post(\"/api/gem/create\", gemInfos)\r\n    .then((response) => {\r\n      console.log(\"Here is the new gem\", response.data);\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nconst pushTrip = (tripInfos) => {\r\n  return axios\r\n    .post(\"/api/trip/create\", tripInfos)\r\n    .then((response) => {\r\n      console.log(\"Here is the new trip\", response.data);\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nconst requestTrips = (creatorid) => {\r\n  const param = creatorid;\r\n  console.log(\"Check Param\", param);\r\n  return axios\r\n    .get(`/api/trip/${param}`)\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nconst updateTrip = (updatedTrip) => {\r\n  console.log(\r\n    \"Updated Trip to pass to function which makes axios call object:\",\r\n    updatedTrip\r\n  );\r\n  let gemsVisited = updatedTrip.existingGems;\r\n  let gemId = updatedTrip.selectedTrip;\r\n  return axios\r\n    .put(\"/api/trip/update\", { gemsVisited, gemId })\r\n    .then((updatedtrip) => {\r\n      console.log(\"Received Data from server back frontend\", updatedtrip);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nconst specificGems = (creatorid) => {\r\n  const param = creatorid;\r\n  return axios\r\n    .get(`/api/gem/creator/${param}`)\r\n    .then((response) => {\r\n      console.log(\"Got data from Axios call\", response.data);\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nexport {\r\n  signup,\r\n  login,\r\n  logout,\r\n  getQuote,\r\n  pushGem,\r\n  requestTrips,\r\n  pushTrip,\r\n  specificGems,\r\n  updateTrip\r\n};\r\n","import React from \"react\";\r\nimport { Dropdown, DropdownButton } from \"react-bootstrap\";\r\nimport { logout } from \"../../services/api\";\r\n\r\nclass Menu extends React.Component {\r\n  state = {\r\n    user: this.props.user\r\n  };\r\n\r\n  handleLogout = props => {\r\n    console.log(\"LOGOUT PROPS: \", props);\r\n    logout().then(() => {\r\n      this.props.setUser(null);\r\n      this.props.history.push(\"/logout\");\r\n    });\r\n  };\r\n\r\n  render() {\r\n    console.log(\"Menu state: \", this.state);\r\n    console.log(\"Menu props: \", this.props);\r\n    return (\r\n      <DropdownButton\r\n        id=\"dropdown-basic-button\"\r\n        className=\"main-menu\"\r\n        title=\"☰\">\r\n        <Dropdown.Item href=\"/\">Home</Dropdown.Item>\r\n        <Dropdown.Item href=\"/explore-places\">Explore places</Dropdown.Item>\r\n        {this.state.user ? (\r\n          <>\r\n            <Dropdown.Item href=\"/create-gem\">Create Gem</Dropdown.Item>\r\n            <Dropdown.Item href=\"/profile\">Profile</Dropdown.Item>\r\n            <Dropdown.Divider />\r\n            <Dropdown.Item onClick={this.handleLogout}>Logout</Dropdown.Item>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Dropdown.Item href=\"/login\">Login</Dropdown.Item>\r\n            <Dropdown.Item href=\"/signup\">Signup</Dropdown.Item>\r\n          </>\r\n        )}\r\n      </DropdownButton>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n","import React, { Component } from 'react'\r\n\r\nexport default class AboutUs extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        This is About Us\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport { login } from \"../../services/api\";\r\n\r\nexport default class Login extends Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    message: \"\"\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const { username, password } = this.state;\r\n\r\n    login(username, password).then((data) => {\r\n      if (data.message) {\r\n        this.setState({\r\n          message: data.message,\r\n          username: \"\",\r\n          password: \"\"\r\n        });\r\n      } else {\r\n        // successfully signed up\r\n        // update the state for the parent component\r\n        this.props.setUser(data);\r\n        this.props.history.push(\"/\");\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <h2>Login</h2>\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"username\">User Name: </Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"username\"\r\n              value={this.state.username}\r\n              onChange={this.handleChange}\r\n              id=\"username\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"password\">Password: </Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              id=\"password\"\r\n            />\r\n          </Form.Group>\r\n          {this.state.message && (\r\n            <Alert variant=\"danger\">{this.state.message}</Alert>\r\n          )}\r\n          <Button type=\"submit\">Login</Button>\r\n        </Form>\r\n        <a href=\"http://localhost:5555/api/auth/google\">\r\n          <button>Login with Google</button>\r\n        </a>\r\n        <a href=\"http://localhost:5555/api/auth/facebook\">\r\n          <button>Login with Facebook</button>\r\n        </a>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport { signup } from \"../../services/api\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Signup extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    message: \"\"\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const { username, password } = this.state;\r\n\r\n    // usernameToProfile = (this.state.username)=>{\r\n    //   [username]\r\n    // };\r\n\r\n    signup(username, password).then(data => {\r\n      if (data.message) {\r\n        this.setState({\r\n          message: data.message,\r\n          username: \"\",\r\n          password: \"\"\r\n        });\r\n      } else {\r\n        // successfully signed up\r\n        // update the state for the parent component\r\n        this.props.setUser(data);\r\n        this.props.history.push(\"/profile\");\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <h2>Signup</h2>\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"username\">User Name: </Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"username\"\r\n              value={this.state.username}\r\n              onChange={this.handleChange}\r\n              id=\"username\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"password\">Password: </Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              id=\"password\"\r\n            />\r\n          </Form.Group>\r\n          {this.state.message && (\r\n            <Alert variant=\"danger\">{this.state.message}</Alert>\r\n          )}\r\n          <Button type=\"submit\">Signup</Button>\r\n        </Form>\r\n        <a href=\"http://localhost:5555/api/auth/google\">\r\n          <button>Sign in Google</button>\r\n        </a>\r\n        <a href=\"http://localhost:5555/api/auth/facebook\">\r\n          <button>Sign in with Facebook</button>\r\n        </a>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { getQuote } from \"../../services/api\";\r\n\r\nexport default class Logout extends React.Component {\r\n  state = {\r\n    quote: \"\",\r\n    author: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n    getQuote().then((n) => {\r\n      console.log(n);\r\n      this.setState({\r\n        quote: n.quote,\r\n        author: n.author\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state);\r\n    return (\r\n      <div>\r\n        <div className=\"wrapper\">\r\n          <div className=\"header-box\">\r\n            <h1>Happy Travel my Friend</h1>\r\n          </div>\r\n\r\n          <div className=\"wisdom\">\r\n            <div className=\"quote\">{this.state.quote}</div>\r\n            <div className=\"author\">- {this.state.author}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Alert } from \"react-bootstrap\";\r\nimport \"../../stylesheets/home.css\";\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    user: null\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.setState({\r\n      user: this.props.user\r\n    });\r\n  };\r\n\r\n  render() {\r\n    console.log(\"HOME PROPS: \", this.props);\r\n    return (\r\n      <div className=\"Landingpage\">\r\n        {/*   <div className=\"BrandGem\">Gem</div>\r\n        \r\n\r\n        <div className=\"BrandBox\">Box</div> */}\r\n        <svg\r\n          className=\"Logo\"\r\n          width=\"200\"\r\n          height=\"144\"\r\n          viewBox=\"0 0 200 144\"\r\n          fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n        >\r\n          <g filter=\"url(#filter0_b)\">\r\n            <path\r\n              d=\"M57.4223 35.992V63.352C54.7983 64.888 51.4703 66.104 47.4383 67C43.4063 67.896 39.0223 68.344 34.2863 68.344C26.9263 68.344 20.7183 66.808 15.6623 63.736C10.6063 60.6 6.79825 56.44 4.23825 51.256C1.74225 46.072 0.49425 40.408 0.49425 34.264C0.49425 28.184 1.80625 22.584 4.43025 17.464C7.05425 12.28 10.9903 8.152 16.2383 5.08C21.5503 2.008 27.9503 0.471998 35.4383 0.471998C39.5343 0.471998 43.4063 1.112 47.0543 2.392C50.7663 3.608 53.9023 5.304 56.4623 7.48L52.9103 14.968C50.8623 13.112 48.3023 11.608 45.2303 10.456C42.1583 9.304 38.8943 8.72799 35.4383 8.72799C30.3823 8.72799 26.0303 9.848 22.3823 12.088C18.7983 14.328 16.0783 17.4 14.2223 21.304C12.3663 25.144 11.4383 29.496 11.4383 34.36C11.4383 39.288 12.3023 43.704 14.0303 47.608C15.8223 51.512 18.4143 54.584 21.8063 56.824C25.2623 59.064 29.4223 60.184 34.2863 60.184C38.7023 60.184 42.8943 59.704 46.8623 58.744V35.992H57.4223ZM115.108 59.032V67H74.0198V1.72H113.188V9.688H84.9638V28.504H109.348V36.472H84.9638V59.032H115.108ZM195.447 1.72V67H184.695V45.592L185.367 18.808L166.935 47.224H159.159L140.439 18.52L141.303 45.592V67H130.551V1.72H140.535L162.999 36.088L185.463 1.72H195.447Z\"\r\n              fill=\"#4BADB6\"\r\n            />\r\n          </g>\r\n          <path\r\n            d=\"M43.4545 109.536C48.1905 110.496 51.7745 112.448 54.2065 115.392C56.6385 118.272 57.8545 121.824 57.8545 126.048C57.8545 131.616 55.7425 136 51.5185 139.2C47.2945 142.4 41.1825 144 33.1825 144H10.2385V78.72H33.1825C40.2865 78.72 45.6945 80.128 49.4065 82.944C53.1185 85.76 54.9745 89.824 54.9745 95.136C54.9745 98.592 53.9825 101.6 51.9985 104.16C50.0785 106.72 47.2305 108.512 43.4545 109.536ZM21.1825 86.688V105.6H33.1825C36.6385 105.6 39.2945 104.8 41.1505 103.2C43.0705 101.536 44.0305 99.2 44.0305 96.192C44.0305 89.856 40.4145 86.688 33.1825 86.688H21.1825ZM33.1825 136.032C37.5345 136.032 40.8945 135.072 43.2625 133.152C45.6945 131.168 46.9105 128.384 46.9105 124.8C46.9105 121.024 45.7265 118.208 43.3585 116.352C41.0545 114.496 37.6625 113.568 33.1825 113.568H21.1825V136.032H33.1825ZM186.921 144L168.585 117.312L150.153 144H137.289L161.961 110.304L138.921 78.72H151.881L168.585 103.488L185.289 78.72H198.153L175.113 110.112L199.977 144H186.921Z\"\r\n            fill=\"#282727\"\r\n          />\r\n          <rect x=\"65\" y=\"72\" width=\"70\" height=\"72\" fill=\"url(#pattern0)\" />\r\n          <defs>\r\n            <filter\r\n              id=\"filter0_b\"\r\n              x=\"-3.50574\"\r\n              y=\"-3.52802\"\r\n              width=\"202.953\"\r\n              height=\"75.872\"\r\n              filterUnits=\"userSpaceOnUse\"\r\n              color-interpolation-filters=\"sRGB\"\r\n            >\r\n              <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\r\n              <feGaussianBlur in=\"BackgroundImage\" stdDeviation=\"2\" />\r\n              <feComposite\r\n                in2=\"SourceAlpha\"\r\n                operator=\"in\"\r\n                result=\"effect1_backgroundBlur\"\r\n              />\r\n              <feBlend\r\n                mode=\"normal\"\r\n                in=\"SourceGraphic\"\r\n                in2=\"effect1_backgroundBlur\"\r\n                result=\"shape\"\r\n              />\r\n            </filter>\r\n            <pattern\r\n              id=\"pattern0\"\r\n              patternContentUnits=\"objectBoundingBox\"\r\n              width=\"1\"\r\n              height=\"1\"\r\n            >\r\n              <use\r\n                xlinkHref=\"#image0\"\r\n                transform=\"translate(-0.0142857) scale(0.0205714 0.02)\"\r\n              />\r\n            </pattern>\r\n            <image\r\n              id=\"image0\"\r\n              width=\"50\"\r\n              height=\"50\"\r\n              xlinkHref=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAFK0lEQVRoge2aXYhVVRTHf3dGZyZTNC0rgiQ0pkgiLTWmJiPUSCSsQH2olKKyCSyo7Msg+yINKuslsHDMCiyjIi2yEgwaH/qiiSx7KEhKjdIa89Z83dPDWru975597j3nnnvvJPiHw5yz1tprr33O3vu/9roDx3AM/yuMA/4CoipfR4AJ9RrEWKC7BoMwV7f2UVOMAnY6nW6PsWsGPlCbH/SKVNYc02a747cLGF21qD00Ae9qR4f17wMBu0bgNdUfAFqBycAvKnsLGBFot0r1f2IH3VLVEQSC+1Lv53h2OWC96v4Apjm6qcDvqtuoti7mqu5zigc9slqDaABeUceHgBlAHiggi97FWuyibQ/4moX9mus83VhgEPgbmA78pnavIy8yE3LA89hPPgO4QJ93e7b3q7wPuKKEzznAP2p7n6f7VuXnA+chLy4CNjD0C6aCecN5YLbKbnOcGyxX2SCwOIHfq4ABbXO7I+9UWYc+t2G3ef8LJsZqddALzHfkG1V+qxdUAbglhf9l2mYQWKKyDvXd6di5X/ChFP4BeUuRBrjI032nuuleJ/em7QSZWmY6zkemVIRMMRcLgX7V3ZPU+Q3ImyoAN3q6cdgF2U78wk2DNdjpexl2IznBs7tW+y5gZ0MsyhmbLXI/cFDvXyDbQsypj0h97tf7uQHbUi/5P7ifb2WMzYMUpxNvEia3tGgENnu+V8XYlpr2iRfUVqejj4hPNypBE/Ce4/+dErbBjagdIbBaJYG1vo4A7Q3Il8jMnMOIRmQMANyM3TmmxbUA7sBOq1phB0OJ0sdULFHe5CtfVMX3xJ8HxmCz03MzBFsqwALQUyaG3RrDppBBC/CZGrxN/Jb6rNqsrzzeWJhtOI6XckgSGQFfIeejICZhs867Y2ymIFyTB06sLN4gxiMLt4CcYUJYic3CJ5dzuAAJdIAwKQFsI5y9ZoHJnrfG6C9FeK6A5HeJ8Cj2EHVaQD9P9T9TnYPPCGAv8Yx+Cvaw9Ugaxw1YctqFkJUPU4BIkraXwxL19Q1D1+ZI4GPVf0gFVDEeWzR4JqA3Z5CutI4D2KW+QseAdar7CTip0g5mYlOX6zzdKOzGMLPSDrCp+0HgeE+3GJvmt2XoA5AsOEII6BxPZ06Qwf08IV5WH2s8eSuWs5Zn8F+EDepwD8VEdTqyk/QR3hTK4VQk8RsAznDko5H1EiGFj6qhBSnTREiJxl2QW1S+ugK/D2MrJQY5bOmpmxKkVymmYKsadzrydpX9SrqCWjP2EHWxI79LZT3AWRniLYkFCCH1Y6sqAJ9q50tT+Fqmbb5wZG3INC0AV2cJNAkexx53zbpYGgiqHMzgr9fnkxGCjYDHqhJpGTQA72M5pAmZJvtUFqow+rgEmzm0IMxuiuM7qOP5aALwo3b8lMrM8XNLgvZvUHysflqf95KB9CrFLCxZLgIm6rO/lfqYhKyxXiSHWoisiT7gohrGWxKmfHoYIctN+ry2RJsn1eYlikmvo0SbuqATS5Zm7h9iaLoBwgnmp4XZWNJ7tR6BlsNxyG4VIXWuLuLTCpPufIKtY31NeNDDgjORH3YibJF7D8UZQA571jY2PcDZdY00Aa7EkuUBJNB5jv5ybAbQq7bX1DnGxDAFaVPc3ubozO+PZnE/UffoUqAR++usKYa3IlNvUC9DetWoGdcUE7Hn7wgpHz3nPO9D0vejAhciBGeql3m976c40z0qsIKhBecVwxpRBrj/JbFzmGPJhDFI9TBPHf6/pNZoJb4EWjX8C2RUC1duuJhSAAAAAElFTkSuQmCC\"\r\n            />\r\n          </defs>\r\n        </svg>\r\n\r\n        <div className=\"Teaser\">\r\n          <div className=\"TeaserTextContainer\">\r\n            <div className=\"TeaserText\">\r\n              <p>Get inspired.</p>\r\n              <p>Find places.</p>\r\n              <p>Share discoveries.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <>\r\n          <p>\r\n            <a\r\n              className=\"btn btn-primary btn-primary:hover btn-landingpage generalBtn \"\r\n              href=\"/explore-places\"\r\n              role=\"button\"\r\n            >\r\n              Open the box\r\n            </a>\r\n\r\n            {/* <Link to=\"/Login\">Login</Link> */}\r\n          </p>\r\n          <div className=\"btn-signup-login\">\r\n            <p>\r\n              <Link className=\"btn btn-link btn-lp \" to=\"/Signup\">\r\n                Join the community\r\n              </Link>\r\n            </p>\r\n            <p>\r\n              <Link className=\"btn btn-link btn-lp\" to=\"/Login\">\r\n                Login\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </>\r\n        {this.state.message && (\r\n          <Alert variant=\"danger\">{this.state.message}</Alert>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport Select from \"react-select\";\r\n\r\nconst userFilterOptions = [\r\n  { value: \"all\", label: \"All\" },\r\n  { value: \"liked\", label: \"Liked\" },\r\n  { value: \"mine\", label: \"Mine\" }\r\n];\r\n\r\nclass Filters extends Component {\r\n  state = {\r\n    displayFilters: false,\r\n    gemsData: null,\r\n    filterStatus: this.props.filterStatus,\r\n    selectedOption: null\r\n  };\r\n  handleSelectChange = selectedOption => {\r\n    this.setState({ selectedOption });\r\n    console.log(`Option selected:`, selectedOption);\r\n  };\r\n\r\n  render() {\r\n    const { selectedOption } = this.state;\r\n    return (\r\n      <div className=\"filters-block\">\r\n        <h1>Filter by</h1>\r\n        <form onSubmit={this.props.handleFilterSubmit}>\r\n          <div>\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"showGems\"\r\n              id=\"showGems\"\r\n              checked={this.props.filterStatus.showGems}\r\n              onChange={this.props.handleFilterChange}\r\n            />\r\n            <label htmlFor=\"showGems\">Gems</label>\r\n            <br />\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"showTrips\"\r\n              id=\"showTrips\"\r\n              checked={this.props.filterStatus.showTrips}\r\n              onChange={this.props.handleFilterChange}\r\n            />\r\n            <label htmlFor=\"showTrips\">Trips</label>\r\n          </div>\r\n          <div>\r\n            <Select\r\n              value={this.props.filterStatus.userFilter}\r\n              onChange={this.props.handleSelectChange}\r\n              options={this.props.userFilterOptions}\r\n            />\r\n            {/* <label htmlFor=\"userFilter\">Show:</label>\r\n            <select\r\n              id=\"userFilter\"\r\n              name=\"userFilter\"\r\n              onChange={this.props.handleFilterChange}>\r\n              <option\r\n                value=\"all\"\r\n                name=\"userFilter\"\r\n                selected={this.props.userFilter}\r\n                onChange={this.props.handleFilterChange}>\r\n                All\r\n              </option>\r\n              <option\r\n                value=\"liked\"\r\n                name=\"userFilter\"\r\n                onChange={this.props.handleFilterChange}>\r\n                Liked\r\n              </option>\r\n              <option\r\n                value=\"mine\"\r\n                name=\"userFilter\"\r\n                onChange={this.props.handleFilterChange}>\r\n                Mine\r\n              </option>\r\n            </select> */}\r\n          </div>\r\n          <div>\r\n            <h2>Show by date</h2>\r\n            <label htmlFor=\"dateStart\">From:</label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"dateStart\"\r\n              name=\"dateStart\"\r\n              value={this.props.filterStatus.dateStart}\r\n              onChange={this.props.handleFilterChange}></input>\r\n            <label htmlFor=\"dateStart\">To:</label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"dateEnd\"\r\n              name=\"dateEnd\"\r\n              value={this.props.filterStatus.dateEnd}\r\n              onChange={this.props.handleFilterChange}></input>\r\n          </div>\r\n          <h2>Categories</h2>\r\n          <div style={{ display: \"flex\" }}>\r\n            <div style={{ flex: \"1\" }}>\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"foodDrinks\"\r\n                id=\"foodDrinks\"\r\n                checked={this.props.filterStatus.foodDrinks}\r\n                onChange={this.props.handleFilterChange}\r\n              />\r\n              <label htmlFor=\"foodDrinks\">Food & Drinks</label> <br />\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"cultureArts\"\r\n                id=\"cultureArts\"\r\n                checked={this.props.filterStatus.cultureArts}\r\n                onChange={this.props.handleFilterChange}\r\n              />\r\n              <label htmlFor=\"cultureArts\">Culture & Arts</label> <br />\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"sports\"\r\n                id=\"sports\"\r\n                checked={this.props.filterStatus.sports}\r\n                onChange={this.props.handleFilterChange}\r\n              />\r\n              <label htmlFor=\"sports\">Sports</label> <br />\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"party\"\r\n                id=\"party\"\r\n                checked={this.props.filterStatus.party}\r\n                onChange={this.props.handleFilterChange}\r\n              />\r\n              <label htmlFor=\"party\">Party</label>\r\n            </div>\r\n            <div style={{ flex: \"1\" }}>\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"hikes\"\r\n                id=\"hikes\"\r\n                checked={this.props.filterStatus.hikes}\r\n                onChange={this.props.handleFilterChange}\r\n              />\r\n              <label htmlFor=\"hikes\">Hikes</label> <br />\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"nature\"\r\n                id=\"nature\"\r\n                checked={this.props.filterStatus.nature}\r\n                onChange={this.props.handleFilterChange}\r\n              />\r\n              <label htmlFor=\"nature\">Nature</label> <br />\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"other\"\r\n                id=\"other\"\r\n                checked={this.props.filterStatus.other}\r\n                onChange={this.props.handleFilterChange}\r\n              />\r\n              <label htmlFor=\"other\">Other</label>\r\n            </div>\r\n          </div>\r\n          <Button type=\"submit\">Apply & Close</Button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Filters;\r\n","import React from \"react\";\r\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\r\n\r\nconst GemOnMap = props => {\r\n\r\n  return (\r\n    <div>\r\n        <Marker\r\n          latitude={props.data.latitude}\r\n          longitude={props.data.longitude}\r\n          captureClick={false}\r\n          draggable={false}\r\n          offsetTop={-30}\r\n          offsetLeft={-15}>\r\n          <div className=\"gem-marker\" onClick={\r\n                  ()=>{props.openPopup(props.data)}\r\n                }>\r\n            <img src=\"/images/blue_gem.png\" alt=\"Gem\"/>\r\n          </div>\r\n        </Marker>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GemOnMap;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nexport default class GemDetails extends Component {\r\n  state = {\r\n    currentGemData: this.props.data,\r\n    currentGemIndex: 0,\r\n    experienceGemData: null,\r\n    creatorData: null\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    if (this.state.currentGemData && !this.state.creatorData)\r\n      this.getCreatorData();\r\n    if (!this.state.experienceGemData) this.getExperienceGemData();\r\n  };\r\n\r\n  handleLike = () => {\r\n    const likes = [...this.state.currentGemData.likes];\r\n    const userId = this.props.user._id;\r\n    if (!likes.includes(userId)) {\r\n      likes.push(this.props.user._id);\r\n    } else {\r\n      likes.splice(likes.indexOf(userId), 1);\r\n    }\r\n    const gemId = this.state.currentGemData._id;\r\n    axios.put(`/api/gem/${gemId}`, { likes }).then(response => {\r\n      console.log(response);\r\n      this.setState({\r\n        currentGemData: { ...response.data, likes: response.data.likes }\r\n      });\r\n    });\r\n  };\r\n\r\n  getGemExperience = event => {\r\n    const { currentGemIndex, experienceGemData } = this.state;\r\n    let newGemIndex = currentGemIndex;\r\n    if (event.target.name === \"previous\" && currentGemIndex > 0)\r\n      newGemIndex -= 1;\r\n    if (\r\n      event.target.name === \"next\" &&\r\n      currentGemIndex < experienceGemData.length - 1\r\n    )\r\n      newGemIndex += 1;\r\n    const newGemData = experienceGemData[newGemIndex];\r\n    this.setState({\r\n      currentGemIndex: newGemIndex,\r\n      currentGemData: newGemData\r\n    });\r\n  };\r\n\r\n  getExperienceGemData = () => {\r\n    axios\r\n      .get(`/api/gem/`)\r\n      .then(response => {\r\n        console.log(response);\r\n        const { latitude, longitude } = this.state.currentGemData;\r\n        const experienceGemData = response.data.filter(gem => {\r\n          return gem.latitude === latitude && gem.longitude === longitude;\r\n        });\r\n        this.setState({\r\n          experienceGemData\r\n        });\r\n      })\r\n      .catch(err => {\r\n        if (err.response.status === 404) {\r\n          this.setState({ error: \"Not found\" });\r\n        }\r\n      });\r\n  };\r\n\r\n  getCreatorData = () => {\r\n    const creatorId = this.state.currentGemData.creator;\r\n    axios\r\n      .get(`/api/user/${creatorId}`)\r\n      .then(response => {\r\n        this.setState({\r\n          creatorData: response.data\r\n        });\r\n      })\r\n      .catch(err => {\r\n        if (err.response.status === 404) {\r\n          this.setState({ error: \"Not found\" });\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    console.log(this.props, this.state);\r\n    console.log(this.props.user);\r\n    const categoryStrings = {\r\n      foodDrinks: \"Food & Drinks\",\r\n      cultureArts: \"Culture & Arts\",\r\n      hikes: \"Hikes\",\r\n      nature: \"Nature & Sight\",\r\n      party: \"Party\",\r\n      sports: \"Sports\",\r\n      others: \"Others\"\r\n    };\r\n    const currentGemData = this.state.currentGemData;\r\n    console.log(currentGemData);\r\n    const creatorData = this.state.creatorData;\r\n    if (!currentGemData) return <></>;\r\n    const liked = (this.props.user&&currentGemData.likes.includes(this.props.user._id))\r\n      ? true\r\n      : false;\r\n    const likeClass = liked ? \"btn-unlike\" : \"btn-like\";\r\n    return (\r\n      <div className=\"gem-details\">\r\n        <img\r\n          className=\"gem-details-image\"\r\n          src={currentGemData.imageUrl}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"flex-row-sides\">\r\n          {this.state.creatorData && <p>Created by {creatorData.username}</p>}\r\n          <div>\r\n            {this.props.user?(\r\n            <button className={likeClass} onClick={() => this.handleLike()}>\r\n              {liked ? <>Unlike</> : <>Like</>}\r\n            </button>):<>Likes: </> }\r\n            {currentGemData.likes.length}\r\n          </div>\r\n        </div>\r\n        {this.state.experienceGemData &&\r\n          this.state.experienceGemData.length > 1 && (\r\n            <div className=\"flex-row-sides\">\r\n              <button name=\"previous\" onClick={this.getGemExperience}>\r\n                Previous\r\n              </button>\r\n              <button name=\"next\" onClick={this.getGemExperience}>\r\n                Next\r\n              </button>\r\n            </div>\r\n          )}\r\n        <div className=\"flex-row-sides\">\r\n          <h3>{currentGemData.title}</h3>\r\n          {currentGemData.locationName && <p>{currentGemData.locationName}</p>}\r\n        </div>\r\n        <div className=\"flex-row-sides\">\r\n          <h4>Category:</h4>\r\n          <h4>{categoryStrings[currentGemData.category]}</h4>\r\n        </div>\r\n        <div className=\"flex-row\">\r\n          <p>\r\n            <strong>Descriprion: </strong>\r\n            {currentGemData.description}\r\n          </p>\r\n        </div>\r\n        <div className=\"flex-row\">\r\n          <p>\r\n            <strong>Good to know: </strong>\r\n            {currentGemData.goodToKnow}\r\n          </p>\r\n        </div>\r\n        <div className=\"flex-row\">\r\n          <p>\r\n            <strong>Created: </strong>\r\n            {currentGemData.created_at.slice(0, 10)}\r\n          </p>\r\n        </div>\r\n        <div>\r\n          <Button onClick={this.props.closeDetails}>Back to Map</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\r\nimport GemOnMap from \"./GemOnMap\";\r\nimport ReactMapGL, {\r\n  Popup,\r\n  NavigationControl,\r\n  GeolocateControl\r\n} from \"react-map-gl\";\r\nimport GemDetails from \"./GemDetails\";\r\nimport { throws } from \"assert\";\r\n\r\nclass MapGems extends Component {\r\n  state = {\r\n    viewport: {\r\n      width: \"100%\",\r\n      height: \"100vh\",\r\n      latitude: 70.520008,\r\n      longitude: 70.404954,\r\n      zoom: 2\r\n    },\r\n    gemSelectedInfo: this.props.gemSelectedInfo,\r\n    displayDetails: false,\r\n  };\r\n\r\n  openPopup = gemData => {\r\n    this.setState({\r\n      gemSelectedInfo: {\r\n        ...gemData\r\n      }\r\n    });\r\n  };\r\n\r\n  closeDetails = () => {\r\n    this.setState({\r\n      displayDetails: false,\r\n      gemSelectedInfo: null\r\n    });\r\n  };\r\n\r\n  openDetails = () => {\r\n    this.setState({\r\n      displayDetails: true\r\n    });\r\n  };\r\n\r\n  setUserLocation = () => {\r\n    navigator.geolocation.getCurrentPosition(position => {\r\n      let userLocation = {\r\n        lat: position.coords.latitude,\r\n        long: position.coords.longitude\r\n      };\r\n      this.setState({\r\n        viewport: {\r\n          ...this.state.viewport,\r\n          latitude: userLocation.lat,\r\n          longitude: userLocation.long\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  renderPopup = () => {\r\n    const { gemSelectedInfo } = this.state;\r\n    return (\r\n      gemSelectedInfo && (\r\n        <Popup\r\n          className=\"gem-popup\"\r\n          tipSize={5}\r\n          anchor=\"top\"\r\n          latitude={gemSelectedInfo.latitude}\r\n          longitude={gemSelectedInfo.longitude}\r\n          closeOnClick={false}\r\n          onClose={() => this.setState({ gemSelectedInfo: null })}>\r\n          <div>\r\n            <img\r\n              className=\"gem-popup-img\"\r\n              src={gemSelectedInfo.imageUrl}\r\n              alt=\"\"\r\n            />\r\n            <p className=\"gem-popup-title\">{gemSelectedInfo.title}</p>\r\n            <p className=\"gem-popup-date\">\r\n              {gemSelectedInfo.created_at.slice(0, 10)}\r\n            </p>\r\n            <button onClick={this.openDetails} className=\"gem-popup-link\">\r\n              Explore\r\n            </button>\r\n          </div>\r\n        </Popup>\r\n      )\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const gemsToRender = this.props.gems.map(gem => {\r\n      return <GemOnMap key={gem._id} data={gem} openPopup={this.openPopup} />;\r\n    });\r\n    this.setUserLocation();\r\n    return (\r\n      <div style={{ border: \"1px solid green\" }}>\r\n        {this.state.displayDetails && (\r\n          <>\r\n            <GemDetails\r\n              data={this.state.gemSelectedInfo}\r\n              user={this.props.user}\r\n              closeDetails={this.closeDetails}\r\n            />\r\n          </>\r\n        )}\r\n        <ReactMapGL\r\n          {...this.state.viewport}\r\n          onViewportChange={viewport =>\r\n            this.setState({\r\n              viewport: viewport\r\n            })\r\n          }\r\n          mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\r\n          mapStyle=\"mapbox://styles/mapbox/streets-v10\"\r\n          captureDoubleClick={false}\r\n          doubleClickZoom={false}>\r\n          <div style={{ position: \"absolute\", right: \"2vw\", top: \"10vh\" }}>\r\n            <NavigationControl\r\n              onViewportChange={viewport => this.setState({ viewport })}\r\n            />\r\n          </div>\r\n          <div style={{ position: \"absolute\", right: \"2vw\", top: \"4vh\" }}>\r\n            <GeolocateControl\r\n              positionOptions={{ enableHighAccuracy: true }}\r\n              trackUserLocation={true}\r\n            />\r\n          </div>\r\n          {gemsToRender}\r\n          {this.renderPopup()}\r\n        </ReactMapGL>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MapGems;\r\n","import React, { Component } from \"react\";\r\nimport Filters from \"./Filters\";\r\nimport MapGems from \"./MapGems\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst userFilterOptions = [\r\n  { value: \"all\", label: \"All\" },\r\n  { value: \"liked\", label: \"Liked\" },\r\n  { value: \"mine\", label: \"Mine\" }\r\n];\r\n\r\nclass ExplorePlaces extends Component {\r\n  state = {\r\n    displayFilters: false,\r\n    gemsData: null,\r\n    gemsToDisplay: null,\r\n    gemSelectedInfo: null,\r\n    filterStatus: {\r\n      showGems: true,\r\n      showTrips: true,\r\n      userFilter: \"all\",\r\n      dateStart: \"2019-01-01\",\r\n      dateEnd: \"2019-12-31\",\r\n      foodDrinks: true,\r\n      cultureArts: true,\r\n      sports: true,\r\n      party: true,\r\n      hikes: true,\r\n      nature: true,\r\n      others: true\r\n    }\r\n  };\r\n\r\n  getGemsData = () => {\r\n    axios.get(\"/api/gem\").then(gems => {\r\n      console.log(gems.data);\r\n      this.setState({\r\n        gemsData: gems.data,\r\n        gemsToDisplay: gems.data\r\n      });\r\n    });\r\n  };\r\n\r\n  filterGems=event=>{\r\n    event.preventDefault();\r\n    const filter = this.state.filterStatus;\r\n    let gemsFiltered = this.state.gemsData.filter(gem => {\r\n        return (\r\n          filter.showGems &&\r\n          (filter.userFilter.value === \"all\" ||\r\n            (filter.userFilter.value === \"liked\"&&gem.likes.includes(this.props.user._id)) ||\r\n            (filter.userFilter.value === \"mine\"&&gem.creator===this.props.user._id)) &&\r\n          filter[gem.category] === true &&\r\n          filter.dateStart <= gem.created_at.slice(0, 10) &&\r\n          gem.created_at.slice(0, 10) <= filter.dateEnd\r\n        );\r\n      });\r\n      this.setState({\r\n        gemsToDisplay: gemsFiltered,\r\n        displayFilters: false,\r\n        gemSelectedInfo: null\r\n      })\r\n    }\r\n\r\n  componentDidMount = () => {\r\n    if (!this.state.gemsData) this.getGemsData();\r\n  };\r\n\r\n  handleSelectChange = userFilter => {\r\n    this.setState({ filterStatus:{...this.state.filterStatus, userFilter:userFilter} });\r\n    console.log(`Option selected:`, userFilter);\r\n  };\r\n\r\n  handleChange = event => {\r\n    console.log(event.target)\r\n    const name = event.target.name;\r\n    const value =\r\n      event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        :event.target.value;\r\n    this.setState({\r\n      filterStatus: { ...this.state.filterStatus, [name]: value }\r\n    });\r\n  };\r\n\r\n  toggleFilters = () => {\r\n    const displayFilters = this.state.displayFilters ? false : true;\r\n    this.setState({\r\n      displayFilters\r\n    });\r\n  };\r\n\r\n  render() {\r\n    console.log(\"filter state: \",this.state.filterStatus);\r\n    if(!this.state.gemsToDisplay) return <></>\r\n    return (\r\n      <div className=\"explore-places\">\r\n        {this.state.displayFilters ? (\r\n          <>\r\n            <Filters\r\n              handleFilterChange={this.handleChange}\r\n              handleSelectChange={this.handleSelectChange}\r\n              handleFilterSubmit={this.filterGems}\r\n              userFilterOptions={userFilterOptions}\r\n              filterStatus={this.state.filterStatus}\r\n            />\r\n          </>\r\n        ) : (\r\n          <Button className=\"filter-toggle-button\" onClick={this.toggleFilters}>\r\n            <i className=\"fas fa-filter\"></i>\r\n          </Button>\r\n        )}\r\n        <MapGems gems={this.state.gemsToDisplay} user={this.props.user} gemSelectedInfo={this.state.gemSelectedInfo}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ExplorePlaces;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\n// import UpdateProfile from \"./UpdateProfile\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport axios from \"axios\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\n\r\nexport default class Profile extends Component {\r\n  state = {\r\n    user: this.props.user,\r\n    popularGems: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    // console.log(this.props.user);\r\n    if (!this.state.user) {\r\n      console.log(\"cop did\", this.props.user.data);\r\n      this.setState(\r\n        {\r\n          user: this.props.user.data\r\n        },\r\n        () => console.log(\"updated state\", this.state)\r\n      );\r\n    }\r\n    this.getPopularGems();\r\n  }\r\n\r\n  handleFollowClick(userId) {\r\n    console.log(\"called\");\r\n    axios.put(\"/api/user/updateFollower\", { id: userId });\r\n  }\r\n\r\n  getPopularGems = () => {\r\n    axios.get(`/api/user/${this.props.user._id}`).then(gems => {\r\n      console.log(gems.data);\r\n      this.setState({\r\n        popularGems: gems.data\r\n      });\r\n    });\r\n  };\r\n\r\n  displayPopularGems = () => {\r\n    return (\r\n      <Carousel>\r\n        {this.state.popularGems.map(gem => (\r\n          <Carousel.Item key={gem._id}>\r\n            <img\r\n              className=\"d-block w-100\"\r\n              style={{ height: \"40vh\", objectFit: \"cover\" }}\r\n              src={gem.imageUrl}\r\n              alt=\"gem\"\r\n            />\r\n            <Carousel.Caption>\r\n              <h3 style={{ fontWeight: 900 }}>{gem.title}</h3>\r\n              <p style={{ fontWeight: 500 }}>{gem.locationName}</p>\r\n              <a\r\n                className=\"btn btn-primary btn-primary:hover btn-landingpage generalBtn\"\r\n                href={`/gem/${gem._id}`}\r\n              >\r\n                Explore\r\n              </a>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n        ))}\r\n      </Carousel>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state.popularGems);\r\n    const user = this.state.user;\r\n    if (!user)\r\n      return (\r\n        <>\r\n          <p>This is the User Profile</p>\r\n          <p> No user!</p>\r\n        </>\r\n      );\r\n\r\n    const isFollowing = user.following.includes(user.username);\r\n    return (\r\n      <div className=\"ProfilePageDetails mx-auto\">\r\n        <div>\r\n          <h1>{user.username}</h1>\r\n          {user.username !== user.username && (\r\n            <Button\r\n              className=\"btn btn-primary btn-primary:hover btn-landingpage follow-button\"\r\n              onClick={event => this.handleFollowClick(user._id)}\r\n            >\r\n              {isFollowing ? \"Unfollow\" : \"Follow\"}\r\n            </Button>\r\n          )}\r\n        </div>\r\n        <div>\r\n          <img src=\"{user.profilePic}\" alt=\"\" />\r\n        </div>\r\n\r\n        <Link to=\"/update-profile\">\r\n          <Button variant=\"contained\" type=\"button\">\r\n            Edit your profile\r\n          </Button>\r\n        </Link>\r\n\r\n        <div>\r\n          <p>Score: {user.score}</p>\r\n          <p>Followers: {user.followers}</p>\r\n          <p>Following: {user.following}</p>\r\n        </div>\r\n        <div>\r\n          <p>Dicovered: {user.discovered}</p>\r\n          <p>Explored: {user.explored}</p>\r\n        </div>\r\n        <div>\r\n          <h2>About me</h2>\r\n          <p>{user.travelInterests}</p>\r\n        </div>\r\n        <div>\r\n          <h2>Most popular gems</h2>\r\n          {this.displayPopularGems()}\r\n        </div>\r\n        <h2>Trips</h2>\r\n        {/* <Link to={}>Trips</Link> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n// import ImageUploader from \"react-images-upload\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport default class UpdateProfile extends Component {\r\n  state = {\r\n    username: this.props.user.username,\r\n    profilePic: this.props.user.profilePic,\r\n    travelInterests: this.props.user.travelInterests\r\n  };\r\n\r\n  handleChange = event => {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n\r\n    const { username, profilePic, travelInterests } = this.state;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  // onDrop(profilePic) {\r\n  //   this.setState({\r\n  //     profilePic: this.state.profilePic.concat(profilePic)\r\n  //   });\r\n  // }\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    axios\r\n      .patch(\"/api/user/update\", {\r\n        username: this.state.username,\r\n        profilePic: this.state.profilePic,\r\n        travelInterests: this.state.travelInterests\r\n      })\r\n      .then(response => {\r\n        this.props.setUser(response.data);\r\n        this.props.history.push(\"/profile\");\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state.username);\r\n    return (\r\n      <>\r\n        <Form.Group>\r\n          <h2>Hello {this.props.user.username}</h2>\r\n        </Form.Group>\r\n        <FormControl onSubmit={this.handleSubmit}>\r\n          <Form.Group>\r\n            <InputLabel htmlFor=\"username input-with-icon-adornment\">\r\n              Change your username:\r\n            </InputLabel>\r\n            <Input\r\n              id=\"input-with-icon-adornment\"\r\n              onChange={this.handleChange}\r\n              placeholder={this.props.user.username}\r\n              // id=\"userName\"\r\n              name=\"username\"\r\n              value={this.state.username}\r\n              startAdornment={\r\n                <InputAdornment position=\"start\">\r\n                  <AccountCircle />\r\n                </InputAdornment>\r\n              }\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"travelInterests\"></Form.Label>\r\n            <TextField\r\n              id=\"outlined-multiline-static\"\r\n              label=\"Tell us about you\"\r\n              multiline\r\n              rows=\"4\"\r\n              defaultValue=\"Test\"\r\n              placeholder={this.props.user.travelInterests}\r\n              // className={classes.textField}\r\n              // margin=\"normal\"\r\n              variant=\"outlined\"\r\n            />\r\n            {/* <Form.Control\r\n              type=\"text\"\r\n              onChange={this.handleChange}\r\n              placeholder={this.props.user.travelInterests}\r\n              name=\"travelInterests\"\r\n              // id=\"travelInterests\"\r\n              value={this.state.travelInterests}\r\n            /> */}\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n              margin=\"theme.spacing(1)\"\r\n              startIcon={<SaveIcon />}\r\n            >\r\n              Save\r\n            </Button>\r\n          </Form.Group>\r\n\r\n          <Form.Group>\r\n            <Link to=\"/profile\">\r\n              <Button variant=\"contained\" type=\"button\">\r\n                View your profile\r\n              </Button>\r\n            </Link>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Link to=\"/explore-places\">\r\n              <Button variant=\"contained\" type=\"button\">\r\n                Explore places\r\n              </Button>\r\n            </Link>\r\n          </Form.Group>\r\n        </FormControl>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { CanvasOverlay } from \"react-map-gl\";\r\n\r\nclass PolyLineOverlay extends Component {\r\n  _redraw = ({ width, height, ctx, isDragging, project, unproject }) => {\r\n    const {\r\n      points,\r\n      color = \"red\",\r\n      lineWidth = 2,\r\n      renderWhileDragging = true\r\n    } = this.props;\r\n    ctx.clearRect(0, 0, width, height);\r\n    ctx.globalCompositeOperation = \"lighter\";\r\n\r\n    if ((renderWhileDragging || !isDragging) && points) {\r\n      ctx.lineWidth = lineWidth;\r\n      ctx.strokeStyle = color;\r\n      ctx.beginPath();\r\n      points.forEach(point => {\r\n        const pixel = project([point[1], point[0]]);\r\n        ctx.lineTo(pixel[0], pixel[1]);\r\n      });\r\n      ctx.stroke();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <CanvasOverlay redraw={this._redraw} />;\r\n  }\r\n}\r\n\r\nexport default PolyLineOverlay\r\n","import React from \"react\";\r\nimport ReactMapGL, { Marker } from \"react-map-gl\";\r\n\r\nconst GemOnMap = props => {\r\n  const coordinates=props.data.latitude.toFixed(3) + \",\" + props.data.longitude.toFixed(3)\r\n  return (\r\n    <div>\r\n        <Marker\r\n          latitude={props.data.latitude}\r\n          longitude={props.data.longitude}\r\n          captureClick={false}\r\n          draggable={false}\r\n          offsetTop={-30}\r\n          offsetLeft={-15}>\r\n          <div className=\"gem-marker\" onClick={()=>{props.addToTrip(coordinates)}}>\r\n            <img src=\"/images/blue_gem.png\" alt=\"Gem\"/>\r\n          </div>\r\n        </Marker>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default GemOnMap;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport ReactMapGL from \"react-map-gl\";\r\nimport PolyLineOverlay from \"./PolyLineOverlay\";\r\nimport GemForTrip from \"./GemForTrip\";\r\n\r\nclass TripDetails extends Component {\r\n  state = {\r\n    viewport: {\r\n      width: \"500px\",\r\n      height: \"500px\",\r\n      latitude: 53.520008,\r\n      longitude: 13.404954,\r\n      zoom: 3\r\n    },\r\n    gemsData: null,\r\n    tripStages: [],\r\n    points: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (!this.state.gemsData) this.getGemsData();\r\n  }\r\n\r\n  getGemsData = () => {\r\n    axios.get(\"/api/gem\").then(gems => {\r\n      this.setState({\r\n        gemsData: gems.data\r\n      });\r\n    });\r\n  };\r\n\r\n  addTripStage = coord => {\r\n    console.log(\"clicked\")\r\n    const currentStages = this.state.tripStages;\r\n    currentStages.push(coord);\r\n    this.setState({\r\n      tripStages: currentStages\r\n    });\r\n  };\r\n\r\n  getRoute = () => {\r\n    const mapboxApiAccessToken = process.env.REACT_APP_MAPBOX_TOKEN;\r\n    const coordinates = this.state.tripStages.join(\";\");\r\n    // https://api.mapbox.com/directions/v5/mapbox/cycling/-122.42,37.78;-77.03,38.91?steps=true&access_token=pk.eyJ1IjoiaW91cmkiLCJhIjoiY2swaTRnZGxnMDhyYjNmbXp1cTh4aGY0YSJ9.MmEIAiv3ZCEZzc_VLtZnCg\r\n    let url= `https://api.mapbox.com/directions/v5/mapbox/driving/${coordinates}?steps=true&access_token=pk.eyJ1IjoiaW91cmkiLCJhIjoiY2swaTRnZGxnMDhyYjNmbXp1cTh4aGY0YSJ9.MmEIAiv3ZCEZzc_VLtZnCg`\r\n    let url3 = `https://api.mapbox.com/directions/v5/mapbox/driving/${coordinates}.json?access_token=${mapboxApiAccessToken}`;\r\n    axios\r\n      .get(url)\r\n      .then(response => {\r\n        console.log(\"Response data: \", response.data);\r\n        const points = response.data.routes[0].legs[0].steps.reduce(\r\n          (acc, val) => {\r\n            console.log(\"Acc: \", acc)\r\n            const newPoint= val.intersections[0].location\r\n            console.log(\"New Point: \",newPoint)\r\n            return acc.concat([newPoint])\r\n          },\r\n          []);\r\n        console.log(\"Points: \",points);\r\n        this.setState({\r\n          points\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n\r\n    let gemsToRender = [];\r\n    console.log(this.state.tripStages)\r\n    if (this.state.gemsData) {\r\n      gemsToRender = this.state.gemsData.map(gem => {\r\n        return (\r\n            <GemForTrip key={gem._id} data={gem} addToTrip={this.addTripStage}/>\r\n        );\r\n      });\r\n    }\r\n    console.log(this.state.tripStages);\r\n    return (\r\n      <div>\r\n        <h2>Route details</h2>\r\n        <button onClick={this.getRoute}>Get route</button>\r\n        <ReactMapGL\r\n          {...this.state.viewport}\r\n          onViewportChange={viewport =>\r\n            this.setState({\r\n              viewport: viewport\r\n            })\r\n          }\r\n          mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\r\n          mapStyle=\"mapbox://styles/mapbox/streets-v10\"\r\n          captureDoubleClick={false}\r\n          doubleClickZoom={false}>\r\n          {this.state.points && <PolyLineOverlay points={this.state.points} />}\r\n          {gemsToRender}\r\n\r\n        </ReactMapGL>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TripDetails;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class SuggestGem extends Component {\r\n  state = {\r\n    suggestGemsData: null\r\n  };\r\n\r\n  getGemsData = () => {\r\n    axios.get(\"/api/gem\").then(gems => {\r\n      console.log(gems.data);\r\n      console.log(this.props.locationName);\r\n      let newdata = gems.data.filter(gem => {\r\n        let count = 0;\r\n        this.props.locationName.split(\",\").forEach(element => {\r\n          if (gem.locationName.indexOf(element) !== -1) {\r\n            count++;\r\n            console.log(count);\r\n          }\r\n        });\r\n        if (count >= 2) return true;\r\n      });\r\n      console.log(newdata);\r\n      this.setState({\r\n        suggestGemsData: newdata\r\n      });\r\n    });\r\n  };\r\n\r\n  handleRouteExperience = val => {\r\n    console.log(val);\r\n    this.props.fetchGemInfo({\r\n      latitude: val.latitude,\r\n      longitude: val.longitude,\r\n      locationName: val.locationName\r\n    });\r\n    this.props.setStage(\"AddExperience\");\r\n  };\r\n\r\n  handleRouteDiscovery = () => {\r\n    this.props.setStage(\"AddDiscovery\");\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    if (!this.state.gemsData) this.getGemsData();\r\n  };\r\n  render() {\r\n    console.log(this.state.gemsData);\r\n    return (\r\n      <div>\r\n        <h4 className=\"headingSetGem\">May be you mean one of these Gems?</h4>\r\n\r\n        {this.state.suggestGemsData != null &&\r\n          this.state.suggestGemsData.map(val => (\r\n            <div className=\"item\" key={val._id}>\r\n              <div>\r\n                <p>{val.title}</p>\r\n                <p>{val.locationName}</p>\r\n              </div>\r\n              <div>\r\n                <button onClick={() => this.handleRouteExperience(val)}>\r\n                  That's it\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n        <div className=\"item\">\r\n          <div>\r\n            <p>None it's a new Discovery!</p>\r\n            <p>Take current location</p>\r\n          </div>\r\n          <div>\r\n            <button onClick={this.handleRouteDiscovery}>That's it</button>\r\n          </div>\r\n        </div>\r\n        <button>Add Details &#129130;</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\r\nimport axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport ReactMapGL, {\r\n  Marker,\r\n  // Popup,\r\n  GeolocateControl,\r\n  NavigationControl\r\n} from \"react-map-gl\";\r\n\r\nimport Geocoder from \"react-mapbox-gl-geocoder\";\r\nimport SuggestGem from \"./SuggestGem\";\r\n\r\nexport class SetGem extends Component {\r\n  state = {\r\n    viewport: {\r\n      width: \"100%\",\r\n      height: \"100vh\",\r\n      latitude: 52.520008,\r\n      longitude: 13.404954,\r\n      zoom: 1,\r\n      bearing: 0,\r\n      pitch: 0\r\n    },\r\n    marker: {\r\n      markerClicked: false,\r\n      latitude: 52.520008,\r\n      longitude: 13.404954\r\n    }\r\n  };\r\n\r\n  // here we lift up the state to CreateGem and update longitude, latitude and locationname\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    let locationName = \"\";\r\n    axios\r\n      .get(\r\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.marker.longitude},${this.state.marker.latitude}.json?access_token=` +\r\n          process.env.REACT_APP_MAPBOX_TOKEN\r\n      )\r\n      .then(response => {\r\n        console.log(response);\r\n        locationName = response.data.features[0].place_name;\r\n        this.props.fetchGemInfo({\r\n          latitude: this.state.marker.latitude,\r\n          longitude: this.state.marker.longitude,\r\n          locationName: locationName\r\n        });\r\n        this.props.setStage(\"SuggestGem\");\r\n      })\r\n      .catch(err => console.log(\"Error in getting the locationname\" + err));\r\n  };\r\n\r\n  handleViewportChange = viewport => {\r\n    this.setState({\r\n      viewport: { ...this.state.viewport, ...viewport }\r\n    });\r\n  };\r\n\r\n  onSelected = (viewport, item) => {\r\n    this.setState({\r\n      viewport: viewport,\r\n      marker: {\r\n        longitude: viewport.longitude,\r\n        latitude: viewport.latitude\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state.marker);\r\n    console.log(this.state.viewport);\r\n    return (\r\n      <>\r\n        <ReactMapGL\r\n          {...this.state.viewport}\r\n          onViewportChange={viewport =>\r\n            this.setState({\r\n              viewport: viewport,\r\n              marker: {\r\n                longitude: viewport.longitude,\r\n                latitude: viewport.latitude\r\n              }\r\n            })\r\n          }\r\n          mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\r\n          mapStyle=\"mapbox://styles/mapbox/streets-v10\"\r\n          captureDoubleClick={false}\r\n          doubleClickZoom={false}\r\n          onDblClick={event => {\r\n            this.setState({\r\n              /* viewport: {\r\n                longitude: event.lngLat[0],\r\n                latitude: event.lngLat[1]\r\n              }, */\r\n              marker: {\r\n                longitude: event.lngLat[0],\r\n                latitude: event.lngLat[1]\r\n              }\r\n            });\r\n            // console.log(\"onclickevent\", event.lngLat);\r\n          }}\r\n        >\r\n          <Marker\r\n            latitude={this.state.marker.latitude}\r\n            longitude={this.state.marker.longitude}\r\n            offsetTop={-50}\r\n            offsetLeft={-25}\r\n            captureClick={false}\r\n            draggable={true}\r\n            onDragEnd={event =>\r\n              this.setState({\r\n                marker: {\r\n                  longitude: event.lngLat[0],\r\n                  latitude: event.lngLat[1]\r\n                }\r\n              })\r\n            }\r\n          >\r\n            <div className=\"gem-style\"></div>\r\n          </Marker>\r\n          {/*        {this.state.marker.markerClicked ? (\r\n            <Popup\r\n              latitude={this.state.marker.latitude}\r\n              longitude={this.state.marker.longitude}\r\n              closeButton={true}\r\n              closeOnClick={false}\r\n              onClose={() => {\r\n                this.setState({\r\n                  marker: { ...this.state.marker, markerClicked: false }\r\n                });\r\n              }}\r\n            >\r\n              <div>\r\n                latitude={this.state.marker.latitude}\r\n                longitude={this.state.marker.longitude}{\" \"}\r\n              </div>\r\n            </Popup>\r\n          ) : null} */}\r\n          <div style={{ position: \"absolute\", right: \"2vw\", top: \"10vh\" }}>\r\n            <NavigationControl\r\n              onViewportChange={viewport => this.setState({ viewport })}\r\n            />\r\n          </div>\r\n          <div style={{ position: \"absolute\", right: \"2vw\", top: \"4vh\" }}>\r\n            <GeolocateControl\r\n              positionOptions={{ enableHighAccuracy: true }}\r\n              trackUserLocation={true}\r\n            />\r\n          </div>\r\n          <div>\r\n            <Geocoder\r\n              mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\r\n              onSelected={this.onSelected}\r\n              viewport={this.state.viewport}\r\n              hideOnSelect={true}\r\n            />\r\n          </div>\r\n          <div className=\"setGem\">\r\n            <button onClick={this.onSubmit}>\r\n              <strong>Create Gem &#129130;</strong>\r\n            </button>\r\n          </div>\r\n        </ReactMapGL>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default SetGem;\r\n","import React, { Component } from 'react'\r\n\r\nexport default class GemWelcome extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        This is Gem Welcome\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { Formik } from \"formik\";\r\n\r\nimport {\r\n  Image,\r\n  Video,\r\n  Transformation,\r\n  CloudinaryContext\r\n} from \"cloudinary-react\";\r\n\r\nexport default class AddExperience extends React.Component {\r\n  state = {\r\n    message: \"\",\r\n    isEnabled: false,\r\n    nopic: false\r\n  };\r\n\r\n  handleChanges = (event) => {\r\n    const { name, value } = event.target;\r\n    console.log(event.target.visitedDate);\r\n    this.props.fetchGemInfo({\r\n      [name]: value\r\n    });\r\n\r\n    //Set timeout change into other function because its asychronouse and can not update checkStatus quickly enough\r\n    setTimeout(() => {\r\n      this.setState(\r\n        {\r\n          isEnabled: this.props.checkStatus()\r\n        },\r\n        () => console.log(\"updated state\", this.state)\r\n      );\r\n    }, 10);\r\n  };\r\n\r\n  noPicProceed = (event) => {\r\n    event.preventDefault();\r\n    if (event.target.name === \"yes\") {\r\n      this.props.setStage(\"GemSuccess\");\r\n      this.props.createGem();\r\n    } else {\r\n      this.setState({\r\n        message: \"\"\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    event.persist();\r\n    const files = event.target.imageUrl.files[0];\r\n    const uploadData = new FormData();\r\n    uploadData.append(\"imageUrl\", files);\r\n    axios\r\n      .post(\"/api/gem/add-image\", uploadData)\r\n      .then((response) => {\r\n        this.props.fetchGemInfo({\r\n          imageUrl: response.data.secure_url\r\n        });\r\n        this.props.setStage(\"GemSuccess\");\r\n        this.props.createGem();\r\n      })\r\n      .catch((err) => {\r\n        this.setState({\r\n          message: \"You want to proceed without uploading a picture?\"\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1> Tell others about your Experience</h1>\r\n        {this.props.locationName && (\r\n          <h2>{this.props.locationName.substring(0, 30)}...</h2>\r\n        )}\r\n\r\n        {this.state.message && (\r\n          <div>\r\n            <h3>{this.state.message}</h3>\r\n            <button onClick={this.noPicProceed} name=\"yes\">\r\n              Yes\r\n            </button>\r\n            <button onClick={this.noPicProceed} name=\"no\">\r\n              No\r\n            </button>\r\n          </div>\r\n        )}\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"title\">Title: </Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={this.handleChanges}\r\n              type=\"text\"\r\n              name=\"title\"\r\n              id=\"title\"\r\n              value={this.props.title}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"description\">Description: </Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={this.handleChanges}\r\n              type=\"text\"\r\n              name=\"description\"\r\n              id=\"description\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"category\">Category </Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={this.handleChanges}\r\n              name=\"category\"\r\n              as=\"select\"\r\n            >\r\n              <option value=\"\">Choose a category</option>\r\n              <option value=\"cultureArts\">Culter & Arts</option>\r\n              <option value=\"foodDrinks\">Food & Drinks</option>\r\n              <option value=\"hikes\">Hikes</option>\r\n              <option value=\"nature\">Nature</option>\r\n              <option value=\"party\">Party</option>\r\n              <option value=\"sports\">Sports</option>\r\n              <option value=\"others\">Others</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"goodToKnow\">Good to know: </Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={this.handleChanges}\r\n              type=\"text\"\r\n              name=\"goodToKnow\"\r\n              id=\"goodToKnow\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"visitedDate\">Date: </Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={this.handleChanges}\r\n              type=\"date\"\r\n              name=\"visitedDate\"\r\n              id=\"visitedDate\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Control type=\"file\" name=\"imageUrl\" />\r\n          </Form.Group>\r\n          <Button disabled={!this.state.isEnabled} type=\"submit\">\r\n            Create Gem\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { Formik } from \"formik\";\r\n\r\nimport {\r\n  Image,\r\n  Video,\r\n  Transformation,\r\n  CloudinaryContext\r\n} from \"cloudinary-react\";\r\n\r\nexport default class AddDiscovery extends React.Component {\r\n  state = {\r\n    message: \"\",\r\n    isEnabled: false,\r\n    nopic: false\r\n  };\r\n\r\n  handleChanges = (event) => {\r\n    const { name, value } = event.target;\r\n    this.props.fetchGemInfo({\r\n      [name]: value\r\n    });\r\n\r\n    //Set timeout change into other function because its asychronouse and can not update checkStatus quickly enough\r\n    setTimeout(() => {\r\n      this.setState(\r\n        {\r\n          isEnabled: this.props.checkStatus()\r\n        }\r\n        // () => console.log(\"updated state\", this.state)\r\n      );\r\n    }, 10);\r\n  };\r\n\r\n  noPicProceed = (event) => {\r\n    event.preventDefault();\r\n    if (event.target.name === \"yes\") {\r\n      this.props.fetchGemInfo({\r\n        discovery: true\r\n      });\r\n      this.props.setStage(\"GemSuccess\");\r\n      this.props.createGem();\r\n    } else {\r\n      this.setState({\r\n        message: \"\"\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    event.persist();\r\n    const files = event.target.imageUrl.files[0];\r\n    const uploadData = new FormData();\r\n    uploadData.append(\"imageUrl\", files);\r\n    axios\r\n      .post(\"/api/gem/add-image\", uploadData)\r\n      .then((response) => {\r\n        this.props.fetchGemInfo({\r\n          imageUrl: response.data.secure_url,\r\n          discovery: true\r\n        });\r\n        this.props.setStage(\"GemSuccess\");\r\n        this.props.createGem();\r\n      })\r\n      .catch((err) => {\r\n        this.setState({\r\n          message: \"You want to proceed without uploading a picture?\"\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1> Tell others about your Discovery</h1>\r\n        {this.props.locationName && (\r\n          <h2>{this.props.locationName.substring(0, 30)}...</h2>\r\n        )}\r\n\r\n        {this.state.message && (\r\n          <div>\r\n            <h3>{this.state.message}</h3>\r\n            <button onClick={this.noPicProceed} name=\"yes\">\r\n              Yes\r\n            </button>\r\n            <button onClick={this.noPicProceed} name=\"no\">\r\n              No\r\n            </button>\r\n          </div>\r\n        )}\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"title\">Title: </Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={this.handleChanges}\r\n              type=\"text\"\r\n              name=\"title\"\r\n              id=\"title\"\r\n              value={this.props.title}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"description\">Description: </Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={this.handleChanges}\r\n              type=\"text\"\r\n              name=\"description\"\r\n              id=\"description\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"category\">Category </Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={this.handleChanges}\r\n              name=\"category\"\r\n              as=\"select\"\r\n            >\r\n              <option value=\"\">Choose a category</option>\r\n              <option value=\"cultureArts\">Culter & Arts</option>\r\n              <option value=\"foodDrinks\">Food & Drinks</option>\r\n              <option value=\"hikes\">Hikes</option>\r\n              <option value=\"nature\">Nature</option>\r\n              <option value=\"party\">Party</option>\r\n              <option value=\"sports\">Sports</option>\r\n              <option value=\"others\">Others</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"goodToKnow\">Good to know: </Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={this.handleChanges}\r\n              type=\"text\"\r\n              name=\"goodToKnow\"\r\n              id=\"goodToKnow\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label htmlFor=\"visitedDate\">Date: </Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={this.handleChanges}\r\n              type=\"date\"\r\n              name=\"visitedDate\"\r\n              id=\"visitedDate\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Control type=\"file\" name=\"imageUrl\" />\r\n          </Form.Group>\r\n          <Button disabled={!this.state.isEnabled} type=\"submit\">\r\n            Create Gem\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport {\r\n  FacebookShareButton,\r\n  WhatsappShareButton,\r\n  EmailShareButton\r\n} from \"react-share\";\r\n\r\nimport { FacebookIcon, WhatsappIcon, EmailIcon } from \"react-share\";\r\n\r\nexport default class GemSuccess extends React.Component {\r\n  handleRoute = (event) => {\r\n    switch (event.target.name) {\r\n      case \"view\":\r\n        this.props.history.push(`/gem/${this.props.gemId}`);\r\n        break;\r\n      case \"share\":\r\n        break;\r\n      case \"add\":\r\n        this.props.setStage(\"AddToTrip\");\r\n        break;\r\n      case \"map\":\r\n        this.props.history.push(\"/explore-places\");\r\n        break;\r\n    }\r\n\r\n    // componentDidMount = () => {\r\n    //   let shareUrl = `http://localhost:3000/gem/${this.props.gemId}`;\r\n    // };\r\n  };\r\n\r\n  render() {\r\n    let shareUrl = `https://localhost:3000/gem/${this.props.gemId}`;\r\n    console.log(shareUrl);\r\n    console.log({ ...this.props });\r\n    return (\r\n      <div>\r\n        <h1>Your gem has successfully been created! Wuhuuu!</h1>\r\n        <div className=\"success-flex-column\">\r\n          <h4>Share your newest Discovery:</h4>\r\n          <div className=\"sharing-box\">\r\n            <div>\r\n              <FacebookShareButton url={shareUrl}>\r\n                <FacebookIcon size={32} round={true} />\r\n              </FacebookShareButton>\r\n            </div>\r\n            <div>\r\n              <WhatsappShareButton url={shareUrl}>\r\n                <WhatsappIcon size={32} round={true} />\r\n              </WhatsappShareButton>\r\n            </div>\r\n            <div>\r\n              <EmailShareButton url={shareUrl}>\r\n                <EmailIcon size={32} round={true} />\r\n              </EmailShareButton>\r\n            </div>\r\n          </div>\r\n\r\n          <Button onClick={this.handleRoute} name=\"view\">\r\n            View Gem\r\n          </Button>\r\n\r\n          <Button onClick={this.handleRoute} name=\"add\">\r\n            Add to a Trip\r\n          </Button>\r\n          <Button onClick={this.handleRoute} name=\"map\">\r\n            Back to Map\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport { requestTrips } from \"../../services/api\";\r\n\r\nexport default class AddToTrip extends Component {\r\n  state = {\r\n    formStatus: false,\r\n    trips: []\r\n  };\r\n\r\n  handleChanges = (event) => {\r\n    const { name, value } = event.target;\r\n    this.props.fetchTripInfos({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.createTrip();\r\n    requestTrips(this.props.creatorid)\r\n      .then((trips) => {\r\n        this.setState({ trips });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  showTrips = () => {\r\n    return this.state.trips.map((element) => {\r\n      return (\r\n        <Button\r\n          className=\"btn-options\"\r\n          onClick={() =>\r\n            this.props.selectTrip(\r\n              element._id,\r\n              element.name,\r\n              element.gemsVisited\r\n            )\r\n          }\r\n        >\r\n          {element.name}\r\n        </Button>\r\n      );\r\n    });\r\n  };\r\n\r\n  toogleForm = () => {\r\n    this.setState({\r\n      formStatus: !this.state.formStatus\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    requestTrips(this.props.creatorid)\r\n      .then((trips) => {\r\n        this.setState({ trips });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Which Trip you want to add the Gem?</h1>\r\n        <Button onClick={this.toogleForm}>Create a new Trip</Button>\r\n        {this.state.formStatus ? (\r\n          <Form onSubmit={this.handleSubmit}>\r\n            <Form.Group>\r\n              <Form.Label htmlFor=\"name\">Trip Name: </Form.Label>\r\n              <Form.Control\r\n                required\r\n                onChange={this.handleChanges}\r\n                type=\"text\"\r\n                name=\"name\"\r\n                id=\"name\"\r\n                value={this.props.title}\r\n              />\r\n            </Form.Group>\r\n            <Button type=\"submit\">Create Trip</Button>\r\n          </Form>\r\n        ) : (\r\n          <div></div>\r\n        )}\r\n        <div className=\"triplist\">{this.showTrips()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\n\r\nexport default class AddGemToTrip extends Component {\r\n  state = {\r\n    availableGems: []\r\n  };\r\n\r\n  showGems = () => {\r\n    let GemsInTripIncluded = [];\r\n    if (this.props.TripInfos.existingGems !== undefined) {\r\n      GemsInTripIncluded = this.props.TripInfos.existingGems;\r\n    }\r\n    console.log(\"Check here after click\", this.props.TripInfos.existingGems);\r\n    return this.props.TripInfos.allGems.map((element) => {\r\n      if (GemsInTripIncluded.includes(element._id)) {\r\n        return (\r\n          <div>\r\n            <Button\r\n              className=\"btn-options gem-active\"\r\n              onClick={() => this.props.updateGemStatus(element._id)}\r\n            >\r\n              {element.title} Is already in Trip\r\n            </Button>\r\n          </div>\r\n        );\r\n      } else {\r\n        return (\r\n          <div>\r\n            <Button\r\n              className=\"btn-options gem-inactive\"\r\n              onClick={() => {\r\n                this.props.updateGemStatus(element._id);\r\n              }}\r\n            >\r\n              {element.title} not included.\r\n            </Button>\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    console.log(\r\n      \"Did Mount and have Tripinfo props\",\r\n      this.props.TripInfos.existingGems\r\n    );\r\n  };\r\n\r\n  render() {\r\n    console.log(\r\n      \"All gem Information stored\",\r\n      this.props.TripInfos.existingGems\r\n    );\r\n    return (\r\n      <div>\r\n        <h1>Which Gems do you want to add to {this.props.tripName}</h1>\r\n        <div className=\"gemlist\">{this.showGems()}</div>\r\n        <Button onClick={this.props.saveGemsInTrip}>Save Gem to Trip</Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class GemList extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        This is Gem List\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\r\nimport React, { Component } from \"react\";\r\nimport SetGem from \"./SetGem\";\r\nimport GemWelcome from \"./GemWelcome\";\r\nimport SuggestGem from \"./SuggestGem\";\r\nimport AddExperience from \"./AddExperience\";\r\nimport AddDiscovery from \"./AddDiscovery\";\r\nimport GemSuccess from \"./GemSuccess\";\r\nimport AddToTrip from \"./AddToTrip\";\r\nimport GemList from \"./GemList\";\r\nimport AddGemToTrip from \"./AddGemToTrip\";\r\nimport {\r\n  pushGem,\r\n  requestTrips,\r\n  pushTrip,\r\n  specificGems,\r\n  updateTrip\r\n} from \"../../services/api.js\";\r\nimport Geocoder from \"react-mapbox-gl-geocoder\";\r\n\r\nclass CreateGem extends React.Component {\r\n  state = {\r\n    stage: \"AddToTrip\",\r\n    gem: {\r\n      title: \"\",\r\n      description: \"\",\r\n      goodToKnow: \"\",\r\n      imageUrl: \"\",\r\n      creator: this.props.user._id,\r\n      discovery: false,\r\n      category: \"\",\r\n      visitedDate: \"\",\r\n      latitude: 0,\r\n      longitude: 0,\r\n      locationName: \"\",\r\n      gemId: null\r\n    },\r\n    trip: {\r\n      tripId: null,\r\n      name: \"\",\r\n      creator: this.props.user._id,\r\n      selectedTrip: null,\r\n      allGems: [],\r\n      addedGems: [],\r\n      existingGems: []\r\n    }\r\n  };\r\n\r\n  checkStatus = () => {\r\n    console.log(this.state.gem);\r\n    const consider = [\r\n      \"title\",\r\n      \"description\",\r\n      \"goodToKnow\",\r\n      \"visitedDate\",\r\n      \"category\",\r\n      \"locationName\"\r\n    ];\r\n    for (var key in this.state.gem) {\r\n      if (this.state.gem[key] === \"\" && consider.indexOf(key) !== -1) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  createGem = () => {\r\n    let { ...pushObj } = this.state.gem;\r\n    delete pushObj.stage;\r\n    if (pushObj.creator === \"\") pushObj.creator = null;\r\n    pushGem(pushObj).then((n) => {\r\n      this.setState({\r\n        gem: {\r\n          gemId: n._id\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  fetchGemInfo = (gemInfos) => {\r\n    this.setState({ gem: { ...this.state.gem, ...gemInfos } });\r\n  };\r\n\r\n  createTrip = () => {\r\n    let { ...pushObj } = this.state.trip;\r\n    delete pushObj.stage;\r\n    if (pushObj.creator === \"\") pushObj.creator = null;\r\n    pushTrip(pushObj).then((n) => {\r\n      this.setState({\r\n        trip: {\r\n          tripId: n._id\r\n        }\r\n      });\r\n      console.log(\"created trip with state\", this.state.trip);\r\n      requestTrips(this.props.user._id);\r\n    });\r\n  };\r\n\r\n  fetchTripInfo = (tripInfos) => {\r\n    this.setState({ trip: { ...this.state.trip, ...tripInfos } });\r\n  };\r\n\r\n  getTrips = () => {\r\n    requestTrips().then((n) => {\r\n      this.setState({\r\n        trip: {\r\n          tripId: n._id\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  selectTrip = (tripid, name, selectedGem) => {\r\n    specificGems(this.props.user._id).then((gemArray) => {\r\n      this.setState({\r\n        stage: \"AddGemToTrip\",\r\n        trip: {\r\n          selectedTrip: tripid,\r\n          allGems: gemArray,\r\n          name: name,\r\n          existingGems: [\"5d9c95fc601535dd6b04d096\"]\r\n          //here needs to be selectedGem\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  saveGemsInTrip = () => {\r\n    let { ...pushObj } = this.state.trip;\r\n    console.log(\"State Trip bevor query\", this.state.trip);\r\n    if (pushObj.creator === \"\") pushObj.creator = null;\r\n    updateTrip(pushObj).then((n) => {\r\n      console.log(\"Request saveGemsTrip done\");\r\n    });\r\n  };\r\n\r\n  updateGemStatus = (gemid, event) => {\r\n    let addedGemcopy = [...this.state.trip.existingGems];\r\n    if (addedGemcopy.indexOf(gemid) === -1) addedGemcopy.push(gemid);\r\n    else addedGemcopy.splice(addedGemcopy.indexOf(gemid), 1);\r\n    this.setState({\r\n      trip: {\r\n        ...this.state.trip,\r\n        existingGems: addedGemcopy\r\n      }\r\n    });\r\n  };\r\n\r\n  setStage = (stage) => {\r\n    this.setState({\r\n      stage: stage\r\n    });\r\n  };\r\n\r\n  changeStage = (stage) => {\r\n    switch (stage) {\r\n      case \"GemWelcome\":\r\n        return <GemWelcome setStage={this.setStage} />;\r\n      case \"SetGem\":\r\n        return (\r\n          <SetGem fetchGemInfo={this.fetchGemInfo} setStage={this.setStage} />\r\n        );\r\n      case \"SuggestGem\":\r\n        return (\r\n          <SuggestGem\r\n            locationName={this.state.gem.locationName}\r\n            setStage={this.setStage}\r\n            fetchGemInfo={this.fetchGemInfo}\r\n          />\r\n        );\r\n      case \"AddExperience\":\r\n        return (\r\n          <AddExperience\r\n            locationName={this.state.gem.locationName}\r\n            fetchGemInfo={this.fetchGemInfo}\r\n            setStage={this.setStage}\r\n            checkStatus={this.checkStatus}\r\n            createGem={this.createGem}\r\n          />\r\n        );\r\n      case \"AddDiscovery\":\r\n        return (\r\n          <AddDiscovery\r\n            locationName={this.state.gem.locationName}\r\n            fetchGemInfo={this.fetchGemInfo}\r\n            setStage={this.setStage}\r\n            checkStatus={this.checkStatus}\r\n            createGem={this.createGem}\r\n          />\r\n        );\r\n      case \"GemSuccess\":\r\n        return (\r\n          <GemSuccess\r\n            gemId={this.state.gem.gemId}\r\n            setStage={this.setStage}\r\n            {...this.props}\r\n          />\r\n        );\r\n      case \"AddToTrip\":\r\n        return (\r\n          <AddToTrip\r\n            fetchTripInfos={this.fetchTripInfo}\r\n            setStage={this.setStage}\r\n            createTrip={this.createTrip}\r\n            creatorid={this.props.user._id}\r\n            selectTrip={this.selectTrip}\r\n          />\r\n        );\r\n      // case \"GemList\":\r\n      //   return <GemList />;\r\n      case \"AddGemToTrip\":\r\n        return (\r\n          <AddGemToTrip\r\n            TripInfos={this.state.trip}\r\n            updateGemStatus={this.updateGemStatus}\r\n            saveGemsInTrip={this.saveGemsInTrip}\r\n            tripName={this.state.trip.name}\r\n          />\r\n        );\r\n    }\r\n  };\r\n  render() {\r\n    console.log(this.state.stage, this.state);\r\n    return <div>{this.changeStage(this.state.stage)}</div>;\r\n  }\r\n}\r\n\r\nexport default CreateGem;\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class NotFound extends Component {\r\n  render() {\r\n    return <div>404 - Page not found</div>;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Menu from \"./components/global/Menu\";\r\nimport AboutUs from \"./components/global/AboutUs\";\r\nimport \"./App.css\";\r\nimport Login from \"./components/auth/Login\";\r\nimport Signup from \"./components/auth/Signup\";\r\nimport Logout from \"./components/auth/Logout\";\r\nimport Home from \"./components/global/Home\";\r\nimport ExplorePlaces from \"./components/explore/ExplorePlaces\";\r\nimport Profile from \"./components/profile/Profile\";\r\nimport UpdateProfile from \"./components/profile/UpdateProfile\";\r\nimport TripDetails from \"./components/explore/TripDetails\";\r\nimport GemDetails from \"./components/explore/GemDetails\";\r\nimport CreateGem from \"./components/create/CreateGem\";\r\nimport NotFound from \"./components/global/NotFound\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\n\r\nimport \"./App.css\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    user: this.props.user\r\n  };\r\n\r\n  setUser = user => {\r\n    this.setState({\r\n      user: user\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <>\r\n            <Route\r\n              render={props => (\r\n                <Menu\r\n                  user={this.state.user}\r\n                  setUser={this.setUser}\r\n                  {...props}\r\n                />\r\n              )}\r\n            />\r\n            <Switch>\r\n              <Route\r\n                exact\r\n                path=\"/login\"\r\n                render={props => <Login setUser={this.setUser} {...props} />}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/signup\"\r\n                render={props => <Signup setUser={this.setUser} {...props} />}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/profile\"\r\n                render={props => (\r\n                  <Profile\r\n                    setUser={this.setUser}\r\n                    {...props}\r\n                    user={this.state.user}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/update-profile\"\r\n                render={props => (\r\n                  <UpdateProfile\r\n                    setUser={this.setUser}\r\n                    {...props}\r\n                    user={this.state.user}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/create-gem\"\r\n                render={props => (\r\n                  <CreateGem {...props} user={this.state.user} />\r\n                )}\r\n              />\r\n              <Route exact path=\"/logout\" component={Logout} />\r\n              {/* <Route path=\"/profile/:profileId\" component={Profile} /> */}\r\n              <Route path=\"/trip/:tripId\" component={TripDetails} />\r\n              <Route\r\n                exact\r\n                path=\"/explore-places\"\r\n                render={props => (\r\n                  <ExplorePlaces {...props} user={this.state.user} />\r\n                )}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/gem/:gemId\"\r\n                render={props => (\r\n                  <GemDetails {...props} user={this.state.user} />\r\n                )}\r\n              />\r\n\r\n              <Route exact path=\"/about-us\" component={AboutUs} />\r\n              <Route component={NotFound} />\r\n            </Switch>\r\n          </>\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\naxios.get(\"/api/auth/loggedin\").then((response) => {\r\n  const user = response.data;\r\n\r\n  ReactDOM.render(\r\n    <BrowserRouter>\r\n      <App user={user} />\r\n    </BrowserRouter>,\r\n    document.getElementById(\"root\")\r\n  );\r\n});\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}