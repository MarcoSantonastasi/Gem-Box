(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{234:function(e,t,a){},282:function(e,t,a){e.exports=a(516)},287:function(e,t,a){},324:function(e,t,a){},327:function(e,t,a){},335:function(e,t){},337:function(e,t){},346:function(e,t,a){},470:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),s=a.n(l),o=(a(287),a(6)),i=a(5),c=a(8),u=a(7),m=a(9),p=a(561),h=a(559),d=a(560),g=a(16),f=a.n(g),E=function(e,t){return f.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},b=function(e,t){return f.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},v=function(){return f.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data}))},y=function(e){return f.a.post("/api/gem/create",e).then((function(e){return console.log("Here is the new gem",e.data),e.data})).catch((function(e){return e.response.data}))},O=function(e){return f.a.post("/api/trip/create",e).then((function(e){return console.log("Here is the new trip",e.data),e.data})).catch((function(e){return e.response.data}))},C=function(e){var t=e;return console.log("Check Param",t),f.a.get("/api/trip/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},w=function(e){console.log("Updated Trip to pass to function which makes axios call object:",e);var t=e.existingGems,a=e.selectedTrip;return f.a.put("/api/trip/update",{gemsVisited:t,gemId:a}).then((function(e){console.log("Received Data from server back frontend",e)})).catch((function(e){console.log(e)}))},S=function(e){var t=e;return f.a.get("/api/gem/creator/".concat(t)).then((function(e){return console.log("Got data from Axios call",e.data),e.data})).catch((function(e){return e.response.data}))},j=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(e){console.log("LOGOUT PROPS: ",e),v().then((function(){a.props.setUser(null),a.props.history.push("/logout")}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log("Menu state: ",this.state),console.log("Menu props: ",this.props),r.a.createElement(p.a,{bg:"light",variant:"light"},r.a.createElement(p.a.Brand,{href:"#home"},"GemBox"),r.a.createElement(h.a,{className:"mr-auto"},r.a.createElement(d.a,{title:"\u2630",id:"collasible-nav-dropdown"},r.a.createElement(d.a.Item,{href:"/"},"Home"),r.a.createElement(d.a.Item,{href:"/explore-places"},"Explore places"),this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Item,{href:"/create-gem"},"Create Gem"),r.a.createElement(d.a.Item,{href:this.props.user?"/profile/"+this.props.user._id:"/"},"Profile"),r.a.createElement(d.a.Divider,null),r.a.createElement(d.a.Item,{onClick:this.handleLogout},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Item,{href:"/login"},"Login"),r.a.createElement(d.a.Item,{href:"/signup"},"Signup")))))}}]),t}(r.a.Component),k=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"This is About Us")}}]),t}(n.Component),G=a(2),D=a(557),N=a(562),x=a(256),I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",message:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(G.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;b(n,r).then((function(e){e.message?a.setState({message:e.message,username:"",password:""}):(console.log(e),a.props.setUser(e),a.props.history.push("/explore-places"))}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Login"),r.a.createElement(D.a,{onSubmit:this.handleSubmit},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"username"},"User Name: "),r.a.createElement(D.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"password"},"Password: "),r.a.createElement(D.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})),this.state.message&&r.a.createElement(N.a,{variant:"danger"},this.state.message),r.a.createElement(x.a,{type:"submit"},"Login")),r.a.createElement("a",{href:"http://localhost:5555/api/auth/google"},r.a.createElement("button",null,"Login with Google")),r.a.createElement("a",{href:"http://localhost:5555/api/auth/facebook"},r.a.createElement("button",null,"Login with Facebook")))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",message:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(G.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;E(n,r).then((function(e){e.message?a.setState({message:e.message,username:"",password:""}):(a.props.setUser(e),a.props.history.push("/profile"))}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Signup"),r.a.createElement(D.a,{onSubmit:this.handleSubmit},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"username"},"User Name: "),r.a.createElement(D.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"password"},"Password: "),r.a.createElement(D.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})),this.state.message&&r.a.createElement(N.a,{variant:"danger"},this.state.message),r.a.createElement(x.a,{type:"submit"},"Signup")),r.a.createElement("a",{href:"http://localhost:5555/api/auth/google"},r.a.createElement("button",null,"Sign in Google")),r.a.createElement("a",{href:"http://localhost:5555/api/auth/facebook"},r.a.createElement("button",null,"Sign in with Facebook")))}}]),t}(r.a.Component),A=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={quote:"",author:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("/api/wisdom").then((function(e){return e.data})).catch((function(e){return e.resonse.data})).then((function(t){console.log(t),e.setState({quote:t.quote,author:t.author})}))}},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"header-box"},r.a.createElement("h1",null,"Happy Travel my Friend")),r.a.createElement("div",{className:"wisdom"},r.a.createElement("div",{className:"quote"},this.state.quote),r.a.createElement("div",{className:"author"},"- ",this.state.author))))}}]),t}(r.a.Component),T=a(30),F=(a(324),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},a.componentDidMount=function(){a.setState({user:a.props.user})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log("HOME PROPS: ",this.props),r.a.createElement("div",{className:"Landingpage"},r.a.createElement("svg",{className:"Logo",width:"200",height:"144",viewBox:"0 0 200 144",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r.a.createElement("g",{filter:"url(#filter0_b)"},r.a.createElement("path",{d:"M57.4223 35.992V63.352C54.7983 64.888 51.4703 66.104 47.4383 67C43.4063 67.896 39.0223 68.344 34.2863 68.344C26.9263 68.344 20.7183 66.808 15.6623 63.736C10.6063 60.6 6.79825 56.44 4.23825 51.256C1.74225 46.072 0.49425 40.408 0.49425 34.264C0.49425 28.184 1.80625 22.584 4.43025 17.464C7.05425 12.28 10.9903 8.152 16.2383 5.08C21.5503 2.008 27.9503 0.471998 35.4383 0.471998C39.5343 0.471998 43.4063 1.112 47.0543 2.392C50.7663 3.608 53.9023 5.304 56.4623 7.48L52.9103 14.968C50.8623 13.112 48.3023 11.608 45.2303 10.456C42.1583 9.304 38.8943 8.72799 35.4383 8.72799C30.3823 8.72799 26.0303 9.848 22.3823 12.088C18.7983 14.328 16.0783 17.4 14.2223 21.304C12.3663 25.144 11.4383 29.496 11.4383 34.36C11.4383 39.288 12.3023 43.704 14.0303 47.608C15.8223 51.512 18.4143 54.584 21.8063 56.824C25.2623 59.064 29.4223 60.184 34.2863 60.184C38.7023 60.184 42.8943 59.704 46.8623 58.744V35.992H57.4223ZM115.108 59.032V67H74.0198V1.72H113.188V9.688H84.9638V28.504H109.348V36.472H84.9638V59.032H115.108ZM195.447 1.72V67H184.695V45.592L185.367 18.808L166.935 47.224H159.159L140.439 18.52L141.303 45.592V67H130.551V1.72H140.535L162.999 36.088L185.463 1.72H195.447Z",fill:"#4BADB6"})),r.a.createElement("path",{d:"M43.4545 109.536C48.1905 110.496 51.7745 112.448 54.2065 115.392C56.6385 118.272 57.8545 121.824 57.8545 126.048C57.8545 131.616 55.7425 136 51.5185 139.2C47.2945 142.4 41.1825 144 33.1825 144H10.2385V78.72H33.1825C40.2865 78.72 45.6945 80.128 49.4065 82.944C53.1185 85.76 54.9745 89.824 54.9745 95.136C54.9745 98.592 53.9825 101.6 51.9985 104.16C50.0785 106.72 47.2305 108.512 43.4545 109.536ZM21.1825 86.688V105.6H33.1825C36.6385 105.6 39.2945 104.8 41.1505 103.2C43.0705 101.536 44.0305 99.2 44.0305 96.192C44.0305 89.856 40.4145 86.688 33.1825 86.688H21.1825ZM33.1825 136.032C37.5345 136.032 40.8945 135.072 43.2625 133.152C45.6945 131.168 46.9105 128.384 46.9105 124.8C46.9105 121.024 45.7265 118.208 43.3585 116.352C41.0545 114.496 37.6625 113.568 33.1825 113.568H21.1825V136.032H33.1825ZM186.921 144L168.585 117.312L150.153 144H137.289L161.961 110.304L138.921 78.72H151.881L168.585 103.488L185.289 78.72H198.153L175.113 110.112L199.977 144H186.921Z",fill:"#282727"}),r.a.createElement("rect",{x:"65",y:"72",width:"70",height:"72",fill:"url(#pattern0)"}),r.a.createElement("defs",null,r.a.createElement("filter",{id:"filter0_b",x:"-3.50574",y:"-3.52802",width:"202.953",height:"75.872",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},r.a.createElement("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),r.a.createElement("feGaussianBlur",{in:"BackgroundImage",stdDeviation:"2"}),r.a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur"}),r.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur",result:"shape"})),r.a.createElement("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},r.a.createElement("use",{xlinkHref:"#image0",transform:"translate(-0.0142857) scale(0.0205714 0.02)"})),r.a.createElement("image",{id:"image0",width:"50",height:"50",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAFK0lEQVRoge2aXYhVVRTHf3dGZyZTNC0rgiQ0pkgiLTWmJiPUSCSsQH2olKKyCSyo7Msg+yINKuslsHDMCiyjIi2yEgwaH/qiiSx7KEhKjdIa89Z83dPDWru975597j3nnnvvJPiHw5yz1tprr33O3vu/9roDx3AM/yuMA/4CoipfR4AJ9RrEWKC7BoMwV7f2UVOMAnY6nW6PsWsGPlCbH/SKVNYc02a747cLGF21qD00Ae9qR4f17wMBu0bgNdUfAFqBycAvKnsLGBFot0r1f2IH3VLVEQSC+1Lv53h2OWC96v4Apjm6qcDvqtuoti7mqu5zigc9slqDaABeUceHgBlAHiggi97FWuyibQ/4moX9mus83VhgEPgbmA78pnavIy8yE3LA89hPPgO4QJ93e7b3q7wPuKKEzznAP2p7n6f7VuXnA+chLy4CNjD0C6aCecN5YLbKbnOcGyxX2SCwOIHfq4ABbXO7I+9UWYc+t2G3ef8LJsZqddALzHfkG1V+qxdUAbglhf9l2mYQWKKyDvXd6di5X/ChFP4BeUuRBrjI032nuuleJ/em7QSZWmY6zkemVIRMMRcLgX7V3ZPU+Q3ImyoAN3q6cdgF2U78wk2DNdjpexl2IznBs7tW+y5gZ0MsyhmbLXI/cFDvXyDbQsypj0h97tf7uQHbUi/5P7ifb2WMzYMUpxNvEia3tGgENnu+V8XYlpr2iRfUVqejj4hPNypBE/Ce4/+dErbBjagdIbBaJYG1vo4A7Q3Il8jMnMOIRmQMANyM3TmmxbUA7sBOq1phB0OJ0sdULFHe5CtfVMX3xJ8HxmCz03MzBFsqwALQUyaG3RrDppBBC/CZGrxN/Jb6rNqsrzzeWJhtOI6XckgSGQFfIeejICZhs867Y2ymIFyTB06sLN4gxiMLt4CcYUJYic3CJ5dzuAAJdIAwKQFsI5y9ZoHJnrfG6C9FeK6A5HeJ8Cj2EHVaQD9P9T9TnYPPCGAv8Yx+Cvaw9Ugaxw1YctqFkJUPU4BIkraXwxL19Q1D1+ZI4GPVf0gFVDEeWzR4JqA3Z5CutI4D2KW+QseAdar7CTip0g5mYlOX6zzdKOzGMLPSDrCp+0HgeE+3GJvmt2XoA5AsOEII6BxPZ06Qwf08IV5WH2s8eSuWs5Zn8F+EDepwD8VEdTqyk/QR3hTK4VQk8RsAznDko5H1EiGFj6qhBSnTREiJxl2QW1S+ugK/D2MrJQY5bOmpmxKkVymmYKsadzrydpX9SrqCWjP2EHWxI79LZT3AWRniLYkFCCH1Y6sqAJ9q50tT+Fqmbb5wZG3INC0AV2cJNAkexx53zbpYGgiqHMzgr9fnkxGCjYDHqhJpGTQA72M5pAmZJvtUFqow+rgEmzm0IMxuiuM7qOP5aALwo3b8lMrM8XNLgvZvUHysflqf95KB9CrFLCxZLgIm6rO/lfqYhKyxXiSHWoisiT7gohrGWxKmfHoYIctN+ry2RJsn1eYlikmvo0SbuqATS5Zm7h9iaLoBwgnmp4XZWNJ7tR6BlsNxyG4VIXWuLuLTCpPufIKtY31NeNDDgjORH3YibJF7D8UZQA571jY2PcDZdY00Aa7EkuUBJNB5jv5ybAbQq7bX1DnGxDAFaVPc3ubozO+PZnE/UffoUqAR++usKYa3IlNvUC9DetWoGdcUE7Hn7wgpHz3nPO9D0vejAhciBGeql3m976c40z0qsIKhBecVwxpRBrj/JbFzmGPJhDFI9TBPHf6/pNZoJb4EWjX8C2RUC1duuJhSAAAAAElFTkSuQmCC"}))),r.a.createElement("div",{className:"Teaser"},r.a.createElement("div",{className:"TeaserTextContainer"},r.a.createElement("div",{className:"TeaserText"},r.a.createElement("p",null,"Get inspired."),r.a.createElement("p",null,"Find places."),r.a.createElement("p",null,"Share discoveries.")))),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("a",{className:"btn btn-primary btn-landingpage generalBtn-landing",href:"/explore-places",role:"button"},"Open the box")),!this.state.user&&r.a.createElement("div",{className:"btn-signup-login"},r.a.createElement("p",null,r.a.createElement(T.b,{className:"btn btn-link btn-lp ",to:"/Signup"},"Join the community")),r.a.createElement("p",null,r.a.createElement(T.b,{className:"btn btn-link btn-lp",to:"/Login"},"Login")))),this.state.message&&r.a.createElement(N.a,{variant:"danger"},this.state.message))}}]),t}(n.Component)),L=a(271),U=(a(327),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={displayFilters:!1,gemsData:null,filterStatus:a.props.filterStatus,selectedOption:null},a.handleSelectChange=function(e){a.setState({selectedOption:e}),console.log("Option selected:",e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.state.selectedOption;return r.a.createElement("div",{className:"filters-block-wrapper"},r.a.createElement("div",{className:"filters-block-inside"},r.a.createElement("h1",null,"Filter by"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:this.props.handleFilterSubmit},r.a.createElement("div",{className:"inputs-container"},r.a.createElement("div",{className:"inputs-col"},r.a.createElement(L.a,{defaultValue:"all",value:this.props.filterStatus.userFilter,onChange:this.props.handleSelectChange,options:this.props.userFilterOptions}))),r.a.createElement("div",{className:"inputs-container"},r.a.createElement("div",{className:"inputs-col"},r.a.createElement("input",{type:"checkbox",name:"showGems",id:"showGems",checked:this.props.filterStatus.showGems,onChange:this.props.handleFilterChange}),r.a.createElement("label",{htmlFor:"showGems"},"Gems")),r.a.createElement("div",{className:"inputs-col"},r.a.createElement("input",{type:"checkbox",name:"showTrips",id:"showTrips",checked:this.props.filterStatus.showTrips,onChange:this.props.handleFilterChange}),r.a.createElement("label",{htmlFor:"showTrips"},"Trips"))),r.a.createElement("hr",null),r.a.createElement("h2",null,"Show by date"),r.a.createElement("div",{className:"inputs-dates"},r.a.createElement("label",{htmlFor:"dateStart"},"From:"),r.a.createElement("input",{type:"date",id:"dateStart",name:"dateStart",value:this.props.filterStatus.dateStart,onChange:this.props.handleFilterChange})),r.a.createElement("div",{className:"inputs-dates"},r.a.createElement("label",{htmlFor:"dateStart"},"To:"),r.a.createElement("input",{type:"date",id:"dateEnd",name:"dateEnd",value:this.props.filterStatus.dateEnd,onChange:this.props.handleFilterChange})),r.a.createElement("hr",null),r.a.createElement("h2",null,"Categories"),r.a.createElement("div",{className:"inputs-container"},r.a.createElement("div",{className:"inputs-col"},r.a.createElement("input",{type:"checkbox",name:"foodDrinks",id:"foodDrinks",checked:this.props.filterStatus.foodDrinks,onChange:this.props.handleFilterChange}),r.a.createElement("label",{htmlFor:"foodDrinks"},"Food & Drinks"),r.a.createElement("input",{type:"checkbox",name:"cultureArts",id:"cultureArts",checked:this.props.filterStatus.cultureArts,onChange:this.props.handleFilterChange}),r.a.createElement("label",{htmlFor:"cultureArts"},"Culture & Arts"),r.a.createElement("input",{type:"checkbox",name:"sports",id:"sports",checked:this.props.filterStatus.sports,onChange:this.props.handleFilterChange}),r.a.createElement("label",{htmlFor:"sports"},"Sports"),r.a.createElement("input",{type:"checkbox",name:"party",id:"party",checked:this.props.filterStatus.party,onChange:this.props.handleFilterChange}),r.a.createElement("label",{htmlFor:"party"},"Party")),r.a.createElement("div",{className:"inputs-col"},r.a.createElement("input",{type:"checkbox",name:"hikes",id:"hikes",checked:this.props.filterStatus.hikes,onChange:this.props.handleFilterChange}),r.a.createElement("label",{htmlFor:"hikes"},"Hikes"),r.a.createElement("input",{type:"checkbox",name:"nature",id:"nature",checked:this.props.filterStatus.nature,onChange:this.props.handleFilterChange}),r.a.createElement("label",{htmlFor:"nature"},"Nature"),r.a.createElement("input",{type:"checkbox",name:"other",id:"other",checked:this.props.filterStatus.other,onChange:this.props.handleFilterChange}),r.a.createElement("label",{htmlFor:"other"},"Other"))),r.a.createElement("hr",null),r.a.createElement(x.a,{className:"btn btn-primary generalBtn",type:"submit"},"Apply & Close"))))}}]),t}(n.Component)),H=(a(142),a(26)),M=function(e){return r.a.createElement("div",null,r.a.createElement(H.b,{latitude:e.data.latitude,longitude:e.data.longitude,captureClick:!1,draggable:!1,offsetTop:-30,offsetLeft:-15},r.a.createElement("div",{className:"gem-marker",onClick:function(){e.openPopup(e.data)}},r.a.createElement("img",{src:"/images/diamond-icon-green.png",alt:"Gem"}))))},B=a(103),Y=a(34);a(346);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(G.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentGemData:a.props.data,currentGemIndex:0,experienceGemData:null,creatorData:null,fromProfile:a.props.fromProfile},a.componentDidMount=function(){a.state.currentGemData||a.getGemData(),a.state.currentGemData&&!a.state.creatorData&&a.getCreatorData(),a.state.currentGemData&&!a.state.experienceGemData&&a.getExperienceGemData()},a.getGemData=function(){var e=a.props.match.params.gemId;f.a.get("/api/gem/".concat(e)).then((function(e){a.setState({currentGemData:e.data})}))},a.handleLike=function(){var e=Object(Y.a)(a.state.currentGemData.likes),t=a.props.user._id;e.includes(t)?e.splice(e.indexOf(t),1):e.push(a.props.user._id);var n=a.state.currentGemData._id;f.a.put("/api/gem/".concat(n),{likes:e}).then((function(e){console.log(e),a.setState({currentGemData:Z({},e.data,{likes:e.data.likes})})}))},a.getGemExperience=function(e){var t=a.state,n=t.currentGemIndex,r=t.experienceGemData,l=n;"previous"===e.target.name&&n>0&&(l-=1),"next"===e.target.name&&n<r.length-1&&(l+=1);var s=r[l];a.setState({currentGemIndex:l,currentGemData:s})},a.getExperienceGemData=function(){f.a.get("/api/gem/").then((function(e){console.log(e);var t=a.state.currentGemData,n=t.latitude,r=t.longitude,l=e.data.filter((function(e){return e.latitude===n&&e.longitude===r}));a.setState({experienceGemData:l})})).catch((function(e){404===e.response.status&&a.setState({error:"Not found"})}))},a.getCreatorData=function(){console.log("get creator data called",a.state.currentGemData.creator);var e=a.state.currentGemData.creator;f.a.get("/api/user/".concat(e)).then((function(e){console.log(e),a.setState({creatorData:e.data})})).catch((function(e){404===e.response.status&&a.setState({error:"Not found"})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;if(console.log("Creator data: ",this.state.creatorData),!this.state.currentGemData)return r.a.createElement(r.a.Fragment,null);this.state.currentGemData&&this.state.currentGemData.creator;var t=this.state.currentGemData;if(!t)return r.a.createElement(r.a.Fragment,null);var a=!(!this.props.user||!t.likes.includes(this.props.user._id)),n=a?"btn-unlike":"btn-like";return r.a.createElement("div",{className:"gem-details page-wrapper "},r.a.createElement("h3",{className:"gem-title"},t.title),r.a.createElement("img",{className:"gem-details-image",src:t.imageUrl,alt:""}),r.a.createElement("div",{className:"flex-row-sides creatorDataOnGem"},this.state.creatorData&&r.a.createElement("p",{className:"details-titles"},t.discovery?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"gem-discovery-icon",src:"images/diamond-icon-gold.png",alt:"gem",height:"20px"})," ","Discovered"):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"gem-discovery-icon",src:"images/diamond-icon-green.png",alt:"gem",height:"20px"})," ","Experienced")," ","by ",r.a.createElement("a",{href:"/profile/".concat(this.state.creatorData._id)},this.state.creatorData.username)),r.a.createElement("div",null,this.props.user?r.a.createElement("span",{className:n,onClick:function(){return e.handleLike()}},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{class:"fas fa-heart"})," ",t.likes.length):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{class:"far fa-heart"})," ",t.likes.length)):r.a.createElement(r.a.Fragment,null,"Likes: ",t.likes.length))),this.state.experienceGemData&&this.state.experienceGemData.length>1&&r.a.createElement("div",{className:"flex-row-sides"},r.a.createElement("button",{className:"btn-previous",name:"previous",onClick:this.getGemExperience},r.a.createElement("i",{class:"fa fa-chevron-left"})," Previous"),r.a.createElement("button",{className:"btn-next",name:"next",onClick:this.getGemExperience},"Next ",r.a.createElement("i",{class:"fa fa-chevron-right"}))),r.a.createElement("div",{className:"gem-details-info"},r.a.createElement("div",{className:"flex-row-sides"},t.locationName&&r.a.createElement("p",null,t.locationName.substring(0,30),"...")),r.a.createElement("div",{className:"gem-divs"},r.a.createElement("p",{className:"details-titles"},"Descriprion: "),r.a.createElement("p",{className:"details-infos"},t.description)),r.a.createElement("div",{className:"gem-divs"},r.a.createElement("p",{className:"details-titles"},"Good to know: "),r.a.createElement("p",{className:"details-infos"},t.goodToKnow)),r.a.createElement("div",{className:"cat-creat-container"},r.a.createElement("div",{className:"gem-divs"},r.a.createElement("p",{className:"details-titles"},"Category: "),r.a.createElement("p",{className:"details-infos"},{foodDrinks:"Food & Drinks",cultureArts:"Culture & Arts",hikes:"Hikes",nature:"Nature & Sight",party:"Party",sports:"Sports",others:"Others"}[t.category])),r.a.createElement("div",{className:"gem-divs"},r.a.createElement("p",{className:"details-titles"},"Created: "),r.a.createElement("p",{className:"details-infos"},t.created_at.slice(0,10))))),this.props.closeDetails?r.a.createElement("div",null,r.a.createElement(x.a,{className:"back-btn generalBtn",onClick:this.props.closeDetails},"Back to Map")):r.a.createElement("div",null,r.a.createElement(T.b,{className:"back-Link",to:"/explore-places"},r.a.createElement(x.a,{className:"back-btn generalBtn"},"Back to Map"))),r.a.createElement("div",{className:"arrow-down"},r.a.createElement("i",{className:"fas fa-angle-down"})))}}]),t}(n.Component);a(104);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(G.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={viewport:{width:"100%",height:"95vh",latitude:70.520008,longitude:70.404954,zoom:2},gemSelectedInfo:a.props.gemSelectedInfo,displayDetails:!1},a.openPopup=function(e){a.setState({gemSelectedInfo:J({},e)})},a.closeDetails=function(){a.setState({displayDetails:!1,gemSelectedInfo:null})},a.openDetails=function(){a.setState({displayDetails:!0})},a.setUserLocation=function(){navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,long:e.coords.longitude};a.setState({viewport:J({},a.state.viewport,{latitude:t.lat,longitude:t.long})})}))},a.onGeocontrolSelected=function(e,t){a.setState({viewport:e,marker:{longitude:e.longitude,latitude:e.latitude}})},a.renderPopup=function(){var e=a.state.gemSelectedInfo,t={foodDrinks:["Food & Drinks","#363"],cultureArts:["Culture & Arts","#229"],hikes:["Hikes","#4badb6"],nature:["Nature & Sight","#2b2"],party:["Party","#811"],sports:["Sports","#292"],others:["Others","#555"]};return e&&r.a.createElement(H.d,{className:"gem-popup",tipSize:5,anchor:"top",latitude:e.latitude,longitude:e.longitude,closeButton:!0,closeOnClick:!1,onClose:function(){return a.setState({gemSelectedInfo:null})}},r.a.createElement("div",null,r.a.createElement("img",{className:"gem-popup-img",src:e.imageUrl,alt:""}),r.a.createElement("p",{className:"gem-popup-title"},r.a.createElement("strong",null,e.title)),r.a.createElement("p",{className:"gem-popup-category"},r.a.createElement("span",{style:{color:"".concat(t[e.category][1])}},t[e.category][0])),r.a.createElement("button",{onClick:a.openDetails,className:"gem-popup-btn"},"Explore")))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.gems.map((function(t){return r.a.createElement(M,{key:t._id,data:t,openPopup:e.openPopup})}));return this.setUserLocation(),r.a.createElement("div",{className:"page-wrapper"},this.state.displayDetails?r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{data:this.state.gemSelectedInfo,user:this.props.user,closeDetails:this.closeDetails})):r.a.createElement(H.e,Object.assign({},this.state.viewport,{onViewportChange:function(t){return e.setState({viewport:t})},mapboxApiAccessToken:"pk.eyJ1IjoiaW91cmkiLCJhIjoiY2swaTRnZGxnMDhyYjNmbXp1cTh4aGY0YSJ9.MmEIAiv3ZCEZzc_VLtZnCg",mapStyle:"mapbox://styles/iouri/ck1kkzpus4iir1dmi0h34dz0s",captureDoubleClick:!1,doubleClickZoom:!1}),r.a.createElement("div",{style:{position:"absolute",right:"2vw",top:"10vh"}},r.a.createElement(H.c,{onViewportChange:function(t){return e.setState({viewport:t})}})),r.a.createElement("div",null,r.a.createElement(x.a,{style:{position:"absolute",right:"2vw",top:"2vh",backgroundColor:"#09d3ac"},onClick:this.props.toggleFilters},r.a.createElement("i",{className:"fas fa-filter"}))),r.a.createElement("div",{style:{position:"absolute",left:"20%",top:"2vh"}},r.a.createElement(B.a,{mapboxApiAccessToken:"pk.eyJ1IjoiaW91cmkiLCJhIjoiY2swaTRnZGxnMDhyYjNmbXp1cTh4aGY0YSJ9.MmEIAiv3ZCEZzc_VLtZnCg",onSelected:this.onGeocontrolSelected,viewport:this.state.viewport,hideOnSelect:!0})),t,this.renderPopup()))}}]),t}(n.Component);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(G.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K=[{value:"all",label:"All"},{value:"liked",label:"Liked"},{value:"mine",label:"Mine"}],X=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={displayFilters:!1,gemsData:null,gemsToDisplay:null,gemSelectedInfo:null,filterStatus:{showGems:!0,showTrips:!0,userFilter:"all",dateStart:"2019-01-01",dateEnd:"2019-12-31",foodDrinks:!0,cultureArts:!0,sports:!0,party:!0,hikes:!0,nature:!0,others:!0}},a.getGemsData=function(){f.a.get("/api/gem").then((function(e){console.log(e.data),a.setState({gemsData:e.data,gemsToDisplay:e.data})}))},a.filterGems=function(e){e.preventDefault();var t=a.state.filterStatus;f.a.get("/api/gem").then((function(e){var n=e.data.filter((function(e){return t.showGems&&("all"===t.userFilter.value||"liked"===t.userFilter.value&&e.likes.includes(a.props.user._id)||"mine"===t.userFilter.value&&e.creator===a.props.user._id)&&!0===t[e.category]&&t.dateStart<=e.created_at.slice(0,10)&&e.created_at.slice(0,10)<=t.dateEnd}));a.setState({gemsData:e.data,gemsToDisplay:n,displayFilters:!1,gemSelectedInfo:null})}))},a.componentDidMount=function(){a.state.gemsData||a.getGemsData()},a.handleSelectChange=function(e){a.setState({filterStatus:W({},a.state.filterStatus,{userFilter:e})}),console.log("Option selected:",e)},a.handleChange=function(e){console.log(e.target);var t=e.target.name,n="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState({filterStatus:W({},a.state.filterStatus,Object(G.a)({},t,n))})},a.toggleFilters=function(){var e=!a.state.displayFilters;a.setState({displayFilters:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.gemsToDisplay?r.a.createElement("div",null,r.a.createElement("div",{className:"explore-places page-wrapper"},r.a.createElement("div",{className:"explore-places-map"},this.state.displayFilters&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{handleFilterChange:this.handleChange,handleSelectChange:this.handleSelectChange,handleFilterSubmit:this.filterGems,userFilterOptions:K,filterStatus:this.state.filterStatus})),r.a.createElement(R,{toggleFilters:this.toggleFilters,gems:this.state.gemsToDisplay,user:this.props.user,gemSelectedInfo:this.state.gemSelectedInfo})))):r.a.createElement(r.a.Fragment,null)}}]),t}(n.Component),Q=a(549),$=a(563),ee=a(564),te=a(546),ae=a(556),ne=a(260),re=a.n(ne),le=a(261),se=a.n(le),oe=a(558),ie=(a(144),a(234),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:a.props.user.username,profilePic:a.props.user.profilePic,travelInterests:a.props.user.travelInterests},a.handleChange=function(e){var t=e.target.name,n=e.target.value,r=a.state;r.username,r.profilePic,r.travelInterests;a.setState(Object(G.a)({},t,n))},a.handleSubmit=function(e){e.preventDefault();var t=e.target.profilePic.files[0],n=new FormData;n.append("profilePic",t),f.a.post("/api/user/add-image",n).then((function(e){a.setState({profilePic:e.data.secure_url},(function(){console.log("Profile pic updated",a.state.profilePic)})),f.a.patch("/api/user/update",{username:a.state.username,profilePic:a.state.profilePic,travelInterests:a.state.travelInterests}).then((function(e){a.props.setUser(e.data),a.props.history.push("/profile/".concat(a.props.user._id))})).catch((function(e){console.log(e)}))})).catch((function(e){f.a.patch("/api/user/update",{username:a.state.username,profilePic:a.state.profilePic,travelInterests:a.state.travelInterests}).then((function(e){a.props.setUser(e.data),console.log("newUser set call component"),a.props.history.push("/profile/".concat(a.props.user._id))})).catch((function(e){console.log(e),a.props.history.push()}))}))},a.directProfile=function(){a.props.history.push("/profile/".concat(a.props.user._id))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e;return console.log(this.state.username),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wrapper-update"},r.a.createElement(D.a,{onSubmit:this.handleSubmit},r.a.createElement(D.a.Group,null,r.a.createElement("h2",null,"Hello ",this.props.user.username)),r.a.createElement(te.a,null,r.a.createElement(D.a.Group,null,r.a.createElement($.a,{htmlFor:"username input-with-icon-adornment"},"Change your username:"),r.a.createElement(Q.a,{id:"input-with-icon-adornment",onChange:this.handleChange,placeholder:this.props.user.username,name:"username",value:this.state.username,startAdornment:r.a.createElement(ee.a,{position:"start"},r.a.createElement(re.a,null))})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"profilePic"},"Update your Picture"),r.a.createElement(D.a.Control,{id:"profilePic",type:"file",name:"profilePic"})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"travelInterests"}),r.a.createElement(ae.a,{onChange:this.handleChange,id:"travelInterests",name:"travelInterests",label:"Tell us about you",multiline:!0,rows:"4",value:this.state.travelInterests,placeholder:this.props.user.travelInterests,variant:"outlined"})),r.a.createElement(D.a.Group,null,r.a.createElement(oe.a,(e={onClick:this.handleSubmit,type:"submit",variant:"contained",size:"small",margin:"theme.spacing(1)"},Object(G.a)(e,"onClick",!0),Object(G.a)(e,"startIcon",r.a.createElement(se.a,null)),e),"Save")),r.a.createElement(D.a.Group,null,r.a.createElement(oe.a,{onClick:this.directProfile,variant:"contained",type:"button"},"Discard Changes")),r.a.createElement(D.a.Group,null,r.a.createElement(T.b,{to:"/explore-places"},r.a.createElement(oe.a,{variant:"contained",type:"button"},"Explore places")))))))}}]),t}(n.Component)),ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._redraw=function(e){var t=e.width,n=e.height,r=e.ctx,l=e.isDragging,s=e.project,o=(e.unproject,a.props),i=o.points,c=o.color,u=void 0===c?"rgba(50,50,255,0.5)":c,m=o.lineWidth,p=void 0===m?8:m,h=o.renderWhileDragging,d=void 0===h||h;r.clearRect(0,0,t,n),r.globalCompositeOperation="lighter",!d&&l||!i||(r.lineWidth=p,r.strokeStyle=u,r.beginPath(),i.forEach((function(e){var t=s([e[1],e[0]]);console.log("pixel:",t),r.lineTo(t[0],t[1])})),r.stroke())},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(H.a,{redraw:this._redraw})}}]),t}(n.Component),ue=function(e){var t=[e.data.latitude,e.data.longitude];return r.a.createElement("div",null,r.a.createElement(H.b,{latitude:e.data.latitude,longitude:e.data.longitude,captureClick:!1,draggable:!1,offsetTop:-30,offsetLeft:-15},r.a.createElement("div",{className:"gem-marker",onClick:function(){e.addToTrip(t)}},r.a.createElement("img",{src:"/images/blue_gem.png",alt:"Gem"}))))},me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={viewport:{width:"500px",height:"500px",latitude:53.520008,longitude:13.404954,zoom:3},gemsData:null,tripStages:[],points:[]},a.getGemsData=function(){f.a.get("/api/gem").then((function(e){a.setState({gemsData:e.data})}))},a.addTripStage=function(e){console.log("clicked");var t=a.state.tripStages;t.push(e),a.setState({tripStages:t})},a.getSimpleRoute=function(){a.setState({points:a.state.tripStages})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.gemsData||this.getGemsData()}},{key:"render",value:function(){var e=this,t=[];return console.log(this.state.tripStages),this.state.gemsData&&(t=this.state.gemsData.map((function(t){return r.a.createElement(ue,{key:t._id,data:t,addToTrip:e.addTripStage})}))),console.log(this.state.tripStages),r.a.createElement("div",null,r.a.createElement("h2",null,"Route details"),r.a.createElement("button",{onClick:this.getSimpleRoute},"Get route"),r.a.createElement(H.e,Object.assign({},this.state.viewport,{onViewportChange:function(t){return e.setState({viewport:t})},mapboxApiAccessToken:"pk.eyJ1IjoiaW91cmkiLCJhIjoiY2swaTRnZGxnMDhyYjNmbXp1cTh4aGY0YSJ9.MmEIAiv3ZCEZzc_VLtZnCg",mapStyle:"mapbox://styles/mapbox/streets-v10",captureDoubleClick:!1,doubleClickZoom:!1}),this.state.points&&r.a.createElement(ce,{points:this.state.points}),t))}}]),t}(n.Component),pe=a(1),he=(a(159),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={suggestGemsData:null},a.getGemsData=function(){f.a.get("/api/gem").then((function(e){console.log(e.data),console.log(a.props.locationName);var t=e.data.filter((function(e){var t=0;if(a.props.locationName.split(",").forEach((function(a){-1!==e.locationName.indexOf(a)&&(t++,console.log(t))})),t>=2)return!0}));console.log(t),a.setState({suggestGemsData:t})}))},a.handleRouteExperience=function(e){console.log("Experience called"),console.log(e),a.props.fetchGemInfo({latitude:e.latitude,longitude:e.longitude,locationName:e.locationName,discovery:!1}),a.props.setStage("AddExperience")},a.handleRouteDiscovery=function(){console.log("Discovery called"),a.props.fetchGemInfo({discovery:!0}),a.props.setStage("AddDiscovery")},a.componentDidMount=function(){a.state.gemsData||a.getGemsData()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.gemsData),r.a.createElement("div",null,r.a.createElement("h4",{className:"headingSetGem"},"May be you mean one of these Gems?"),null!=this.state.suggestGemsData&&this.state.suggestGemsData.map((function(t){return r.a.createElement("div",{className:"item",key:t._id},r.a.createElement("div",null,r.a.createElement("p",null,t.title),r.a.createElement("p",null,t.locationName)),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.handleRouteExperience(t)}},"That's it")))})),r.a.createElement("div",{className:"item"},r.a.createElement("div",null,r.a.createElement("p",null,"None it's a new Discovery!"),r.a.createElement("p",null,"Take current location")),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleRouteDiscovery},"That's it"))),r.a.createElement("button",null,"Add Details \ud83e\udc6a"))}}]),t}(n.Component));function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(a,!0).forEach((function(t){Object(G.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={viewport:{width:"100%",height:"95vh",latitude:52.520008,longitude:13.404954,zoom:1,bearing:0,pitch:0},marker:{markerClicked:!1,latitude:52.520008,longitude:13.404954}},a.onSubmit=function(e){e.preventDefault();var t="";f.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(a.state.marker.longitude,",").concat(a.state.marker.latitude,".json?access_token=")+"pk.eyJ1IjoiaW91cmkiLCJhIjoiY2swaTRnZGxnMDhyYjNmbXp1cTh4aGY0YSJ9.MmEIAiv3ZCEZzc_VLtZnCg").then((function(e){console.log(e),t=e.data.features[0].place_name,a.props.fetchGemInfo({latitude:a.state.marker.latitude,longitude:a.state.marker.longitude,locationName:t}),a.props.setStage("SuggestGem")})).catch((function(e){return console.log("Error in getting the locationname"+e)}))},a.handleViewportChange=function(e){a.setState({viewport:ge({},a.state.viewport,{},e)})},a.onSelected=function(e,t){a.setState({viewport:e,marker:{longitude:e.longitude,latitude:e.latitude}})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.marker),console.log(this.state.viewport),r.a.createElement(r.a.Fragment,null,r.a.createElement(H.e,Object.assign({},this.state.viewport,{onViewportChange:function(t){return e.setState({viewport:t,marker:{longitude:t.longitude,latitude:t.latitude}})},mapboxApiAccessToken:"pk.eyJ1IjoiaW91cmkiLCJhIjoiY2swaTRnZGxnMDhyYjNmbXp1cTh4aGY0YSJ9.MmEIAiv3ZCEZzc_VLtZnCg",mapStyle:"mapbox://styles/iouri/ck1kkzpus4iir1dmi0h34dz0s",captureDoubleClick:!1,doubleClickZoom:!1,onDblClick:function(t){e.setState({marker:{longitude:t.lngLat[0],latitude:t.lngLat[1]}})}}),r.a.createElement(H.b,{latitude:this.state.marker.latitude,longitude:this.state.marker.longitude,offsetTop:-50,offsetLeft:-25,captureClick:!1,draggable:!0,onDragEnd:function(t){return e.setState({marker:{longitude:t.lngLat[0],latitude:t.lngLat[1]}})}},r.a.createElement("div",{className:"gem-marker gem-marker-set"},r.a.createElement("img",{src:"/images/diamond-icon-green.png",alt:"gem"}))),r.a.createElement("div",{style:{position:"absolute",right:"2vw",top:"10vh"}},r.a.createElement(H.c,{onViewportChange:function(t){return e.setState({viewport:t})}})),r.a.createElement("div",null,r.a.createElement(B.a,{mapboxApiAccessToken:"pk.eyJ1IjoiaW91cmkiLCJhIjoiY2swaTRnZGxnMDhyYjNmbXp1cTh4aGY0YSJ9.MmEIAiv3ZCEZzc_VLtZnCg",onSelected:this.onSelected,viewport:this.state.viewport,hideOnSelect:!0})),r.a.createElement("div",{className:"setGem"},r.a.createElement("button",{className:"btn btn-primary generalBtn",onClick:this.onSubmit},r.a.createElement("strong",null,"Create Gem")))))}}]),t}(n.Component),Ee=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"This is Gem Welcome")}}]),t}(n.Component),be=(a(250),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={message:"",isEnabled:!1,nopic:!1},a.handleChanges=function(e){var t=e.target,n=t.name,r=t.value;console.log(e.target.visitedDate),a.props.fetchGemInfo(Object(G.a)({},n,r)),setTimeout((function(){a.setState({isEnabled:a.props.checkStatus()},(function(){return console.log("updated state",a.state)}))}),10)},a.noPicProceed=function(e){e.preventDefault(),"yes"===e.target.name?(a.props.setStage("GemSuccess"),a.props.createGem()):a.setState({message:""})},a.handleSubmit=function(e){e.preventDefault(),e.persist();var t=e.target.imageUrl.files[0],n=new FormData;n.append("imageUrl",t),f.a.post("/api/gem/add-image",n).then((function(e){a.props.fetchGemInfo({imageUrl:e.data.secure_url}),a.props.setStage("GemSuccess"),a.props.createGem()})).catch((function(e){a.setState({message:"You want to proceed without uploading a picture?"})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null," Tell others about your Experience"),this.props.locationName&&r.a.createElement("h2",null,this.props.locationName.substring(0,30),"..."),this.state.message&&r.a.createElement("div",null,r.a.createElement("h3",null,this.state.message),r.a.createElement("button",{onClick:this.noPicProceed,name:"yes"},"Yes"),r.a.createElement("button",{onClick:this.noPicProceed,name:"no"},"No")),r.a.createElement(D.a,{onSubmit:this.handleSubmit},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"title"},"Title: "),r.a.createElement(D.a.Control,{required:!0,onChange:this.handleChanges,type:"text",name:"title",id:"title",value:this.props.title})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"description"},"Description: "),r.a.createElement(D.a.Control,{required:!0,onChange:this.handleChanges,type:"text",name:"description",id:"description"})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"category"},"Category "),r.a.createElement(D.a.Control,{required:!0,onChange:this.handleChanges,name:"category",as:"select"},r.a.createElement("option",{value:""},"Choose a category"),r.a.createElement("option",{value:"cultureArts"},"Culter & Arts"),r.a.createElement("option",{value:"foodDrinks"},"Food & Drinks"),r.a.createElement("option",{value:"hikes"},"Hikes"),r.a.createElement("option",{value:"nature"},"Nature"),r.a.createElement("option",{value:"party"},"Party"),r.a.createElement("option",{value:"sports"},"Sports"),r.a.createElement("option",{value:"others"},"Others"))),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"goodToKnow"},"Good to know: "),r.a.createElement(D.a.Control,{required:!0,onChange:this.handleChanges,type:"text",name:"goodToKnow",id:"goodToKnow"})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"visitedDate"},"Date: "),r.a.createElement(D.a.Control,{required:!0,onChange:this.handleChanges,type:"date",name:"visitedDate",id:"visitedDate"})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Control,{type:"file",name:"imageUrl"})),r.a.createElement(x.a,{disabled:!this.state.isEnabled,type:"submit"},"Create Gem")))}}]),t}(r.a.Component)),ve=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={message:"",isEnabled:!1,nopic:!1},a.handleChanges=function(e){var t=e.target,n=t.name,r=t.value;a.props.fetchGemInfo(Object(G.a)({},n,r)),setTimeout((function(){a.setState({isEnabled:a.props.checkStatus()})}),10)},a.noPicProceed=function(e){e.preventDefault(),"yes"===e.target.name?(a.props.fetchGemInfo({discovery:!0}),a.props.setStage("GemSuccess"),a.props.createGem()):a.setState({message:""})},a.handleSubmit=function(e){e.preventDefault(),e.persist();var t=e.target.imageUrl.files[0],n=new FormData;n.append("imageUrl",t),f.a.post("/api/gem/add-image",n).then((function(e){a.props.fetchGemInfo({imageUrl:e.data.secure_url,discovery:!0}),a.props.setStage("GemSuccess"),a.props.createGem()})).catch((function(e){a.setState({message:"You want to proceed without uploading a picture?"})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null," Tell others about your Discovery"),this.props.locationName&&r.a.createElement("h2",null,this.props.locationName.substring(0,30),"..."),this.state.message&&r.a.createElement("div",null,r.a.createElement("h3",null,this.state.message),r.a.createElement("button",{onClick:this.noPicProceed,name:"yes"},"Yes"),r.a.createElement("button",{onClick:this.noPicProceed,name:"no"},"No")),r.a.createElement(D.a,{onSubmit:this.handleSubmit},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"title"},"Title: "),r.a.createElement(D.a.Control,{required:!0,onChange:this.handleChanges,type:"text",name:"title",id:"title",value:this.props.title})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"description"},"Description: "),r.a.createElement(D.a.Control,{required:!0,onChange:this.handleChanges,type:"text",name:"description",id:"description"})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"category"},"Category "),r.a.createElement(D.a.Control,{required:!0,onChange:this.handleChanges,name:"category",as:"select"},r.a.createElement("option",{value:""},"Choose a category"),r.a.createElement("option",{value:"cultureArts"},"Culter & Arts"),r.a.createElement("option",{value:"foodDrinks"},"Food & Drinks"),r.a.createElement("option",{value:"hikes"},"Hikes"),r.a.createElement("option",{value:"nature"},"Nature"),r.a.createElement("option",{value:"party"},"Party"),r.a.createElement("option",{value:"sports"},"Sports"),r.a.createElement("option",{value:"others"},"Others"))),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"goodToKnow"},"Good to know: "),r.a.createElement(D.a.Control,{required:!0,onChange:this.handleChanges,type:"text",name:"goodToKnow",id:"goodToKnow"})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"visitedDate"},"Date: "),r.a.createElement(D.a.Control,{required:!0,onChange:this.handleChanges,type:"date",name:"visitedDate",id:"visitedDate"})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Control,{type:"file",name:"imageUrl"})),r.a.createElement(x.a,{disabled:!this.state.isEnabled,type:"submit"},"Create Gem")))}}]),t}(r.a.Component),ye=a(550),Oe=a(552),Ce=a(554),we=(a(470),a(551)),Se=a(553),je=a(555);function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ge=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleRoute=function(e){switch(e.target.name){case"view":a.props.history.push("/gem/".concat(a.props.gemId));break;case"share":break;case"add":a.props.setStage("AddToTrip");break;case"map":a.props.history.push("/explore-places")}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="https://localhost:3000/gem/".concat(this.props.gemId);return console.log(e),console.log(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(a,!0).forEach((function(t){Object(G.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.props)),r.a.createElement("div",{className:"success-container"},r.a.createElement("h2",null,"Congrats! You just created a new Gem!"),r.a.createElement("div",{className:"success-flex-share"},r.a.createElement("p",null,"Share your newest Discovery:"),r.a.createElement("div",{className:"success-flex-container"},r.a.createElement("div",null,r.a.createElement(ye.a,{url:e},r.a.createElement(we.a,{size:32,round:!0}))),r.a.createElement("div",null,r.a.createElement(Oe.a,{url:e},r.a.createElement(Se.a,{size:32,round:!0}))),r.a.createElement("div",null,r.a.createElement(Ce.a,{url:e},r.a.createElement(je.a,{size:32,round:!0}))))),r.a.createElement("div",null,r.a.createElement("div",{className:"success-btn-container"},r.a.createElement(x.a,{className:"btn btn-primary generalBtn",onClick:this.handleRoute,name:"view"},"View Gem  ",r.a.createElement("i",{class:"fas fa-eye"}))),r.a.createElement("div",{className:"success-btn-container"},r.a.createElement(x.a,{className:"btn btn-primary generalBtn",onClick:this.handleRoute,name:"add"},"Add to a Trip  ",r.a.createElement("i",{class:"fas fa-plus"}))),r.a.createElement("div",{className:"success-btn-container"},r.a.createElement(x.a,{className:"btn btn-primary generalBtn",onClick:this.handleRoute,name:"map"},"Back to Map  ",r.a.createElement("i",{class:"fa fa-globe","aria-hidden":"true"})))))}}]),t}(r.a.Component),De=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={formStatus:!1,trips:[]},a.handleChanges=function(e){var t=e.target,n=t.name,r=t.value;a.props.fetchTripInfos(Object(G.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.props.createTrip(),C(a.props.creatorid).then((function(e){a.setState({trips:e})})).catch((function(e){console.log(e)}))},a.showTrips=function(){return a.state.trips.map((function(e){return r.a.createElement(x.a,{className:"btn-options",onClick:function(){return a.props.selectTrip(e._id,e.name,e.gemsVisited)}},e.name)}))},a.toogleForm=function(){a.setState({formStatus:!a.state.formStatus})},a.componentDidMount=function(){C(a.props.creatorid).then((function(e){a.setState({trips:e})})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Which Trip you want to add the Gem?"),r.a.createElement(x.a,{onClick:this.toogleForm},"Create a new Trip"),this.state.formStatus?r.a.createElement(D.a,{onSubmit:this.handleSubmit},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{htmlFor:"name"},"Trip Name: "),r.a.createElement(D.a.Control,{required:!0,onChange:this.handleChanges,type:"text",name:"name",id:"name",value:this.props.title})),r.a.createElement(x.a,{type:"submit"},"Create Trip")):r.a.createElement("div",null),r.a.createElement("div",{className:"triplist"},this.showTrips()))}}]),t}(n.Component),Ne=(n.Component,function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={availableGems:[]},a.showGems=function(){var e=[];return void 0!==a.props.TripInfos.existingGems&&(e=a.props.TripInfos.existingGems),console.log("Check here after click",a.props.TripInfos.existingGems),a.props.TripInfos.allGems.map((function(t){return e.includes(t._id)?r.a.createElement("div",null,r.a.createElement(x.a,{className:"btn-options gem-active",onClick:function(){return a.props.updateGemStatus(t._id)}},t.title," Is already in Trip")):r.a.createElement("div",null,r.a.createElement(x.a,{className:"btn-options gem-inactive",onClick:function(){a.props.updateGemStatus(t._id)}},t.title," not included."))}))},a.componentDidMount=function(){console.log("Did Mount and have Tripinfo props",a.props.TripInfos.existingGems)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log("All gem Information stored",this.props.TripInfos.existingGems),r.a.createElement("div",null,r.a.createElement("h1",null,"Which Gems do you want to add to ",this.props.tripName),r.a.createElement("div",{className:"gemlist"},this.showGems()),r.a.createElement(x.a,{onClick:this.props.saveGemsInTrip},"Save Gem to Trip"))}}]),t}(n.Component));function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(a,!0).forEach((function(t){Object(G.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={stage:"SetGem",gem:{title:"",description:"",goodToKnow:"",imageUrl:"",creator:a.props.user._id,discovery:null,category:"",visitedDate:"",latitude:0,longitude:0,locationName:"",gemId:null},trip:{tripId:null,name:"",creator:a.props.user._id,selectedTrip:null,allGems:[],addedGems:[],existingGems:[]}},a.checkStatus=function(){console.log(a.state.gem);var e=["title","description","goodToKnow","visitedDate","category","locationName"];for(var t in a.state.gem)if(""===a.state.gem[t]&&-1!==e.indexOf(t))return!1;return!0},a.createGem=function(){console.log("create gem with props",a.state.gem);var e=Object(pe.a)({},a.state.gem);delete e.stage,""===e.creator&&(e.creator=null),y(e).then((function(e){a.setState({gem:{gemId:e._id}})}))},a.fetchGemInfo=function(e){a.setState({gem:Ie({},a.state.gem,{},e)})},a.createTrip=function(){var e=Object(pe.a)({},a.state.trip);delete e.stage,""===e.creator&&(e.creator=null),O(e).then((function(e){a.setState({trip:{tripId:e._id}}),console.log("created trip with state",a.state.trip),C(a.props.user._id)}))},a.fetchTripInfo=function(e){a.setState({trip:Ie({},a.state.trip,{},e)})},a.getTrips=function(){C().then((function(e){a.setState({trip:{tripId:e._id}})}))},a.selectTrip=function(e,t,n){S(a.props.user._id).then((function(r){a.setState({stage:"AddGemToTrip",trip:{selectedTrip:e,allGems:r,name:t,existingGems:n}})}))},a.saveGemsInTrip=function(){var e=Object(pe.a)({},a.state.trip);console.log("State Trip bevor query",a.state.trip),""===e.creator&&(e.creator=null),w(e).then((function(e){console.log("Request saveGemsTrip done")}))},a.updateGemStatus=function(e,t){var n=Object(Y.a)(a.state.trip.existingGems);-1===n.indexOf(e)?n.push(e):n.splice(n.indexOf(e),1),a.setState({trip:Ie({},a.state.trip,{existingGems:n})})},a.setStage=function(e){a.setState({stage:e})},a.changeStage=function(e){switch(e){case"GemWelcome":return r.a.createElement(Ee,{setStage:a.setStage});case"SetGem":return r.a.createElement(fe,{fetchGemInfo:a.fetchGemInfo,setStage:a.setStage});case"SuggestGem":return r.a.createElement("div",{className:"padding-wrapper"},r.a.createElement(he,{locationName:a.state.gem.locationName,setStage:a.setStage,fetchGemInfo:a.fetchGemInfo})," ");case"AddExperience":return r.a.createElement("div",{className:"padding-wrapper"},r.a.createElement(be,{locationName:a.state.gem.locationName,fetchGemInfo:a.fetchGemInfo,setStage:a.setStage,checkStatus:a.checkStatus,createGem:a.createGem}));case"AddDiscovery":return r.a.createElement("div",{className:"padding-wrapper"},r.a.createElement(ve,{locationName:a.state.gem.locationName,fetchGemInfo:a.fetchGemInfo,setStage:a.setStage,checkStatus:a.checkStatus,createGem:a.createGem}));case"GemSuccess":return r.a.createElement("div",{className:"padding-wrapper"},r.a.createElement(Ge,Object.assign({gemId:a.state.gem.gemId,setStage:a.setStage},a.props)));case"AddToTrip":return r.a.createElement("div",{className:"padding-wrapper"},r.a.createElement(De,{fetchTripInfos:a.fetchTripInfo,setStage:a.setStage,createTrip:a.createTrip,creatorid:a.props.user._id,selectTrip:a.selectTrip}));case"AddGemToTrip":return r.a.createElement("div",{className:"padding-wrapper"},r.a.createElement(Ne,{TripInfos:a.state.trip,updateGemStatus:a.updateGemStatus,saveGemsInTrip:a.saveGemsInTrip,tripName:a.state.trip.name}))}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state.stage,this.state),r.a.createElement("div",null,this.changeStage(this.state.stage))}}]),t}(r.a.Component),Ae=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"404 - Page not found")}}]),t}(n.Component),Te=(a(514),a(515),a(62)),Fe=a(137),Le=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={popularGems:[],trips:[],discoveries:0,experiences:0,creatorProfileId:a.props.match.params.profileId,ownprofile:a.props.user._id===a.props.match.params.profileId,isFollowing:!1,creatorInfos:null,followers:0},a.getpopularGems=function(){console.log("Get Popular call made"),f.a.get("/api/gem/creator/".concat(a.state.creatorProfileId)).then((function(e){var t=e.data.filter((function(e){return e.discovery})).length,n=e.data.filter((function(e){return!e.discovery})).length;a.setState({popularGems:e.data,discoveries:t,experiences:n}),f.a.get("/api/user/user/".concat(a.state.creatorProfileId)).then((function(e){a.setState({creatorInfos:e.data,followers:e.data.followers.length},(function(){console.log("Here are the Follower Infors of creator",a.state.followers)}))})).catch((function(e){console.log("Problem getting gems"),f.a.get("/api/user/".concat(a.state.creatorProfileId)).then((function(e){a.setState({creatorInfos:e.data},(function(){console.log("Here are the Follower Infors of creator",a.state.creatorInfos)}))})).catch((function(e){console.log("Problem getting user",a.state.creatorProfileId)}))}))}))},a.componentDidMount=function(){C(a.state.creatorProfileId).then((function(e){a.setState({trips:e},(function(){a.getpopularGems(),a.showTrips()}))})).catch((function(e){console.log(e)})),a.props.user.following&&a.props.user.following.includes(a.state.creatorProfileId)&&a.setState({isFollowing:!0})},a.displayPopularGems=function(){return r.a.createElement(Fe.a,{className:"slider"},a.state.popularGems.map((function(e){return r.a.createElement(Fe.a.Item,{key:e._id},r.a.createElement("img",{className:"d-block w-100 slider",src:e.imageUrl,alt:"gem"}),r.a.createElement(Fe.a.Caption,null,r.a.createElement("h3",{style:{fontWeight:900}},e.title),r.a.createElement("p",{style:{fontWeight:500}},e.locationName),r.a.createElement("a",{className:"generalBtn btn btn-primary",href:"/gem/".concat(e._id)},"Explore")))})))},a.showTrips=function(){return console.log("Here is showTrips elements:",a.state.trips),a.state.trips?a.state.trips.map((function(e){return r.a.createElement(T.b,{to:"/trip/".concat(e._id)},r.a.createElement(oe.a,{className:"btn-triplist"},e.name," >"))})):r.a.createElement("div",null,"No trips created yet. Start to create a Gem :)")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleFollowClick",value:function(){var e=this;this.state.isFollowing?this.setState({followers:this.state.followers-1}):this.setState({followers:this.state.followers+1}),f.a.put("/api/user/updateFollower",{creatorId:this.state.creatorProfileId},{new:!0}).then((function(t){console.log("My updated follwing array",t),e.setState({isFollowing:!e.state.isFollowing})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.creatorInfos;return console.log("Creator Infos",this.state.creatorInfos),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-flexbox"},r.a.createElement("div",{className:"nameedit"},r.a.createElement("div",null,r.a.createElement("h1",null,null!==this.state.creatorInfos&&this.state.creatorInfos.username)),r.a.createElement("div",null,this.state.ownprofile?r.a.createElement(T.b,{to:"/profile"},r.a.createElement(oe.a,{variant:"contained",type:"button",className:"editprof"},"Edit")):r.a.createElement("div",null,this.state.isFollowing?r.a.createElement("button",{className:"follow-button btn btn-primary generalBtn",onClick:function(a){return e.handleFollowClick(t._id)}},"Unfollow"," ",r.a.createElement("img",{src:"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697521/gembox/icons/followed-user_dlgqrl.png"})):r.a.createElement("button",{className:"follow-button btn btn-primary generalBtn-disabled",onClick:function(a){return e.handleFollowClick(t._id)}},"Follow"," ",r.a.createElement("img",{src:"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697521/gembox/icons/follow-user_xix0yg.png"}))))),r.a.createElement("div",{className:"headerinfo"},r.a.createElement("div",null,r.a.createElement("img",{className:"profilepic",src:null!==this.state.creatorInfos&&this.state.creatorInfos.profilePic})),r.a.createElement("div",{className:"basiccounts"},r.a.createElement("p",null,"Score",r.a.createElement("span",{className:"Score"},"1200")),r.a.createElement("p",null,"Followers",r.a.createElement("span",{className:"Score"},this.state.followers)),r.a.createElement("p",null,"Following",r.a.createElement("span",{className:"Score"},null!==this.state.creatorInfos&&this.state.creatorInfos.following.length)))),r.a.createElement("div",{className:"experiences-discoveries"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697079/gembox/icons/diamond-icon-gold_a6lkxq.png"}),r.a.createElement("span",{className:"Score"}," ",this.state.discoveries),r.a.createElement("span",null," Discoveries ")),r.a.createElement("div",null,r.a.createElement("img",{src:"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697079/gembox/icons/diamond-icon-green_kjzvbz.png"}),r.a.createElement("span",{className:"Score"},this.state.experiences),r.a.createElement("span",null," Experiences"))),r.a.createElement("div",{className:"travelinterests"},r.a.createElement("div",{className:"topicheader"},r.a.createElement("h2",null,"Travelinterests")," ",r.a.createElement("hr",null),r.a.createElement("div",null,null!==this.state.creatorInfos&&this.state.creatorInfos.travelInterests))),r.a.createElement("div",{className:"topicheader"},r.a.createElement("h2",null,"Most popular gems"),r.a.createElement("hr",null),r.a.createElement("div",{className:"gemlist"},this.displayPopularGems())),r.a.createElement("div",{className:"trips"},r.a.createElement("div",{className:"topicheader"},r.a.createElement("h2",null,"All Trips"),r.a.createElement("hr",null),r.a.createElement("div",{className:"triplist"},this.showTrips())))))}}]),t}(n.Component),Ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user},a.setUser=function(e){a.setState({user:e})},a.setUserProfile=function(e){console.log("HERE setUser called",e),a.setState({creatorProfile:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(Te.c,null,r.a.createElement(Te.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(F,Object.assign({user:e.state.user,setUser:e.setUser},t))}}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{render:function(t){return r.a.createElement(j,Object.assign({user:e.state.user,setUser:e.setUser},t))}}),r.a.createElement(Te.c,null,r.a.createElement(Te.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(I,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(Te.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(P,Object.assign({setUser:e.setUser},t))}}),")} />",r.a.createElement(Te.a,{exact:!0,path:"/create-gem",render:function(t){return r.a.createElement(Pe,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(Te.a,{exact:!0,path:"/logout",component:A}),r.a.createElement(Te.a,{exact:!0,path:"/explore-places",render:function(t){return r.a.createElement(X,Object.assign({setUser:e.setUser},t,{user:e.state.user,referredbyProfile:e.state.referredbyProfile}))}}),r.a.createElement(Te.a,{path:"/profile/:profileId",render:function(t){return r.a.createElement(Le,Object.assign({setUser:e.setUser},t,{user:e.state.user}))}}),r.a.createElement(Te.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(ie,Object.assign({setUser:e.setUser},t,{user:e.state.user}))}}),r.a.createElement(Te.a,{exact:!0,path:"/trip",component:me}),r.a.createElement(Te.a,{path:"/trip/:tripId",component:me}),r.a.createElement(Te.a,{exact:!0,path:"/gem/:gemId",render:function(t){return r.a.createElement(_,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(Te.a,{exact:!0,path:"/about-us",component:k}),r.a.createElement(Te.a,{component:Ae})))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.get("/api/auth/loggedin").then((function(e){var t=e.data;s.a.render(r.a.createElement(T.a,null,r.a.createElement(Ue,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[282,1,2]]]);
//# sourceMappingURL=main.a47ef4e6.chunk.js.map