{"version":3,"sources":["services/api.js","components/global/Menu.js","components/global/AboutUs.js","components/auth/Login.js","components/auth/Signup.js","components/auth/Logout.js","components/global/Home.js","components/explore/Filters.js","components/explore/GemOnMap.js","components/explore/GemDetails.js","components/explore/MapGems.js","components/explore/ExplorePlaces.js","components/profile/UpdateProfile.js","components/explore/TripDetails.js","components/create/SuggestGem.js","components/create/SetGem.js","components/create/GemWelcome.js","components/create/AddExperience.js","components/create/AddDiscovery.js","components/create/GemSuccess.js","components/create/AddToTrip.js","components/create/AddGemToTrip.js","components/create/GemList.js","components/create/CreateGem.js","components/global/NotFound.js","components/profile/ShowProfileNew.js","App.js","serviceWorker.js","index.js"],"names":["signup","username","password","axios","post","then","response","data","catch","err","login","logout","delete","pushGem","gemInfos","console","log","pushTrip","tripInfos","requestTrips","creatorid","param","get","updateTrip","updatedTrip","gemsVisited","existingGems","gemId","selectedTrip","put","updatedtrip","specificGems","Menu","handleLogout","props","setUser","history","push","Navbar","className","in","variant","Brand","href","width","height","viewBox","fill","xmlns","xmlnsXlink","d","x","y","id","filterUnits","color-interpolation-filters","flood-opacity","result","stdDeviation","in2","operator","mode","patternContentUnits","xlinkHref","transform","NavDropdown","title","Item","this","user","_id","Divider","onClick","React","Component","AboutUs","Login","state","message","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","Form","onSubmit","Group","Label","htmlFor","Control","type","onChange","Alert","class","Signup","Logout","quote","author","resonse","n","Home","componentDidMount","role","to","Filters","displayFilters","gemsData","filterStatus","selectedOption","handleSelectChange","handleFilterSubmit","defaultValue","userFilter","options","userFilterOptions","checked","showGems","handleFilterChange","showTrips","dateStart","dateEnd","foodDrinks","cultureArts","sports","party","hikes","nature","other","Button","GemOnMap","latitude","longitude","captureClick","draggable","offsetTop","offsetLeft","openPopup","src","alt","GemDetails","currentGemData","currentGemIndex","experienceGemData","creatorData","fromProfile","getGemData","getCreatorData","getExperienceGemData","match","params","resp","handleLike","likes","userId","includes","splice","indexOf","getGemExperience","newGemIndex","length","newGemData","filter","gem","status","error","creator","creatorId","liked","likeClass","imageUrl","discovery","locationName","substring","description","goodToKnow","others","category","created_at","slice","closeDetails","MapGems","viewport","zoom","gemSelectedInfo","displayDetails","gemData","openDetails","setUserLocation","navigator","geolocation","getCurrentPosition","position","userLocation","lat","coords","long","onGeocontrolSelected","item","marker","renderPopup","categoryRender","tipSize","anchor","closeButton","closeOnClick","onClose","style","color","gemsToRender","gems","map","key","onViewportChange","mapboxApiAccessToken","process","mapStyle","captureDoubleClick","doubleClickZoom","right","top","toggleFilters","placeholder","onSelected","label","ExplorePlaces","gemsToDisplay","getGemsData","filterGems","foundGems","gemsFiltered","UpdateProfile","profilePic","travelInterests","files","uploadData","FormData","append","secure_url","patch","directProfile","TripDetails","bearing","pitch","coordinates","trip_details","drawTrip","reactMap","getMap","on","addLayer","source","properties","geometry","layout","paint","element","gemsDisplay","Object","keys","tripId","a","trip","entries","index","res","routes","Math","floor","ref","SuggestGem","suggestGemsData","newdata","count","split","forEach","handleRouteExperience","val","fetchGemInfo","setStage","handleRouteDiscovery","undefined","SetGem","markerClicked","features","place_name","handleViewportChange","onDblClick","lngLat","onDragEnd","hideOnSelect","GemWelcome","AddExperience","isEnabled","nopic","handleChanges","visitedDate","setTimeout","checkStatus","noPicProceed","createGem","persist","required","as","disabled","AddDiscovery","GemSuccess","handleRoute","shareUrl","FacebookShareButton","url","FacebookIcon","size","round","WhatsappShareButton","WhatsappIcon","EmailShareButton","EmailIcon","aria-hidden","AddToTrip","formStatus","trips","successMessage","fetchTripInfos","createTrip","selectTrip","toogleForm","AddGemToTrip","availableGems","showTripButton","saveTrip","saveGemsInTrip","GemsInTripIncluded","TripInfos","allGems","updateGemStatus","tripName","CreateGem","stage","addedGems","consider","pushObj","fetchTripInfo","getTrips","tripid","selectedGem","gemArray","gemid","addedGemcopy","changeStage","NotFound","Profile","popularGems","discoveries","experiences","creatorProfileId","profileId","ownprofile","isFollowing","creatorInfos","followers","getpopularGems","following","displayPopularGems","Carousel","Caption","fontWeight","new","updatedfollow","handleFollowClick","App","setUserProfile","userid","creatorProfile","exact","path","render","component","referredbyProfile","Boolean","window","location","hostname","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c61d94ec.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst signup = (username, password) => {\n  return axios\n    .post(\"/api/auth/signup\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst login = (username, password) => {\n  return axios\n    .post(\"/api/auth/login\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst logout = () => {\n  return axios\n    .delete(\"/api/auth/logout\")\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst getQuote = () => {\n  return axios\n    .get(\"/api/wisdom\")\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.resonse.data;\n    });\n};\n\nconst pushGem = (gemInfos) => {\n  return axios\n    .post(\"/api/gem/create\", gemInfos)\n    .then((response) => {\n      console.log(\"Here is the new gem\", response.data);\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst pushTrip = (tripInfos) => {\n  return axios\n    .post(\"/api/trip/create\", tripInfos)\n    .then((response) => {\n      console.log(\"Here is the new trip\", response.data);\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst requestTrips = (creatorid) => {\n  const param = creatorid;\n  console.log(\"Check Param\", param);\n  return axios\n    .get(`/api/trip/${param}`)\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nconst updateTrip = (updatedTrip) => {\n  console.log(\n    \"Updated Trip to pass to function which makes axios call object:\",\n    updatedTrip\n  );\n  let gemsVisited = updatedTrip.existingGems;\n  let gemId = updatedTrip.selectedTrip;\n  return axios\n    .put(\"/api/trip/update\", { gemsVisited, gemId })\n    .then((updatedtrip) => {\n      console.log(\"Received Data from server back frontend\", updatedtrip);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nconst specificGems = (creatorid) => {\n  const param = creatorid;\n  return axios\n    .get(`/api/gem/creator/${param}`)\n    .then((response) => {\n      console.log(\"Got data from Axios call\", response.data);\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nexport {\n  signup,\n  login,\n  logout,\n  getQuote,\n  pushGem,\n  requestTrips,\n  pushTrip,\n  specificGems,\n  updateTrip\n};\n","import React from \"react\";\nimport { NavDropdown, Navbar, Nav } from \"react-bootstrap\";\nimport { logout } from \"../../services/api\";\n\nclass Menu extends React.Component {\n  handleLogout = props => {\n    console.log(\"LOGOUT PROPS: \", props);\n    logout().then(() => {\n      this.props.setUser(null);\n      this.props.history.push(\"/logout\");\n    });\n  };\n\n  render() {\n    return (\n      <Navbar className=\"bg-light\" in=\"setOpen\" variant=\"light\">\n        <Navbar.Brand href=\"/\">\n          <svg\n            className=\"Logo-navbar\"\n            width=\"50\"\n            height=\"36\"\n            viewBox=\"0 0 200 144\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlnsXlink=\"http://www.w3.org/1999/xlink\">\n            <path\n              d=\"M57.4223 35.992V63.352C54.7983 64.888 51.4703 66.104 47.4383 67C43.4063 67.896 39.0223 68.344 34.2863 68.344C26.9263 68.344 20.7183 66.808 15.6623 63.736C10.6063 60.6 6.79825 56.44 4.23825 51.256C1.74225 46.072 0.49425 40.408 0.49425 34.264C0.49425 28.184 1.80625 22.584 4.43025 17.464C7.05425 12.28 10.9903 8.152 16.2383 5.08C21.5503 2.008 27.9503 0.471998 35.4383 0.471998C39.5343 0.471998 43.4063 1.112 47.0543 2.392C50.7663 3.608 53.9023 5.304 56.4623 7.48L52.9103 14.968C50.8623 13.112 48.3023 11.608 45.2303 10.456C42.1583 9.304 38.8943 8.72799 35.4383 8.72799C30.3823 8.72799 26.0303 9.848 22.3823 12.088C18.7983 14.328 16.0783 17.4 14.2223 21.304C12.3663 25.144 11.4383 29.496 11.4383 34.36C11.4383 39.288 12.3023 43.704 14.0303 47.608C15.8223 51.512 18.4143 54.584 21.8063 56.824C25.2623 59.064 29.4223 60.184 34.2863 60.184C38.7023 60.184 42.8943 59.704 46.8623 58.744V35.992H57.4223ZM115.108 59.032V67H74.0198V1.72H113.188V9.688H84.9638V28.504H109.348V36.472H84.9638V59.032H115.108ZM195.447 1.72V67H184.695V45.592L185.367 18.808L166.935 47.224H159.159L140.439 18.52L141.303 45.592V67H130.551V1.72H140.535L162.999 36.088L185.463 1.72H195.447Z\"\n              fill=\"#4BADB6\"\n            />\n            <path\n              d=\"M43.4545 109.536C48.1905 110.496 51.7745 112.448 54.2065 115.392C56.6385 118.272 57.8545 121.824 57.8545 126.048C57.8545 131.616 55.7425 136 51.5185 139.2C47.2945 142.4 41.1825 144 33.1825 144H10.2385V78.72H33.1825C40.2865 78.72 45.6945 80.128 49.4065 82.944C53.1185 85.76 54.9745 89.824 54.9745 95.136C54.9745 98.592 53.9825 101.6 51.9985 104.16C50.0785 106.72 47.2305 108.512 43.4545 109.536ZM21.1825 86.688V105.6H33.1825C36.6385 105.6 39.2945 104.8 41.1505 103.2C43.0705 101.536 44.0305 99.2 44.0305 96.192C44.0305 89.856 40.4145 86.688 33.1825 86.688H21.1825ZM33.1825 136.032C37.5345 136.032 40.8945 135.072 43.2625 133.152C45.6945 131.168 46.9105 128.384 46.9105 124.8C46.9105 121.024 45.7265 118.208 43.3585 116.352C41.0545 114.496 37.6625 113.568 33.1825 113.568H21.1825V136.032H33.1825ZM186.921 144L168.585 117.312L150.153 144H137.289L161.961 110.304L138.921 78.72H151.881L168.585 103.488L185.289 78.72H198.153L175.113 110.112L199.977 144H186.921Z\"\n              fill=\"#282727\"\n            />\n            <rect x=\"65\" y=\"72\" width=\"70\" height=\"72\" fill=\"url(#pattern0)\" />\n            <defs>\n              <filter\n                id=\"filter0_b\"\n                x=\"-3.50574\"\n                y=\"-3.52802\"\n                width=\"202.953\"\n                height=\"75.872\"\n                filterUnits=\"userSpaceOnUse\"\n                color-interpolation-filters=\"sRGB\">\n                <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n                <feGaussianBlur in=\"BackgroundImage\" stdDeviation=\"2\" />\n                <feComposite\n                  in2=\"SourceAlpha\"\n                  operator=\"in\"\n                  result=\"effect1_backgroundBlur\"\n                />\n                <feBlend\n                  mode=\"normal\"\n                  in=\"SourceGraphic\"\n                  in2=\"effect1_backgroundBlur\"\n                  result=\"shape\"\n                />\n              </filter>\n              <pattern\n                id=\"pattern0\"\n                patternContentUnits=\"objectBoundingBox\"\n                width=\"1\"\n                height=\"1\">\n                <use\n                  xlinkHref=\"#image0\"\n                  transform=\"translate(-0.0142857) scale(0.0205714 0.02)\"\n                />\n              </pattern>\n              <image\n                id=\"image0\"\n                width=\"50\"\n                height=\"50\"\n                xlinkHref=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAFK0lEQVRoge2aXYhVVRTHf3dGZyZTNC0rgiQ0pkgiLTWmJiPUSCSsQH2olKKyCSyo7Msg+yINKuslsHDMCiyjIi2yEgwaH/qiiSx7KEhKjdIa89Z83dPDWru975597j3nnnvvJPiHw5yz1tprr33O3vu/9roDx3AM/yuMA/4CoipfR4AJ9RrEWKC7BoMwV7f2UVOMAnY6nW6PsWsGPlCbH/SKVNYc02a747cLGF21qD00Ae9qR4f17wMBu0bgNdUfAFqBycAvKnsLGBFot0r1f2IH3VLVEQSC+1Lv53h2OWC96v4Apjm6qcDvqtuoti7mqu5zigc9slqDaABeUceHgBlAHiggi97FWuyibQ/4moX9mus83VhgEPgbmA78pnavIy8yE3LA89hPPgO4QJ93e7b3q7wPuKKEzznAP2p7n6f7VuXnA+chLy4CNjD0C6aCecN5YLbKbnOcGyxX2SCwOIHfq4ABbXO7I+9UWYc+t2G3ef8LJsZqddALzHfkG1V+qxdUAbglhf9l2mYQWKKyDvXd6di5X/ChFP4BeUuRBrjI032nuuleJ/em7QSZWmY6zkemVIRMMRcLgX7V3ZPU+Q3ImyoAN3q6cdgF2U78wk2DNdjpexl2IznBs7tW+y5gZ0MsyhmbLXI/cFDvXyDbQsypj0h97tf7uQHbUi/5P7ifb2WMzYMUpxNvEia3tGgENnu+V8XYlpr2iRfUVqejj4hPNypBE/Ce4/+dErbBjagdIbBaJYG1vo4A7Q3Il8jMnMOIRmQMANyM3TmmxbUA7sBOq1phB0OJ0sdULFHe5CtfVMX3xJ8HxmCz03MzBFsqwALQUyaG3RrDppBBC/CZGrxN/Jb6rNqsrzzeWJhtOI6XckgSGQFfIeejICZhs867Y2ymIFyTB06sLN4gxiMLt4CcYUJYic3CJ5dzuAAJdIAwKQFsI5y9ZoHJnrfG6C9FeK6A5HeJ8Cj2EHVaQD9P9T9TnYPPCGAv8Yx+Cvaw9Ugaxw1YctqFkJUPU4BIkraXwxL19Q1D1+ZI4GPVf0gFVDEeWzR4JqA3Z5CutI4D2KW+QseAdar7CTip0g5mYlOX6zzdKOzGMLPSDrCp+0HgeE+3GJvmt2XoA5AsOEII6BxPZ06Qwf08IV5WH2s8eSuWs5Zn8F+EDepwD8VEdTqyk/QR3hTK4VQk8RsAznDko5H1EiGFj6qhBSnTREiJxl2QW1S+ugK/D2MrJQY5bOmpmxKkVymmYKsadzrydpX9SrqCWjP2EHWxI79LZT3AWRniLYkFCCH1Y6sqAJ9q50tT+Fqmbb5wZG3INC0AV2cJNAkexx53zbpYGgiqHMzgr9fnkxGCjYDHqhJpGTQA72M5pAmZJvtUFqow+rgEmzm0IMxuiuM7qOP5aALwo3b8lMrM8XNLgvZvUHysflqf95KB9CrFLCxZLgIm6rO/lfqYhKyxXiSHWoisiT7gohrGWxKmfHoYIctN+ry2RJsn1eYlikmvo0SbuqATS5Zm7h9iaLoBwgnmp4XZWNJ7tR6BlsNxyG4VIXWuLuLTCpPufIKtY31NeNDDgjORH3YibJF7D8UZQA571jY2PcDZdY00Aa7EkuUBJNB5jv5ybAbQq7bX1DnGxDAFaVPc3ubozO+PZnE/UffoUqAR++usKYa3IlNvUC9DetWoGdcUE7Hn7wgpHz3nPO9D0vejAhciBGeql3m976c40z0qsIKhBecVwxpRBrj/JbFzmGPJhDFI9TBPHf6/pNZoJb4EWjX8C2RUC1duuJhSAAAAAElFTkSuQmCC\"\n              />\n            </defs>\n          </svg>\n        </Navbar.Brand>\n        {/* <Nav className=\"mr-auto\"> */}\n        <NavDropdown\n          title=\"Menu\"\n          id=\"collasible-nav-dropdown\"\n          className=\"menu-navbar\">\n          <NavDropdown.Item href=\"/\">Home</NavDropdown.Item>\n          <NavDropdown.Item href=\"/explore-places\">\n            Explore places\n          </NavDropdown.Item>\n          {this.props.user ? (\n            <>\n              <NavDropdown.Item href=\"/create-gem\">Create Gem</NavDropdown.Item>\n              <NavDropdown.Item\n                href={\n                  this.props.user ? \"/profile/\" + this.props.user._id : \"/\"\n                }>\n                Profile\n              </NavDropdown.Item>\n              <NavDropdown.Divider />\n              <NavDropdown.Item onClick={this.handleLogout}>\n                Logout\n              </NavDropdown.Item>\n            </>\n          ) : (\n            <>\n              <NavDropdown.Item href=\"/login\">Login</NavDropdown.Item>\n              <NavDropdown.Item href=\"/signup\">Signup</NavDropdown.Item>\n            </>\n          )}\n        </NavDropdown>\n        {/* </Nav> */}\n      </Navbar>\n    );\n  }\n}\n\nexport default Menu;\n","import React, { Component } from 'react'\n\nexport default class AboutUs extends Component {\n  render() {\n    return (\n      <div>\n        This is About Us\n      </div>\n    )\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { login } from \"../../services/api\";\nimport \"../../stylesheets/login.css\";\n\nexport default class Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    message: \"\"\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { username, password } = this.state;\n\n    login(username, password).then(data => {\n      if (data.message) {\n        this.setState({\n          message: data.message,\n          username: \"\",\n          password: \"\"\n        });\n      } else {\n        // successfully signed up\n        // update the state for the parent component\n        console.log(data);\n        this.props.setUser(data);\n        this.props.history.push(\"/explore-places\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"app-wrapper\">\n          <div className=\"pageheader py-2\">Login</div>\n\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\n            <Form.Group>\n              <Form.Label htmlFor=\"username\" className=\"label-title\">\n                Username:{\" \"}\n              </Form.Label>\n              <Form.Control\n                className=\"input-login-signup\"\n                type=\"text\"\n                name=\"username\"\n                value={this.state.username}\n                onChange={this.handleChange}\n                id=\"username\"\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"password\" className=\"label-title\">\n                Password:{\" \"}\n              </Form.Label>\n              <Form.Control\n                className=\"input-login-signup\"\n                type=\"password\"\n                name=\"password\"\n                value={this.state.password}\n                onChange={this.handleChange}\n                id=\"password\"\n              />\n            </Form.Group>\n            {this.state.message && (\n              <Alert variant=\"danger\">{this.state.message}</Alert>\n            )}\n            <a href=\"/explore-places\" className=\"button-link\">\n              <button\n                type=\"submit\"\n                className=\"btn loginBtn generalBtn btn-primary\"\n              >\n                Login\n              </button>\n            </a>\n          </Form>\n          <div className=\"social-login\">\n            <a href=\"http://localhost:5555/api/auth/google\">\n              <button className=\"btn socialLoginBtn generalBtn btn-primary\">\n                Login with Google <i class=\"fab fa-google icon-padding\"></i>\n              </button>\n            </a>\n            <a href=\"http://localhost:5555/api/auth/facebook\">\n              <button className=\"btn socialLoginBtn generalBtn btn-primary\">\n                Login with Facebook <i class=\"fab fa-facebook\"></i>\n              </button>\n            </a>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { signup } from \"../../services/api\";\nimport { Link } from \"react-router-dom\";\n\nexport default class Signup extends React.Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    message: \"\"\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { username, password } = this.state;\n\n    // usernameToProfile = (this.state.username)=>{\n    //   [username]\n    // };\n\n    signup(username, password).then(data => {\n      if (data.message) {\n        this.setState({\n          message: data.message,\n          username: \"\",\n          password: \"\"\n        });\n      } else {\n        // successfully signed up\n        // update the state for the parent component\n        this.props.setUser(data);\n        this.props.history.push(\"/profile\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"app-wrapper\">\n          <div className=\"pageheader py-2\">Signup</div>\n\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\n            <Form.Group>\n              <Form.Label htmlFor=\"username\" className=\"label-title\">\n                Username:\n              </Form.Label>\n              <Form.Control\n                className=\"input-login-signup\"\n                type=\"text\"\n                name=\"username\"\n                value={this.state.username}\n                onChange={this.handleChange}\n                id=\"username\"\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"password\" className=\"label-title\">\n                Password:{\" \"}\n              </Form.Label>\n              <Form.Control\n                className=\"input-login-signup\"\n                type=\"password\"\n                name=\"password\"\n                value={this.state.password}\n                onChange={this.handleChange}\n                id=\"password\"\n              />\n            </Form.Group>\n            {this.state.message && (\n              <Alert variant=\"danger\">{this.state.message}</Alert>\n            )}\n\n            <a href=\"/update-profile\" className=\"button-link\">\n              <button\n                type=\"submit\"\n                className=\"btn loginBtn generalBtn btn-primary\"\n              >\n                Signup\n              </button>\n            </a>\n          </Form>\n          <div className=\"social-login\">\n            <a href=\"http://localhost:5555/api/auth/google\">\n              <button className=\"btn socialLoginBtn generalBtn btn-primary\">\n                Sign in Google <i class=\"fab fa-google icon-padding\"></i>\n              </button>\n            </a>\n            <a href=\"http://localhost:5555/api/auth/facebook\">\n              <button className=\"btn socialLoginBtn generalBtn btn-primary\">\n                Login with Facebook <i class=\"fab fa-facebook\"></i>\n              </button>\n            </a>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport { getQuote } from \"../../services/api\";\n\nexport default class Logout extends React.Component {\n  state = {\n    quote: \"\",\n    author: \"\"\n  };\n\n  componentDidMount() {\n    getQuote().then(n => {\n      console.log(n);\n      this.setState({\n        quote: n.quote,\n        author: n.author\n      });\n    });\n  }\n\n  render() {\n    console.log(this.state);\n    return (\n      <div>\n        <div className=\"wisdom-wrapper\">\n          <div className=\"header-box\">\n            <h1>Enjoy your Trip!</h1>\n          </div>\n\n          <div className=\"wisdom\">\n            {/*    <div className=\"quote\">{this.state.quote}</div>\n            <div className=\"author\">- {this.state.author}</div> */}\n\n            <p>\n              <q>\"{this.state.quote}\"</q>\n            </p>\n            <p>- {this.state.author}</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Alert } from \"react-bootstrap\";\nimport \"../../stylesheets/home.css\";\n\nclass Home extends Component {\n  state = {\n    user: null\n  };\n\n  componentDidMount = () => {\n    this.setState({\n      user: this.props.user\n    });\n  };\n\n  render() {\n    console.log(\"HOME PROPS: \", this.props);\n    return (\n      <div className=\"Landingpage\">\n        {/*   <div className=\"BrandGem\">Gem</div>\n        \n\n        <div className=\"BrandBox\">Box</div> */}\n        <svg\n          className=\"Logo\"\n          width=\"200\"\n          height=\"144\"\n          viewBox=\"0 0 200 144\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlnsXlink=\"http://www.w3.org/1999/xlink\">\n          <path\n            d=\"M57.4223 35.992V63.352C54.7983 64.888 51.4703 66.104 47.4383 67C43.4063 67.896 39.0223 68.344 34.2863 68.344C26.9263 68.344 20.7183 66.808 15.6623 63.736C10.6063 60.6 6.79825 56.44 4.23825 51.256C1.74225 46.072 0.49425 40.408 0.49425 34.264C0.49425 28.184 1.80625 22.584 4.43025 17.464C7.05425 12.28 10.9903 8.152 16.2383 5.08C21.5503 2.008 27.9503 0.471998 35.4383 0.471998C39.5343 0.471998 43.4063 1.112 47.0543 2.392C50.7663 3.608 53.9023 5.304 56.4623 7.48L52.9103 14.968C50.8623 13.112 48.3023 11.608 45.2303 10.456C42.1583 9.304 38.8943 8.72799 35.4383 8.72799C30.3823 8.72799 26.0303 9.848 22.3823 12.088C18.7983 14.328 16.0783 17.4 14.2223 21.304C12.3663 25.144 11.4383 29.496 11.4383 34.36C11.4383 39.288 12.3023 43.704 14.0303 47.608C15.8223 51.512 18.4143 54.584 21.8063 56.824C25.2623 59.064 29.4223 60.184 34.2863 60.184C38.7023 60.184 42.8943 59.704 46.8623 58.744V35.992H57.4223ZM115.108 59.032V67H74.0198V1.72H113.188V9.688H84.9638V28.504H109.348V36.472H84.9638V59.032H115.108ZM195.447 1.72V67H184.695V45.592L185.367 18.808L166.935 47.224H159.159L140.439 18.52L141.303 45.592V67H130.551V1.72H140.535L162.999 36.088L185.463 1.72H195.447Z\"\n            fill=\"#4BADB6\"\n          />\n          <path\n            d=\"M43.4545 109.536C48.1905 110.496 51.7745 112.448 54.2065 115.392C56.6385 118.272 57.8545 121.824 57.8545 126.048C57.8545 131.616 55.7425 136 51.5185 139.2C47.2945 142.4 41.1825 144 33.1825 144H10.2385V78.72H33.1825C40.2865 78.72 45.6945 80.128 49.4065 82.944C53.1185 85.76 54.9745 89.824 54.9745 95.136C54.9745 98.592 53.9825 101.6 51.9985 104.16C50.0785 106.72 47.2305 108.512 43.4545 109.536ZM21.1825 86.688V105.6H33.1825C36.6385 105.6 39.2945 104.8 41.1505 103.2C43.0705 101.536 44.0305 99.2 44.0305 96.192C44.0305 89.856 40.4145 86.688 33.1825 86.688H21.1825ZM33.1825 136.032C37.5345 136.032 40.8945 135.072 43.2625 133.152C45.6945 131.168 46.9105 128.384 46.9105 124.8C46.9105 121.024 45.7265 118.208 43.3585 116.352C41.0545 114.496 37.6625 113.568 33.1825 113.568H21.1825V136.032H33.1825ZM186.921 144L168.585 117.312L150.153 144H137.289L161.961 110.304L138.921 78.72H151.881L168.585 103.488L185.289 78.72H198.153L175.113 110.112L199.977 144H186.921Z\"\n            fill=\"#282727\"\n          />\n          <rect x=\"65\" y=\"72\" width=\"70\" height=\"72\" fill=\"url(#pattern0)\" />\n          <defs>\n            <filter\n              id=\"filter0_b\"\n              x=\"-3.50574\"\n              y=\"-3.52802\"\n              width=\"202.953\"\n              height=\"75.872\"\n              filterUnits=\"userSpaceOnUse\"\n              color-interpolation-filters=\"sRGB\">\n              <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n              <feGaussianBlur in=\"BackgroundImage\" stdDeviation=\"2\" />\n              <feComposite\n                in2=\"SourceAlpha\"\n                operator=\"in\"\n                result=\"effect1_backgroundBlur\"\n              />\n              <feBlend\n                mode=\"normal\"\n                in=\"SourceGraphic\"\n                in2=\"effect1_backgroundBlur\"\n                result=\"shape\"\n              />\n            </filter>\n            <pattern\n              id=\"pattern0\"\n              patternContentUnits=\"objectBoundingBox\"\n              width=\"1\"\n              height=\"1\">\n              <use\n                xlinkHref=\"#image0\"\n                transform=\"translate(-0.0142857) scale(0.0205714 0.02)\"\n              />\n            </pattern>\n            <image\n              id=\"image0\"\n              width=\"50\"\n              height=\"50\"\n              xlinkHref=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAFK0lEQVRoge2aXYhVVRTHf3dGZyZTNC0rgiQ0pkgiLTWmJiPUSCSsQH2olKKyCSyo7Msg+yINKuslsHDMCiyjIi2yEgwaH/qiiSx7KEhKjdIa89Z83dPDWru975597j3nnnvvJPiHw5yz1tprr33O3vu/9roDx3AM/yuMA/4CoipfR4AJ9RrEWKC7BoMwV7f2UVOMAnY6nW6PsWsGPlCbH/SKVNYc02a747cLGF21qD00Ae9qR4f17wMBu0bgNdUfAFqBycAvKnsLGBFot0r1f2IH3VLVEQSC+1Lv53h2OWC96v4Apjm6qcDvqtuoti7mqu5zigc9slqDaABeUceHgBlAHiggi97FWuyibQ/4moX9mus83VhgEPgbmA78pnavIy8yE3LA89hPPgO4QJ93e7b3q7wPuKKEzznAP2p7n6f7VuXnA+chLy4CNjD0C6aCecN5YLbKbnOcGyxX2SCwOIHfq4ABbXO7I+9UWYc+t2G3ef8LJsZqddALzHfkG1V+qxdUAbglhf9l2mYQWKKyDvXd6di5X/ChFP4BeUuRBrjI032nuuleJ/em7QSZWmY6zkemVIRMMRcLgX7V3ZPU+Q3ImyoAN3q6cdgF2U78wk2DNdjpexl2IznBs7tW+y5gZ0MsyhmbLXI/cFDvXyDbQsypj0h97tf7uQHbUi/5P7ifb2WMzYMUpxNvEia3tGgENnu+V8XYlpr2iRfUVqejj4hPNypBE/Ce4/+dErbBjagdIbBaJYG1vo4A7Q3Il8jMnMOIRmQMANyM3TmmxbUA7sBOq1phB0OJ0sdULFHe5CtfVMX3xJ8HxmCz03MzBFsqwALQUyaG3RrDppBBC/CZGrxN/Jb6rNqsrzzeWJhtOI6XckgSGQFfIeejICZhs867Y2ymIFyTB06sLN4gxiMLt4CcYUJYic3CJ5dzuAAJdIAwKQFsI5y9ZoHJnrfG6C9FeK6A5HeJ8Cj2EHVaQD9P9T9TnYPPCGAv8Yx+Cvaw9Ugaxw1YctqFkJUPU4BIkraXwxL19Q1D1+ZI4GPVf0gFVDEeWzR4JqA3Z5CutI4D2KW+QseAdar7CTip0g5mYlOX6zzdKOzGMLPSDrCp+0HgeE+3GJvmt2XoA5AsOEII6BxPZ06Qwf08IV5WH2s8eSuWs5Zn8F+EDepwD8VEdTqyk/QR3hTK4VQk8RsAznDko5H1EiGFj6qhBSnTREiJxl2QW1S+ugK/D2MrJQY5bOmpmxKkVymmYKsadzrydpX9SrqCWjP2EHWxI79LZT3AWRniLYkFCCH1Y6sqAJ9q50tT+Fqmbb5wZG3INC0AV2cJNAkexx53zbpYGgiqHMzgr9fnkxGCjYDHqhJpGTQA72M5pAmZJvtUFqow+rgEmzm0IMxuiuM7qOP5aALwo3b8lMrM8XNLgvZvUHysflqf95KB9CrFLCxZLgIm6rO/lfqYhKyxXiSHWoisiT7gohrGWxKmfHoYIctN+ry2RJsn1eYlikmvo0SbuqATS5Zm7h9iaLoBwgnmp4XZWNJ7tR6BlsNxyG4VIXWuLuLTCpPufIKtY31NeNDDgjORH3YibJF7D8UZQA571jY2PcDZdY00Aa7EkuUBJNB5jv5ybAbQq7bX1DnGxDAFaVPc3ubozO+PZnE/UffoUqAR++usKYa3IlNvUC9DetWoGdcUE7Hn7wgpHz3nPO9D0vejAhciBGeql3m976c40z0qsIKhBecVwxpRBrj/JbFzmGPJhDFI9TBPHf6/pNZoJb4EWjX8C2RUC1duuJhSAAAAAElFTkSuQmCC\"\n            />\n          </defs>\n        </svg>\n\n        <div className=\"Teaser\">\n          <div className=\"TeaserTextContainer\">\n            <div className=\"TeaserText\">\n              <p>Get inspired.</p>\n              <p>Explore places.</p>\n              <p>Share discoveries.</p>\n            </div>\n          </div>\n        </div>\n        <>\n          <p>\n            <a\n              className=\"btn btn-primary btn-landingpage generalBtn-landing\"\n              href=\"/explore-places\"\n              role=\"button\">\n              Open the box\n            </a>\n          </p>\n\n          {!this.state.user && (\n            <div className=\"btn-signup-login\">\n              <p>\n                <Link className=\"btn btn-link btn-lp \" to=\"/Signup\">\n                  Join the community\n                </Link>\n              </p>\n              <p>\n                <Link className=\"btn btn-link btn-lp\" to=\"/Login\">\n                  Login\n                </Link>\n              </p>\n            </div>\n          )}\n        </>\n        {this.state.message && (\n          <Alert variant=\"danger\">{this.state.message}</Alert>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Button, Container, Row, Col } from \"react-bootstrap\";\nimport Select from \"react-select\";\nimport \"../../stylesheets/filters.css\";\n\n// const userFilterOptions = [\n//   { value: \"all\", label: \"All\" },\n//   { value: \"liked\", label: \"Liked\" },\n//   { value: \"mine\", label: \"Mine\" }\n// ];\n\nclass Filters extends Component {\n  state = {\n    displayFilters: false,\n    gemsData: null,\n    filterStatus: this.props.filterStatus,\n    selectedOption: null\n  };\n  handleSelectChange = selectedOption => {\n    this.setState({ selectedOption });\n    console.log(`Option selected:`, selectedOption);\n  };\n\n  render() {\n    const { selectedOption } = this.state;\n    return (\n      <div className=\"filters-block-wrapper\">\n        <div className=\"filters-block-inside\">\n          <h1>Filter by</h1>\n          <hr/>\n          <form onSubmit={this.props.handleFilterSubmit}>\n          <div className=\"inputs-container\">\n              <div className=\"inputs-col\">\n                <Select\n                  defaultValue=\"all\"\n                  value={this.props.filterStatus.userFilter}\n                  onChange={this.props.handleSelectChange}\n                  options={this.props.userFilterOptions}\n                />\n              </div>\n            </div>\n            <div className=\"inputs-container\">\n              <div className=\"inputs-col\">\n                <input\n                  type=\"checkbox\"\n                  name=\"showGems\"\n                  id=\"showGems\"\n                  checked={this.props.filterStatus.showGems}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"showGems\">Gems</label>\n              </div>\n              <div className=\"inputs-col\">\n                <input\n                  type=\"checkbox\"\n                  name=\"showTrips\"\n                  id=\"showTrips\"\n                  checked={this.props.filterStatus.showTrips}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"showTrips\">Trips</label>\n              </div>\n            </div>\n            <hr/>\n            <h2>Show by date</h2>\n            <div className=\"inputs-dates\">\n              <label htmlFor=\"dateStart\">From:</label>\n              <input\n                type=\"date\"\n                id=\"dateStart\"\n                name=\"dateStart\"\n                value={this.props.filterStatus.dateStart}\n                onChange={this.props.handleFilterChange}></input>\n            </div>\n            <div className=\"inputs-dates\">\n              <label htmlFor=\"dateStart\">To:</label>\n              <input\n                type=\"date\"\n                id=\"dateEnd\"\n                name=\"dateEnd\"\n                value={this.props.filterStatus.dateEnd}\n                onChange={this.props.handleFilterChange}></input>\n            </div>\n            <hr/>\n            <h2>Categories</h2>\n            <div className=\"inputs-container\">\n              <div className=\"inputs-col\">\n                <input\n                  type=\"checkbox\"\n                  name=\"foodDrinks\"\n                  id=\"foodDrinks\"\n                  checked={this.props.filterStatus.foodDrinks}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"foodDrinks\">Food & Drinks</label>\n                <input\n                  type=\"checkbox\"\n                  name=\"cultureArts\"\n                  id=\"cultureArts\"\n                  checked={this.props.filterStatus.cultureArts}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"cultureArts\">Culture & Arts</label>\n                <input\n                  type=\"checkbox\"\n                  name=\"sports\"\n                  id=\"sports\"\n                  checked={this.props.filterStatus.sports}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"sports\">Sports</label>\n                <input\n                  type=\"checkbox\"\n                  name=\"party\"\n                  id=\"party\"\n                  checked={this.props.filterStatus.party}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"party\">Party</label>\n              </div>\n              <div className=\"inputs-col\">\n                <input\n                  type=\"checkbox\"\n                  name=\"hikes\"\n                  id=\"hikes\"\n                  checked={this.props.filterStatus.hikes}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"hikes\">Hikes</label>\n                <input\n                  type=\"checkbox\"\n                  name=\"nature\"\n                  id=\"nature\"\n                  checked={this.props.filterStatus.nature}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"nature\">Nature</label>\n                <input\n                  type=\"checkbox\"\n                  name=\"other\"\n                  id=\"other\"\n                  checked={this.props.filterStatus.other}\n                  onChange={this.props.handleFilterChange}\n                />\n                <label htmlFor=\"other\">Other</label>\n              </div>\n            </div>\n            <hr/>\n            <Button className=\"btn btn-primary generalBtn\" type=\"submit\">\n              Apply & Close\n            </Button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Filters;\n","import React from \"react\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\n\nconst GemOnMap = props => {\n  return (\n    <div>\n      <Marker\n        latitude={props.data.latitude}\n        longitude={props.data.longitude}\n        captureClick={false}\n        draggable={false}\n        offsetTop={-30}\n        offsetLeft={-15}>\n        <div\n          className=\"gem-marker\"\n          onClick={() => {\n            props.openPopup(props.data);\n          }}>\n          <img src=\"/images/diamond-icon-green.png\" alt=\"Gem\" />\n        </div>\n      </Marker>\n    </div>\n  );\n};\n\nexport default GemOnMap;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport \"../../stylesheets/gemDetails.css\";\n\nexport default class GemDetails extends Component {\n  state = {\n    currentGemData: this.props.data,\n    currentGemIndex: 0,\n    experienceGemData: null,\n    creatorData: null,\n    fromProfile: this.props.fromProfile\n  };\n\n  componentDidMount = () => {\n    if (!this.state.currentGemData) this.getGemData();\n    if (this.state.currentGemData && !this.state.creatorData)\n      this.getCreatorData();\n    if (this.state.currentGemData && !this.state.experienceGemData)\n      this.getExperienceGemData();\n  };\n\n  getGemData = () => {\n    const gemId = this.props.match.params.gemId;\n    axios.get(`/api/gem/${gemId}`).then(resp => {\n      this.setState({\n        currentGemData: resp.data\n      });\n    });\n  };\n\n  handleLike = () => {\n    const likes = [...this.state.currentGemData.likes];\n    const userId = this.props.user._id;\n    if (!likes.includes(userId)) {\n      likes.push(this.props.user._id);\n    } else {\n      likes.splice(likes.indexOf(userId), 1);\n    }\n    const gemId = this.state.currentGemData._id;\n    axios.put(`/api/gem/${gemId}`, { likes }).then(response => {\n      console.log(response);\n      this.setState({\n        currentGemData: { ...response.data, likes: response.data.likes }\n      });\n    });\n  };\n\n  getGemExperience = event => {\n    const { currentGemIndex, experienceGemData } = this.state;\n    let newGemIndex = currentGemIndex;\n    if (event.target.name === \"previous\" && currentGemIndex > 0)\n      newGemIndex -= 1;\n    if (\n      event.target.name === \"next\" &&\n      currentGemIndex < experienceGemData.length - 1\n    )\n      newGemIndex += 1;\n    const newGemData = experienceGemData[newGemIndex];\n    this.setState({\n      currentGemIndex: newGemIndex,\n      currentGemData: newGemData\n    });\n  };\n\n  getExperienceGemData = () => {\n    axios\n      .get(`/api/gem/`)\n      .then(response => {\n        console.log(response);\n        const { latitude, longitude } = this.state.currentGemData;\n        const experienceGemData = response.data.filter(gem => {\n          return gem.latitude === latitude && gem.longitude === longitude;\n        });\n        this.setState({\n          experienceGemData\n        });\n      })\n      .catch(err => {\n        if (err.response.status === 404) {\n          this.setState({ error: \"Not found\" });\n        }\n      });\n  };\n\n  getCreatorData = () => {\n    console.log(\"get creator data called\", this.state.currentGemData.creator);\n    const creatorId = this.state.currentGemData.creator;\n    axios\n      .get(`/api/user/${creatorId}`)\n      .then(response => {\n        console.log(response);\n        this.setState({\n          creatorData: response.data\n        });\n      })\n      .catch(err => {\n        if (err.response.status === 404) {\n          this.setState({ error: \"Not found\" });\n        }\n      });\n  };\n\n  render() {\n    console.log(\"Creator data: \", this.state.creatorData);\n    if (!this.state.currentGemData) return <></>;\n    const profileLink = this.state.currentGemData\n      ? \"/profile/\" + this.state.currentGemData.creator\n      : \"#\";\n    const categoryStrings = {\n      foodDrinks: \"Food & Drinks\",\n      cultureArts: \"Culture & Arts\",\n      hikes: \"Hikes\",\n      nature: \"Nature & Sight\",\n      party: \"Party\",\n      sports: \"Sports\",\n      others: \"Others\"\n    };\n    const currentGemData = this.state.currentGemData;\n    if (!currentGemData) return <></>;\n    const liked =\n      this.props.user && currentGemData.likes.includes(this.props.user._id)\n        ? true\n        : false;\n    const likeClass = liked ? \"btn-unlike\" : \"btn-like\";\n    return (\n      <>\n        <div className=\"pageheader shadow\">\n          <h3>{currentGemData.title}</h3>\n        </div>\n        <div className=\"gem-details page-wrapper \">\n          <img\n            className=\"gem-details-image\"\n            src={currentGemData.imageUrl}\n            alt=\"\"\n          />\n          <div className=\"flex-row-sides creatorDataOnGem\">\n            {this.state.creatorData && (\n              <p className=\"details-titles\">\n                {currentGemData.discovery ? (\n                  <>\n                    <img\n                      className=\"gem-discovery-icon\"\n                      src=\"images/diamond-icon-gold.png\"\n                      alt=\"gem\"\n                      height=\"20px\"\n                    />{\" \"}\n                    Discovered\n                  </>\n                ) : (\n                  <>\n                    <img\n                      className=\"gem-discovery-icon\"\n                      src=\"images/diamond-icon-green.png\"\n                      alt=\"gem\"\n                      height=\"20px\"\n                    />{\" \"}\n                    Experienced\n                  </>\n                )}{\" \"}\n                by{\" \"}\n                <a href={`/profile/${this.state.creatorData._id}`}>\n                  {this.state.creatorData.username}\n                </a>\n              </p>\n            )}\n            <div>\n              {this.props.user ? (\n                <span className={likeClass} onClick={() => this.handleLike()}>\n                  {liked ? (\n                    <>\n                      <i className=\"fas fa-heart\"></i>{\" \"}\n                      {currentGemData.likes.length}\n                    </>\n                  ) : (\n                    <>\n                      <i className=\"far fa-heart\"></i>{\" \"}\n                      {currentGemData.likes.length}\n                    </>\n                  )}\n                </span>\n              ) : (\n                <>Likes: {currentGemData.likes.length}</>\n              )}\n            </div>\n          </div>\n          {this.state.experienceGemData &&\n            this.state.experienceGemData.length > 1 && (\n              <div className=\"flex-row-sides\">\n                <button\n                  className=\"btn-previous\"\n                  name=\"previous\"\n                  onClick={this.getGemExperience}>\n                  <i class=\"fa fa-chevron-left\"></i> Previous\n                </button>\n                <button\n                  className=\"btn-next\"\n                  name=\"next\"\n                  onClick={this.getGemExperience}>\n                  Next <i class=\"fa fa-chevron-right\"></i>\n                </button>\n              </div>\n            )}\n          <div className=\"gem-details-info\">\n            <div className=\"flex-row-sides\">\n              {currentGemData.locationName && (\n                <p>{currentGemData.locationName.substring(0, 30)}...</p>\n              )}\n            </div>\n\n            <div className=\"gem-divs\">\n              <p className=\"details-titles\">Descriprion: </p>\n              <p className=\"details-infos\">{currentGemData.description}</p>\n            </div>\n            <div className=\"gem-divs\">\n              <p className=\"details-titles\">Good to know: </p>\n              <p className=\"details-infos\">{currentGemData.goodToKnow}</p>\n            </div>\n            <div className=\"cat-creat-container\">\n              <div className=\"gem-divs\">\n                <p className=\"details-titles\">Category: </p>\n                <p className=\"details-infos\">\n                  {categoryStrings[currentGemData.category]}\n                </p>\n              </div>\n              <div className=\"gem-divs\">\n                <p className=\"details-titles\">Created: </p>\n                <p className=\"details-infos\">\n                  {currentGemData.created_at.slice(0, 10)}\n                </p>\n              </div>\n            </div>\n          </div>\n          {!this.props.closeDetails ? (\n            <div>\n              <Link className=\"back-Link\" to=\"/explore-places\">\n                <Button className=\"back-btn generalBtn\">Back to Map</Button>\n              </Link>\n            </div>\n          ) : (\n            <div>\n              <Button\n                className=\"back-btn generalBtn\"\n                onClick={this.props.closeDetails}>\n                Back to Map\n              </Button>\n            </div>\n          )}\n          <div className=\"arrow-down\">\n            <i className=\"fas fa-angle-down\"></i>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nimport GemOnMap from \"./GemOnMap\";\nimport ReactMapGL, {\n  Popup,\n  NavigationControl,\n  GeolocateControl\n} from \"react-map-gl\";\nimport Geocoder from \"react-mapbox-gl-geocoder\";\nimport GemDetails from \"./GemDetails\";\nimport { throws } from \"assert\";\n\nclass MapGems extends Component {\n  state = {\n    viewport: {\n      width: \"100%\",\n      height: \"95vh\",\n      latitude: 70.520008,\n      longitude: 70.404954,\n      zoom: 2\n    },\n    gemSelectedInfo: this.props.gemSelectedInfo,\n    displayDetails: false\n  };\n\n  openPopup = gemData => {\n    this.setState({\n      gemSelectedInfo: {\n        ...gemData\n      }\n    });\n  };\n\n  closeDetails = () => {\n    this.setState({\n      displayDetails: false,\n      gemSelectedInfo: null\n    });\n  };\n\n  openDetails = () => {\n    this.setState({\n      displayDetails: true\n    });\n  };\n\n  setUserLocation = () => {\n    navigator.geolocation.getCurrentPosition(position => {\n      let userLocation = {\n        lat: position.coords.latitude,\n        long: position.coords.longitude\n      };\n      this.setState({\n        viewport: {\n          ...this.state.viewport,\n          latitude: userLocation.lat,\n          longitude: userLocation.long\n        }\n      });\n    });\n  };\n\n  onGeocontrolSelected = (viewport, item) => {\n    this.setState({\n      viewport: viewport,\n      marker: {\n        longitude: viewport.longitude,\n        latitude: viewport.latitude\n      }\n    });\n  };\n\n  renderPopup = () => {\n    const { gemSelectedInfo } = this.state;\n    const categoryRender = {\n      foodDrinks: [\"Food & Drinks\", \"#363\"],\n      cultureArts: [\"Culture & Arts\", \"#229\"],\n      hikes: [\"Hikes\", \"#4badb6\"],\n      nature: [\"Nature & Sight\", \"#2b2\"],\n      party: [\"Party\", \"#811\"],\n      sports: [\"Sports\", \"#292\"],\n      others: [\"Others\", \"#555\"]\n    };\n    return (\n      gemSelectedInfo && (\n        <Popup\n          className=\"gem-popup\"\n          tipSize={5}\n          anchor=\"top\"\n          latitude={gemSelectedInfo.latitude}\n          longitude={gemSelectedInfo.longitude}\n          closeButton={true}\n          closeOnClick={false}\n          onClose={() => this.setState({ gemSelectedInfo: null })}>\n          <div>\n            <img\n              className=\"gem-popup-img\"\n              src={gemSelectedInfo.imageUrl}\n              alt=\"\"\n            />\n            <p className=\"gem-popup-title\">\n              <strong>{gemSelectedInfo.title}</strong>\n            </p>\n            <p className=\"gem-popup-category\">\n              <span\n                style={{\n                  color: `${categoryRender[gemSelectedInfo.category][1]}`\n                }}>\n                {categoryRender[gemSelectedInfo.category][0]}\n              </span>\n            </p>\n            <button onClick={this.openDetails} className=\"gem-popup-btn\">\n              Explore\n            </button>\n          </div>\n        </Popup>\n      )\n    );\n  };\n\n  render() {\n    const gemsToRender = this.props.gems.map(gem => {\n      return <GemOnMap key={gem._id} data={gem} openPopup={this.openPopup} />;\n    });\n    this.setUserLocation();\n    return (\n      <div className=\"page-wrapper\">\n\n        {this.state.displayDetails ? (\n          <>\n            <GemDetails\n              data={this.state.gemSelectedInfo}\n              user={this.props.user}\n              closeDetails={this.closeDetails}\n            />\n          </>\n        ) : (\n          <ReactMapGL\n            {...this.state.viewport}\n            onViewportChange={viewport =>\n              this.setState({\n                viewport: viewport\n              })\n            }\n            mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n            mapStyle=\"mapbox://styles/iouri/ck1kx1czi1r971cpj0s2ngu2q\"\n            captureDoubleClick={false}\n            doubleClickZoom={false}>\n            <div style={{ position: \"absolute\", right: \"2vw\", top: \"10vh\" }}>\n              <NavigationControl\n                onViewportChange={viewport => this.setState({ viewport })}\n              />\n            </div>\n            <div>\n              <Button \n                className=\"btn btn-primary generalBtn filters-btn\"\n                onClick={this.props.toggleFilters}>\n                <i className=\"fas fa-filter\"></i>\n              </Button>\n            </div>\n            <div className=\"geocoder-container\">\n              <Geocoder\n                style={{height:\"100px\"}}\n                placeholder=\"Search for a Gem...\"\n                mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n                onSelected={this.onGeocontrolSelected}\n                viewport={this.state.viewport}\n                // hideOnSelect={true}\n              />\n            </div>\n            {gemsToRender}\n            {this.renderPopup()}\n          </ReactMapGL>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default MapGems;\n","import React, { Component } from \"react\";\nimport Filters from \"./Filters\";\nimport MapGems from \"./MapGems\";\nimport axios from \"axios\";\nimport { Button } from \"react-bootstrap\";\n\nconst userFilterOptions = [\n  { value: \"all\", label: \"All\" },\n  { value: \"liked\", label: \"Liked\" },\n  { value: \"mine\", label: \"Mine\" }\n];\n\nclass ExplorePlaces extends Component {\n  state = {\n    displayFilters: false,\n    gemsData: null,\n    gemsToDisplay: null,\n    gemSelectedInfo: null,\n    filterStatus: {\n      showGems: true,\n      showTrips: true,\n      userFilter: \"all\",\n      dateStart: \"2019-01-01\",\n      dateEnd: \"2019-12-31\",\n      foodDrinks: true,\n      cultureArts: true,\n      sports: true,\n      party: true,\n      hikes: true,\n      nature: true,\n      others: true\n    }\n  };\n\n  getGemsData = () => {\n    axios.get(\"/api/gem\").then(gems => {\n      console.log(gems.data);\n      this.setState({\n        gemsData: gems.data,\n        gemsToDisplay: gems.data\n      });\n    });\n  };\n\n  filterGems = event => {\n    event.preventDefault();\n    const filter = this.state.filterStatus;\n    axios.get(\"/api/gem\").then(foundGems => {\n      let gemsFiltered = foundGems.data.filter(gem => {\n        return (\n          filter.showGems &&\n          (filter.userFilter.value === \"all\" ||\n            (filter.userFilter.value === \"liked\" &&\n              gem.likes.includes(this.props.user._id)) ||\n            (filter.userFilter.value === \"mine\" &&\n              gem.creator === this.props.user._id)) &&\n          filter[gem.category] === true &&\n          filter.dateStart <= gem.created_at.slice(0, 10) &&\n          gem.created_at.slice(0, 10) <= filter.dateEnd\n        );\n      });\n\n      this.setState({\n        gemsData: foundGems.data,\n        gemsToDisplay: gemsFiltered,\n        displayFilters: false,\n        gemSelectedInfo: null\n      });\n    });\n  };\n\n  componentDidMount = () => {\n    if (!this.state.gemsData) this.getGemsData();\n  };\n\n  handleSelectChange = userFilter => {\n    this.setState({\n      filterStatus: { ...this.state.filterStatus, userFilter: userFilter }\n    });\n    console.log(`Option selected:`, userFilter);\n  };\n\n  handleChange = event => {\n    console.log(event.target);\n    const name = event.target.name;\n    const value =\n      event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n    this.setState({\n      filterStatus: { ...this.state.filterStatus, [name]: value }\n    });\n  };\n\n  toggleFilters = () => {\n    const displayFilters = this.state.displayFilters ? false : true;\n    this.setState({\n      displayFilters\n    });\n  };\n\n  render() {\n\n    if (!this.state.gemsToDisplay) return <></>;\n    return (\n      <div>\n        \n        <div className=\"explore-places page-wrapper\">\n          <div className=\"explore-places-map\">\n            {this.state.displayFilters && (\n              <>\n                <Filters\n                  handleFilterChange={this.handleChange}\n                  handleSelectChange={this.handleSelectChange}\n                  handleFilterSubmit={this.filterGems}\n                  userFilterOptions={userFilterOptions}\n                  filterStatus={this.state.filterStatus}\n                />\n              </>\n            )}\n            <MapGems\n              toggleFilters={this.toggleFilters}\n              gems={this.state.gemsToDisplay}\n              user={this.props.user}\n              gemSelectedInfo={this.state.gemSelectedInfo}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ExplorePlaces;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Form } from \"react-bootstrap\";\n\nimport {\n  Image,\n  Video,\n  Transformation,\n  CloudinaryContext\n} from \"cloudinary-react\";\n\nimport \"../../stylesheets/updateProfile.css\";\n\nexport default class UpdateProfile extends Component {\n  state = {\n    username: this.props.user.username,\n    profilePic: this.props.user.profilePic,\n    travelInterests: this.props.user.travelInterests\n  };\n\n  handleChange = event => {\n    const name = event.target.name;\n    const value = event.target.value;\n    const { username, profilePic, travelInterests } = this.state;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    console.log(event.target);\n    const files = event.target.profilePic.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"profilePic\", files);\n    axios\n      .post(\"/api/user/add-image\", uploadData)\n      .then(response => {\n        this.setState(\n          {\n            profilePic: response.data.secure_url\n          },\n          () => {\n            console.log(\"Profile pic updated\", this.state.profilePic);\n          }\n        );\n        axios\n          .patch(\"/api/user/update\", {\n            username: this.state.username,\n            profilePic: this.state.profilePic,\n            travelInterests: this.state.travelInterests\n          })\n          .then(response => {\n            this.props.setUser(response.data);\n            this.props.history.push(`/profile/${this.props.user._id}`);\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      })\n      .catch(err => {\n        axios\n          .patch(\"/api/user/update\", {\n            username: this.state.username,\n            profilePic: this.state.profilePic,\n            travelInterests: this.state.travelInterests\n          })\n          .then(response => {\n            this.props.setUser(response.data);\n            console.log(\"newUser set call component\");\n            this.props.history.push(`/profile/${this.props.user._id}`);\n          })\n          .catch(err => {\n            console.log(err);\n            this.props.history.push();\n          });\n      });\n  };\n\n  directProfile = () => {\n    this.props.history.push(`/profile/${this.props.user._id}`);\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"pageheader\">Update your profile</div>\n        <div className=\"wrapper-update\">\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\n            <Form.Group>\n              <h2>Hello {this.props.user.username}</h2>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"username\" className=\"label-title\">\n                Change your username:\n              </Form.Label>\n              <Form.Control\n                className=\"input-login-signup\"\n                onChange={this.handleChange}\n                placeholder={this.props.user.username}\n                type=\"text\"\n                name=\"username\"\n                id=\"username\"\n                value={this.state.username}\n              />\n            </Form.Group>\n            <Form.Group className=\"image-uploader\">\n              <Form.Label htmlFor=\"profilePic\">Update your Picture</Form.Label>\n\n              <Form.Control id=\"profilePic\" type=\"file\" name=\"profilePic\" />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"travelInterests\" className=\"label-title\">\n                Tell us something about you:\n              </Form.Label>\n              <Form.Control\n                className=\"input-login-signup\"\n                onChange={this.handleChange}\n                id=\"travelInterests\"\n                name=\"travelInterests\"\n                value={this.state.travelInterests}\n                placeholder={this.props.user.travelInterests}\n              />\n            </Form.Group>\n\n            <div className=\"update-btn-row1\">\n              <div className=\"col-12\">\n                <button\n                  className=\"btn loginBtn generalBtn btn-primary\"\n                  type=\"submit\">\n                  Save\n                </button>\n              </div>\n            </div>\n            <div className=\"update-btn-row1\">\n              <div className=\"col-12\">\n                <button\n                  className=\"btn loginBtn generalBtn btn-primary\"\n                  onClick={this.directProfile}\n                  variant=\"contained\"\n                  type=\"button\">\n                  <i class=\"fas fa-trash-alt\"></i>\n                </button>\n              </div>\n            </div>\n            {/* <div className=\"update-btn-row1\">\n              <div className=\"col-12\">\n              <a\n                  className=\"btn loginBtn generalBtn btn-primary\"\n                  href=\"/profile\"\n                  role=\"button\"\n                >\n                  See your profile\n                </a>\n              </div>\n            </div> */}\n          </Form>\n        </div>\n      </>\n    );\n  }\n}\n","import \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nimport axios from \"axios\";\nimport React, { Component } from \"react\";\nimport ReactMapGL, {\n  Marker,\n  // Popup,\n  GeolocateControl,\n  NavigationControl\n} from \"react-map-gl\";\nimport { Link } from \"react-router-dom\";\nimport \"../../stylesheets/tripdetails.css\";\nimport Button from \"@material-ui/core/Button\";\n\nclass TripDetails extends Component {\n  state = {\n    viewport: {\n      width: \"100%\",\n      height: \"50vh\",\n      latitude: 52.520008,\n      longitude: 13.404954,\n      zoom: 4,\n      bearing: 0,\n      pitch: 0\n    },\n    coordinates: [],\n    trip_details: {}\n  };\n\n  componentDidMount() {\n    let coordinates = [];\n    let trip_details = {};\n    axios\n      .get(`/api/trip/tripgems/${this.props.match.params.tripId}`)\n      .then(async (trip) => {\n        trip_details = { ...trip.data };\n        console.log(trip.data.gemsVisited);\n        // const promises = trip.data.gemsVisited.map((gem, index) => {\n        // trip.data.gemsVisited.map((gem, index) => {\n        for (const [index, gem] of trip.data.gemsVisited.entries()) {\n          if (index !== trip.data.gemsVisited.length - 1) {\n            const res = await axios.get(\n              `https://api.mapbox.com/directions/v5/mapbox/cycling/${gem.longitude},${gem.latitude};${trip.data.gemsVisited[index + 1].longitude},${trip.data.gemsVisited[index + 1].latitude}?geometries=geojson&access_token=` +\n                process.env.REACT_APP_MAPBOX_TOKEN\n            );\n            console.log(res.data.routes[0].geometry.coordinates);\n            coordinates.push(...res.data.routes[0].geometry.coordinates);\n            //  console.log(\"coordinates\", coordinates);\n          }\n          console.log(index);\n        }\n        // return Promise.all(promises);\n        // })\n        // .then(x => {\n        //   console.log(\"done\", x);\n        if (coordinates.length > 0) {\n          console.log(coordinates[Math.floor(coordinates.length / 2)][0]);\n          console.log(coordinates[Math.floor(coordinates.length / 2)][1]);\n\n          this.setState({\n            coordinates: coordinates,\n            viewport: {\n              ...this.state.viewport,\n              latitude: coordinates[Math.floor(coordinates.length / 2)][1],\n              longitude: coordinates[Math.floor(coordinates.length / 2)][0]\n            },\n            trip_details: trip_details\n          });\n\n          this.drawTrip(coordinates);\n        }\n      });\n  }\n\n  drawTrip = (coordinates) => {\n    const map = this.reactMap.getMap();\n    map.on(\"load\", () => {\n      //add the GeoJSON layer here\n      map.addLayer({\n        id: \"route\",\n        type: \"line\",\n        source: {\n          type: \"geojson\",\n          data: {\n            type: \"Feature\",\n            properties: {},\n            geometry: {\n              type: \"LineString\",\n              coordinates: coordinates\n            }\n          }\n        },\n        layout: {\n          \"line-join\": \"round\",\n          \"line-cap\": \"round\"\n        },\n        paint: {\n          \"line-color\": \"#1B4F72\",\n          \"line-width\": 4\n        }\n      });\n    });\n  };\n\n  showGems = () => {\n    console.log(\n      \"Here is showTrips elements:\",\n      this.state.trip_details.gemsVisited\n    );\n    if (this.state.trip_details && this.state.trip_details.gemsVisited) {\n      return this.state.trip_details.gemsVisited.map((element) => {\n        return (\n          <div>\n            <Link to={`/gem/${element._id}`}>\n              <Button className=\"btn-triplist\">{element.title} ></Button>\n            </Link>\n            <hr />\n          </div>\n        );\n      });\n    }\n  };\n  gemsDisplay = () => {\n    if (Object.keys(this.state.trip_details).length !== 0) {\n      return this.state.trip_details.gemsVisited.map((gem) => {\n        return (\n          <Marker\n            latitude={gem.latitude}\n            longitude={gem.longitude}\n            offsetTop={-30}\n            offsetLeft={-15}\n            captureClick={false}\n            draggable={false}\n          >\n            <div className=\"gem-marker\">\n              <img src=\"/images/diamond-icon-green.png\" alt=\"Gem\" />\n            </div>\n          </Marker>\n        );\n      });\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <div>\n          <div className=\"pageheader\">\n            {this.state.trip_details.name && this.state.trip_details.name && (\n              <h3> {this.state.trip_details.name}</h3>\n            )}\n          </div>\n          <div className=\"mapposition\">\n            <ReactMapGL\n              {...this.state.viewport}\n              ref={(reactMap) => (this.reactMap = reactMap)}\n              onViewportChange={(viewport) =>\n                this.setState({\n                  viewport: viewport\n                })\n              }\n              mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n              mapStyle=\"mapbox://styles/iouri/ck1kx1czi1r971cpj0s2ngu2q\"\n              /* captureDoubleClick={false}\n          doubleClickZoom={false}\n */\n            >\n              {this.gemsDisplay()}\n\n              <div style={{ position: \"absolute\", right: \"2vw\", top: \"10vh\" }}>\n                <NavigationControl\n                  onViewportChange={(viewport) => this.setState({ viewport })}\n                />\n              </div>\n            </ReactMapGL>\n          </div>\n          <div className=\"padding-wrapper\">\n            <div className=\"creatorinfos\">\n              <p>Created by </p>\n              <p>\n                {this.state.trip_details && this.state.trip_details.creator && (\n                  <a href={`/profile/${this.state.trip_details.creator._id}`}>\n                    {this.state.trip_details.creator.username}\n                  </a>\n                )}\n              </p>\n            </div>\n            <div>\n              <h2>Explore Gems of the Trip</h2>\n              <hr />\n              <div>{this.showGems()}</div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default TripDetails;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"../../stylesheets/createGem.css\";\n\nexport default class SuggestGem extends Component {\n  state = {\n    suggestGemsData: null\n  };\n\n  getGemsData = () => {\n    axios.get(\"/api/gem\").then((gems) => {\n      console.log(gems.data);\n      console.log(this.props.locationName);\n      let newdata = gems.data.filter((gem) => {\n        let count = 0;\n        this.props.locationName.split(\",\").forEach((element) => {\n          if (gem.locationName.indexOf(element) !== -1) {\n            count++;\n            console.log(count);\n          }\n        });\n        if (count >= 2) return true;\n      });\n      console.log(newdata);\n      this.setState({\n        suggestGemsData: newdata\n      });\n    });\n  };\n\n  handleRouteExperience = (val) => {\n    console.log(\"Experience called\");\n    console.log(val);\n    this.props.fetchGemInfo({\n      latitude: val.latitude,\n      longitude: val.longitude,\n      locationName: val.locationName,\n      discovery: false\n    });\n    this.props.setStage(\"AddExperience\");\n  };\n\n  handleRouteDiscovery = () => {\n    console.log(\"Discovery called\");\n    this.props.fetchGemInfo({\n      discovery: true\n    });\n    this.props.setStage(\"AddDiscovery\");\n  };\n\n  componentDidMount = () => {\n    if (!this.state.gemsData) this.getGemsData();\n  };\n  render() {\n    console.log(\"How many gems\", this.state.gemsData);\n    return (\n      <div>\n        <div className=\"pageheader\">\n          <h4>\n            {this.state.gemsData === undefined\n              ? \"May be you mean one of these Gems?\"\n              : \"Wow it's a new Discovery!\"}\n          </h4>\n        </div>\n        <div className=\"padding-wrapper\">\n          {this.state.suggestGemsData != null &&\n            this.state.suggestGemsData.map((val) => (\n              <div className=\"item-existing\" key={val._id}>\n                <div>\n                  <p>\n                    <strong>{val.title}</strong>\n                  </p>\n                  <p>{val.locationName}</p>\n                  <hr />\n                </div>\n\n                <div>\n                  <button\n                    class=\"btn btn-primary generalBtn\"\n                    onClick={() => this.handleRouteExperience(val)}\n                  >\n                    <span>Thats it ></span>\n                  </button>\n                </div>\n              </div>\n            ))}\n\n          <div className=\"item-new\">\n            <div>\n              <button\n                class=\"btn btn-primary generalBtn\"\n                onClick={this.handleRouteDiscovery}\n              >\n                <span>\n                  Create a new Discovery!\n                  <img src=\"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697079/gembox/icons/diamond-icon-gold_a6lkxq.png\" />\n                </span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nimport axios from \"axios\";\nimport React, { Component } from \"react\";\nimport ReactMapGL, {\n  Marker,\n  // Popup,\n  GeolocateControl,\n  NavigationControl\n} from \"react-map-gl\";\n\nimport Geocoder from \"react-mapbox-gl-geocoder\";\nimport SuggestGem from \"./SuggestGem\";\n\nexport class SetGem extends Component {\n  state = {\n    viewport: {\n      width: \"100%\",\n      height: \"95vh\",\n      latitude: 52.520008,\n      longitude: 13.404954,\n      zoom: 1,\n      bearing: 0,\n      pitch: 0\n    },\n    marker: {\n      markerClicked: false,\n      latitude: 52.520008,\n      longitude: 13.404954\n    }\n  };\n\n  // here we lift up the state to CreateGem and update longitude, latitude and locationname\n  onSubmit = event => {\n    event.preventDefault();\n    let locationName = \"\";\n    axios\n      .get(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.marker.longitude},${this.state.marker.latitude}.json?access_token=` +\n          process.env.REACT_APP_MAPBOX_TOKEN\n      )\n      .then(response => {\n        console.log(response);\n        locationName = response.data.features[0].place_name;\n        this.props.fetchGemInfo({\n          latitude: this.state.marker.latitude,\n          longitude: this.state.marker.longitude,\n          locationName: locationName\n        });\n        this.props.setStage(\"SuggestGem\");\n      })\n      .catch(err => console.log(\"Error in getting the locationname\" + err));\n  };\n\n  handleViewportChange = viewport => {\n    this.setState({\n      viewport: { ...this.state.viewport, ...viewport }\n    });\n  };\n\n  onSelected = (viewport, item) => {\n    this.setState({\n      viewport: viewport,\n      marker: {\n        longitude: viewport.longitude,\n        latitude: viewport.latitude\n      }\n    });\n  };\n\n  render() {\n    console.log(this.state.marker);\n    console.log(this.state.viewport);\n    return (\n      <>\n        <ReactMapGL\n          {...this.state.viewport}\n          onViewportChange={viewport =>\n            this.setState({\n              viewport: viewport,\n              marker: {\n                longitude: viewport.longitude,\n                latitude: viewport.latitude\n              }\n            })\n          }\n          mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n          mapStyle=\"mapbox://styles/iouri/ck1kx1czi1r971cpj0s2ngu2q\"\n          captureDoubleClick={false}\n          doubleClickZoom={false}\n          onDblClick={event => {\n            this.setState({\n              /* viewport: {\n                longitude: event.lngLat[0],\n                latitude: event.lngLat[1]\n              }, */\n              marker: {\n                longitude: event.lngLat[0],\n                latitude: event.lngLat[1]\n              }\n            });\n            // console.log(\"onclickevent\", event.lngLat);\n          }}\n        >\n          <Marker\n            latitude={this.state.marker.latitude}\n            longitude={this.state.marker.longitude}\n            offsetTop={-50}\n            offsetLeft={-25}\n            captureClick={false}\n            draggable={true}\n            onDragEnd={event =>\n              this.setState({\n                marker: {\n                  longitude: event.lngLat[0],\n                  latitude: event.lngLat[1]\n                }\n              })\n            }\n          >\n            <div className=\"gem-marker gem-marker-set\">\n              <img src=\"/images/diamond-icon-green.png\" alt=\"gem\"/>\n            </div>\n          </Marker>\n          {/*        {this.state.marker.markerClicked ? (\n            <Popup\n              latitude={this.state.marker.latitude}\n              longitude={this.state.marker.longitude}\n              closeButton={true}\n              closeOnClick={false}\n              onClose={() => {\n                this.setState({\n                  marker: { ...this.state.marker, markerClicked: false }\n                });\n              }}\n            >\n              <div>\n                latitude={this.state.marker.latitude}\n                longitude={this.state.marker.longitude}{\" \"}\n              </div>\n            </Popup>\n          ) : null} */}\n          <div style={{ position: \"absolute\", right: \"2vw\", top: \"10vh\" }}>\n            <NavigationControl\n              onViewportChange={viewport => this.setState({ viewport })}\n            />\n          </div>\n          {/* <div style={{ position: \"absolute\", right: \"2vw\", top: \"4vh\" }}>\n            <GeolocateControl\n              positionOptions={{ enableHighAccuracy: true }}\n              trackUserLocation={true}\n            />\n          </div> */}\n          <div>\n            <Geocoder\n              mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n              onSelected={this.onSelected}\n              viewport={this.state.viewport}\n              hideOnSelect={true}\n            />\n          </div>\n          <div className=\"setGem\">\n            <button className=\"btn btn-primary generalBtn\" onClick={this.onSubmit}>\n              Create Gem\n            </button>\n          </div>\n        </ReactMapGL>\n      </>\n    );\n  }\n}\nexport default SetGem;\n","import React, { Component } from 'react'\n\nexport default class GemWelcome extends Component {\n  render() {\n    return (\n      <div>\n        This is Gem Welcome\n      </div>\n    )\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { Formik } from \"formik\";\nimport \"../../stylesheets/createGem.css\";\n\nimport {\n  Image,\n  Video,\n  Transformation,\n  CloudinaryContext\n} from \"cloudinary-react\";\n\nexport default class AddExperience extends React.Component {\n  state = {\n    message: \"\",\n    isEnabled: false,\n    nopic: false\n  };\n\n  handleChanges = (event) => {\n    const { name, value } = event.target;\n    console.log(event.target.visitedDate);\n    this.props.fetchGemInfo({\n      [name]: value\n    });\n\n    //Set timeout change into other function because its asychronouse and can not update checkStatus quickly enough\n    setTimeout(() => {\n      this.setState(\n        {\n          isEnabled: this.props.checkStatus()\n        },\n        () => console.log(\"updated state\", this.state)\n      );\n    }, 10);\n  };\n\n  noPicProceed = (event) => {\n    event.preventDefault();\n    if (event.target.name === \"yes\") {\n      this.props.setStage(\"GemSuccess\");\n      this.props.createGem();\n    } else {\n      this.setState({\n        message: \"\"\n      });\n    }\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    event.persist();\n    const files = event.target.imageUrl.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"imageUrl\", files);\n    axios\n      .post(\"/api/gem/add-image\", uploadData)\n      .then((response) => {\n        this.props.fetchGemInfo({\n          imageUrl: response.data.secure_url\n        });\n        this.props.setStage(\"GemSuccess\");\n        this.props.createGem();\n      })\n      .catch((err) => {\n        this.setState({\n          message: \"You want to proceed without uploading a picture?\"\n        });\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"pageheader\">\n          <h4> Tell others about your Experience</h4>\n        </div>\n        <div className=\"padding-wrapper\">\n          {this.props.locationName && (\n            <h2>{this.props.locationName.substring(0, 30)}...</h2>\n          )}\n          <Form onSubmit={this.handleSubmit}>\n            <Form.Group>\n              <Form.Label htmlFor=\"title\">Title: </Form.Label>\n              <Form.Control\n                required\n                onChange={this.handleChanges}\n                type=\"text\"\n                name=\"title\"\n                id=\"title\"\n                value={this.props.title}\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"description\">Description: </Form.Label>\n              <Form.Control\n                required\n                onChange={this.handleChanges}\n                type=\"text\"\n                name=\"description\"\n                id=\"description\"\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"category\">Category </Form.Label>\n              <Form.Control\n                required\n                onChange={this.handleChanges}\n                name=\"category\"\n                as=\"select\"\n              >\n                <option value=\"\">Choose a category</option>\n                <option value=\"cultureArts\">Culture & Arts</option>\n                <option value=\"foodDrinks\">Food & Drinks</option>\n                <option value=\"hikes\">Hikes</option>\n                <option value=\"nature\">Nature</option>\n                <option value=\"party\">Party</option>\n                <option value=\"sports\">Sports</option>\n                <option value=\"others\">Others</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"goodToKnow\">Good to know: </Form.Label>\n              <Form.Control\n                required\n                onChange={this.handleChanges}\n                type=\"text\"\n                name=\"goodToKnow\"\n                id=\"goodToKnow\"\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"visitedDate\">Date: </Form.Label>\n              <Form.Control\n                required\n                onChange={this.handleChanges}\n                type=\"date\"\n                name=\"visitedDate\"\n                id=\"visitedDate\"\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Control type=\"file\" name=\"imageUrl\" />\n            </Form.Group>\n            {this.state.message && (\n              <div className=\"dangerMessage\">\n                <p>{this.state.message}</p>\n                <button\n                  className=\"btn btn-primary generalBtn\"\n                  onClick={this.noPicProceed}\n                  name=\"yes\"\n                >\n                  Yes\n                </button>\n                <button\n                  className=\"btn btn-primary generalBtn\"\n                  onClick={this.noPicProceed}\n                  name=\"no\"\n                >\n                  No\n                </button>\n              </div>\n            )}\n            <Button\n              className=\"btn btn-primary generalBtn btnexperience\"\n              disabled={!this.state.isEnabled}\n              type=\"submit\"\n            >\n              Create Experience >\n            </Button>\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { Formik } from \"formik\";\n\nimport {\n  Image,\n  Video,\n  Transformation,\n  CloudinaryContext\n} from \"cloudinary-react\";\n\nexport default class AddDiscovery extends React.Component {\n  state = {\n    message: \"\",\n    isEnabled: false,\n    nopic: false\n  };\n\n  handleChanges = (event) => {\n    const { name, value } = event.target;\n    this.props.fetchGemInfo({\n      [name]: value\n    });\n\n    //Set timeout change into other function because its asychronouse and can not update checkStatus quickly enough\n    setTimeout(() => {\n      this.setState(\n        {\n          isEnabled: this.props.checkStatus()\n        }\n        // () => console.log(\"updated state\", this.state)\n      );\n    }, 10);\n  };\n\n  noPicProceed = (event) => {\n    event.preventDefault();\n    if (event.target.name === \"yes\") {\n      this.props.fetchGemInfo({\n        discovery: true\n      });\n      this.props.setStage(\"GemSuccess\");\n      this.props.createGem();\n    } else {\n      this.setState({\n        message: \"\"\n      });\n    }\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    event.persist();\n    const files = event.target.imageUrl.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"imageUrl\", files);\n    axios\n      .post(\"/api/gem/add-image\", uploadData)\n      .then((response) => {\n        this.props.fetchGemInfo({\n          imageUrl: response.data.secure_url,\n          discovery: true\n        });\n        this.props.setStage(\"GemSuccess\");\n        this.props.createGem();\n      })\n      .catch((err) => {\n        this.setState({\n          message: \"You want to proceed without uploading a picture?\"\n        });\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"pageheader\">\n          <h4> Tell others about your Discovery</h4>\n        </div>\n        <div className=\"padding-wrapper\">\n          {this.props.locationName && (\n            <h2>{this.props.locationName.substring(0, 30)}...</h2>\n          )}\n\n          <Form onSubmit={this.handleSubmit}>\n            <Form.Group>\n              <Form.Label htmlFor=\"title\">Title: </Form.Label>\n              <Form.Control\n                required\n                onChange={this.handleChanges}\n                type=\"text\"\n                name=\"title\"\n                id=\"title\"\n                value={this.props.title}\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"description\">Description: </Form.Label>\n              <Form.Control\n                required\n                onChange={this.handleChanges}\n                type=\"text\"\n                name=\"description\"\n                id=\"description\"\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"category\">Category </Form.Label>\n              <Form.Control\n                required\n                onChange={this.handleChanges}\n                name=\"category\"\n                as=\"select\"\n              >\n                <option value=\"\">Choose a category</option>\n                <option value=\"cultureArts\">Culter & Arts</option>\n                <option value=\"foodDrinks\">Food & Drinks</option>\n                <option value=\"hikes\">Hikes</option>\n                <option value=\"nature\">Nature</option>\n                <option value=\"party\">Party</option>\n                <option value=\"sports\">Sports</option>\n                <option value=\"others\">Others</option>\n              </Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"goodToKnow\">Good to know: </Form.Label>\n              <Form.Control\n                required\n                onChange={this.handleChanges}\n                type=\"text\"\n                name=\"goodToKnow\"\n                id=\"goodToKnow\"\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"visitedDate\">Date: </Form.Label>\n              <Form.Control\n                required\n                onChange={this.handleChanges}\n                type=\"date\"\n                name=\"visitedDate\"\n                id=\"visitedDate\"\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Control type=\"file\" name=\"imageUrl\" />\n            </Form.Group>\n            {this.state.message && (\n              <div className=\"dangerMessage\">\n                <p>{this.state.message}</p>\n                <button\n                  className=\"btn btn-primary generalBtn\"\n                  onClick={this.noPicProceed}\n                  name=\"yes\"\n                >\n                  Yes\n                </button>\n                <button\n                  className=\"btn btn-primary generalBtn\"\n                  onClick={this.noPicProceed}\n                  name=\"no\"\n                >\n                  No\n                </button>\n              </div>\n            )}\n            <Button\n              className=\"btn btn-primary generalBtn newdiscovery\"\n              disabled={!this.state.isEnabled}\n              type=\"submit\"\n            >\n              <span>\n                Create your Discovery{\" \"}\n                <img src=\"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697079/gembox/icons/diamond-icon-gold_a6lkxq.png\" />\n              </span>\n            </Button>\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport {\n  FacebookShareButton,\n  WhatsappShareButton,\n  EmailShareButton\n} from \"react-share\";\nimport \"../../stylesheets/createGem.css\";\n\nimport { FacebookIcon, WhatsappIcon, EmailIcon } from \"react-share\";\n\nexport default class GemSuccess extends React.Component {\n  handleRoute = event => {\n    switch (event.target.name) {\n      case \"view\":\n        this.props.history.push(`/gem/${this.props.gemId}`);\n        break;\n      case \"share\":\n        break;\n      case \"add\":\n        this.props.setStage(\"AddToTrip\");\n        break;\n      case \"map\":\n        this.props.history.push(\"/explore-places\");\n        break;\n    }\n\n    // componentDidMount = () => {\n    //   let shareUrl = `http://localhost:3000/gem/${this.props.gemId}`;\n    // };\n  };\n\n  render() {\n    let shareUrl = `https://gem-box.herokuapp.com/gem/${this.props.gemId}`;\n    console.log(shareUrl);\n    console.log({ ...this.props });\n    return (\n      <>\n      <div className=\"gem-success-header\">\n      <h2>Congrats! You just created a new Gem!</h2>\n      </div>\n      <div className=\"success-container\">\n\n        <div className=\"success-flex-share\">\n          <p>Share your newest Discovery:</p>\n          <div className=\"success-flex-container\">\n            <div>\n              <FacebookShareButton url={shareUrl}>\n                <FacebookIcon size={32} round={true} />\n              </FacebookShareButton>\n            </div>\n            <div>\n              <WhatsappShareButton url={shareUrl}>\n                <WhatsappIcon size={32} round={true} />\n              </WhatsappShareButton>\n            </div>\n            <div>\n              <EmailShareButton url={shareUrl}>\n                <EmailIcon size={32} round={true} />\n              </EmailShareButton>\n            </div>\n          </div>\n        </div>\n        <div>\n          <div className=\"success-btn-container\">\n            <Button className=\"btn btn-primary generalBtn\" onClick={this.handleRoute} name=\"view\">\n              View Gem  <i class=\"fas fa-eye\"></i>\n            </Button>\n          </div>\n          <div className=\"success-btn-container\">\n            <Button className=\"btn btn-primary generalBtn\" onClick={this.handleRoute} name=\"add\">\n              Add to a Trip  <i class=\"fas fa-plus\"></i>\n            </Button>\n          </div>\n          <div className=\"success-btn-container\">\n            <Button className=\"btn btn-primary generalBtn\" onClick={this.handleRoute} name=\"map\">\n              Back to Map  <i class=\"fa fa-globe\" aria-hidden=\"true\"></i>\n            </Button>\n          </div>\n        </div>\n      </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport { requestTrips } from \"../../services/api\";\n\nexport default class AddToTrip extends Component {\n  state = {\n    formStatus: false,\n    trips: [],\n    successMessage: \"\"\n  };\n\n  handleChanges = (event) => {\n    const { name, value } = event.target;\n    this.props.fetchTripInfos({\n      [name]: value\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.props.createTrip();\n    requestTrips(this.props.creatorid)\n      .then((trips) => {\n        this.setState({ trips, successMessage: \"Your Trip has been created\" });\n        setTimeout(() => {\n          this.setState({\n            successMessage: \"\"\n          });\n        }, 3000);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  showTrips = () => {\n    return this.state.trips.map((element) => {\n      return (\n        <Button\n          className=\"btn btn-primary generalBtn btn-select\"\n          onClick={() =>\n            this.props.selectTrip(\n              element._id,\n              element.name,\n              element.gemsVisited\n            )\n          }\n        >\n          {element.name}\n        </Button>\n      );\n    });\n  };\n\n  toogleForm = () => {\n    this.setState({\n      formStatus: !this.state.formStatus\n    });\n  };\n\n  componentDidMount = () => {\n    requestTrips(this.props.creatorid)\n      .then((trips) => {\n        this.setState({ trips });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"pageheader\">\n          <h4> To which Trip you want to add the Gem?</h4>\n        </div>\n        <div className=\"padding-wrapper trip-flex\">\n          {!this.state.formStatus ? (\n            <button\n              className=\"btn btn-primary generalBtn-disabled btntrip\"\n              onClick={this.toogleForm}\n            >\n              Open Form to Create Trip\n            </button>\n          ) : (\n            <button\n              className=\"btn btn-primary generalBtn btntrip\"\n              onClick={this.toogleForm}\n            >\n              Close Form\n            </button>\n          )}\n          {this.state.formStatus ? (\n            <Form onSubmit={this.handleSubmit}>\n              <Form.Group>\n                <Form.Label htmlFor=\"name\">Trip Name </Form.Label>\n                <Form.Control\n                  required\n                  onChange={this.handleChanges}\n                  type=\"text\"\n                  name=\"name\"\n                  id=\"name\"\n                  value={this.props.title}\n                />\n              </Form.Group>\n              {this.state.successMessage && (\n                <div className=\"successMessage\">\n                  <p>{this.state.successMessage}</p>\n                </div>\n              )}\n              <Button className=\"btn btn-primary generalBtn\" type=\"submit\">\n                Create Trip\n              </Button>\n            </Form>\n          ) : (\n            <div></div>\n          )}\n          {this.state.trips.length > 0 ? (\n            <div className=\"triplist\">\n              <h3>Choose an existing Trip</h3>\n              {this.showTrips()}\n            </div>\n          ) : (\n            <></>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\n\nexport default class AddGemToTrip extends Component {\n  state = {\n    availableGems: [],\n    message: \"\",\n    showTripButton: false\n  };\n\n  saveTrip = () => {\n    this.setState({\n      message: \"Your changes have successfully been saved\",\n      showTripButton: true\n    });\n    this.props.saveGemsInTrip();\n    setTimeout(() => {\n      this.setState({\n        message: \"\"\n      });\n    }, 3000);\n  };\n\n  showGems = () => {\n    let GemsInTripIncluded = [];\n    if (this.props.TripInfos.existingGems !== undefined) {\n      GemsInTripIncluded = this.props.TripInfos.existingGems;\n    }\n    console.log(\"Check here after click\", this.props.TripInfos.existingGems);\n    return this.props.TripInfos.allGems.map((element) => {\n      if (GemsInTripIncluded.includes(element._id)) {\n        return (\n          <div>\n            <button\n              className=\"btn btn-primary generalBtn btn-select\"\n              onClick={() => this.props.updateGemStatus(element._id)}\n            >\n              <p> {element.title}</p>\n              <p className=\"action-status\">\n                Click to <strong>remove</strong>\n              </p>\n            </button>\n          </div>\n        );\n      } else {\n        return (\n          <div>\n            <button\n              class=\"btn btn-primary generalBtn-disabled btn-select\"\n              onClick={() => {\n                this.props.updateGemStatus(element._id);\n              }}\n            >\n              <p>{element.title}</p>\n              <p className=\"action-status\">\n                Click to <strong>add</strong>\n              </p>\n            </button>\n          </div>\n        );\n      }\n    });\n  };\n\n  componentDidMount = () => {\n    console.log(\n      \"Did Mount and have Tripinfo props\",\n      this.props.TripInfos.existingGems\n    );\n  };\n\n  render() {\n    console.log(\"All TRIP INFOS HERE\", this.props.TripInfos);\n    return (\n      <div>\n        <div className=\"pageheader\">\n          <h4>Which Gems do you want to add to {this.props.tripName}</h4>\n        </div>\n        <div className=\"padding-wrapper trip-flex\">\n          <div className=\"gemlist\">{this.showGems()}</div>\n          {this.state.message && (\n            <div className=\"successMessage\">\n              <p>{this.state.message}</p>\n            </div>\n          )}\n          <button\n            class=\"btn btn-primary generalBtn savetrip\"\n            onClick={this.saveTrip}\n          >\n            Save Gem to Trip\n          </button>\n          {this.state.showTripButton ? (\n            <a href={`/trip/${this.props.TripInfos.selectedTrip}`}>\n              <button class=\"btn btn-primary generalBtn savetrip\">\n                View Trip\n              </button>\n            </a>\n          ) : (\n            <></>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react'\n\nexport default class GemList extends Component {\n  render() {\n    return (\n      <div>\n        This is Gem List\n      </div>\n    )\n  }\n}\n","import \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nimport React, { Component } from \"react\";\nimport SetGem from \"./SetGem\";\nimport GemWelcome from \"./GemWelcome\";\nimport SuggestGem from \"./SuggestGem\";\nimport AddExperience from \"./AddExperience\";\nimport AddDiscovery from \"./AddDiscovery\";\nimport GemSuccess from \"./GemSuccess\";\nimport AddToTrip from \"./AddToTrip\";\nimport GemList from \"./GemList\";\nimport AddGemToTrip from \"./AddGemToTrip\";\nimport {\n  pushGem,\n  requestTrips,\n  pushTrip,\n  specificGems,\n  updateTrip\n} from \"../../services/api.js\";\nimport Geocoder from \"react-mapbox-gl-geocoder\";\n\nclass CreateGem extends React.Component {\n  state = {\n    stage: \"SetGem\",\n    gem: {\n      title: \"\",\n      description: \"\",\n      goodToKnow: \"\",\n      imageUrl: \"\",\n      creator: this.props.user._id,\n      discovery: null,\n      category: \"\",\n      visitedDate: \"\",\n      latitude: 0,\n      longitude: 0,\n      locationName: \"\",\n      gemId: null\n    },\n    trip: {\n      tripId: null,\n      name: \"\",\n      creator: this.props.user._id,\n      selectedTrip: null,\n      allGems: [],\n      addedGems: [],\n      existingGems: []\n    }\n  };\n\n  checkStatus = () => {\n    console.log(this.state.gem);\n    const consider = [\n      \"title\",\n      \"description\",\n      \"goodToKnow\",\n      \"visitedDate\",\n      \"category\",\n      \"locationName\"\n    ];\n    for (var key in this.state.gem) {\n      if (this.state.gem[key] === \"\" && consider.indexOf(key) !== -1) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  createGem = () => {\n    console.log(\"create gem with props\", this.state.gem);\n    let { ...pushObj } = this.state.gem;\n    delete pushObj.stage;\n    if (pushObj.creator === \"\") pushObj.creator = null;\n    pushGem(pushObj).then((n) => {\n      this.setState({\n        gem: {\n          gemId: n._id\n        }\n      });\n    });\n  };\n\n  fetchGemInfo = (gemInfos) => {\n    this.setState({ gem: { ...this.state.gem, ...gemInfos } });\n  };\n\n  createTrip = () => {\n    let { ...pushObj } = this.state.trip;\n    delete pushObj.stage;\n    if (pushObj.creator === \"\") pushObj.creator = null;\n    pushTrip(pushObj).then((n) => {\n      this.setState({\n        trip: {\n          tripId: n._id\n        }\n      });\n      console.log(\"created trip with state\", this.state.trip);\n      requestTrips(this.props.user._id);\n    });\n  };\n\n  fetchTripInfo = (tripInfos) => {\n    this.setState({ trip: { ...this.state.trip, ...tripInfos } });\n  };\n\n  getTrips = () => {\n    requestTrips().then((n) => {\n      this.setState({\n        trip: {\n          tripId: n._id\n        }\n      });\n    });\n  };\n\n  selectTrip = (tripid, name, selectedGem) => {\n    specificGems(this.props.user._id).then((gemArray) => {\n      this.setState({\n        stage: \"AddGemToTrip\",\n        trip: {\n          selectedTrip: tripid,\n          allGems: gemArray,\n          name: name,\n          existingGems: selectedGem\n        }\n      });\n    });\n  };\n\n  saveGemsInTrip = () => {\n    let { ...pushObj } = this.state.trip;\n    console.log(\"State Trip bevor query\", this.state.trip);\n    if (pushObj.creator === \"\") pushObj.creator = null;\n    updateTrip(pushObj).then((n) => {\n      console.log(\"Request saveGemsTrip done\");\n    });\n  };\n\n  updateGemStatus = (gemid, event) => {\n    let addedGemcopy = [...this.state.trip.existingGems];\n    if (addedGemcopy.indexOf(gemid) === -1) addedGemcopy.push(gemid);\n    else addedGemcopy.splice(addedGemcopy.indexOf(gemid), 1);\n    this.setState({\n      trip: {\n        ...this.state.trip,\n        existingGems: addedGemcopy\n      }\n    });\n  };\n\n  setStage = (stage) => {\n    this.setState({\n      stage: stage\n    });\n  };\n\n  changeStage = (stage) => {\n    switch (stage) {\n      case \"GemWelcome\":\n        return <GemWelcome setStage={this.setStage} />;\n      case \"SetGem\":\n        return (\n          <SetGem fetchGemInfo={this.fetchGemInfo} setStage={this.setStage} />\n        );\n      case \"SuggestGem\":\n        return (\n          <SuggestGem\n            locationName={this.state.gem.locationName}\n            setStage={this.setStage}\n            fetchGemInfo={this.fetchGemInfo}\n          />\n        );\n      case \"AddExperience\":\n        return (\n          <AddExperience\n            locationName={this.state.gem.locationName}\n            fetchGemInfo={this.fetchGemInfo}\n            setStage={this.setStage}\n            checkStatus={this.checkStatus}\n            createGem={this.createGem}\n          />\n        );\n      case \"AddDiscovery\":\n        return (\n          <AddDiscovery\n            locationName={this.state.gem.locationName}\n            fetchGemInfo={this.fetchGemInfo}\n            setStage={this.setStage}\n            checkStatus={this.checkStatus}\n            createGem={this.createGem}\n          />\n        );\n      case \"GemSuccess\":\n        return (\n          <div className=\"padding-wrapper\">\n            <GemSuccess\n              gemId={this.state.gem.gemId}\n              setStage={this.setStage}\n              {...this.props}\n            />\n          </div>\n        );\n      case \"AddToTrip\":\n        return (\n          <AddToTrip\n            fetchTripInfos={this.fetchTripInfo}\n            setStage={this.setStage}\n            createTrip={this.createTrip}\n            creatorid={this.props.user._id}\n            selectTrip={this.selectTrip}\n          />\n        );\n      // case \"GemList\":\n      //   return <GemList />;\n      case \"AddGemToTrip\":\n        return (\n          <AddGemToTrip\n            TripInfos={this.state.trip}\n            updateGemStatus={this.updateGemStatus}\n            saveGemsInTrip={this.saveGemsInTrip}\n            tripName={this.state.trip.name}\n          />\n        );\n    }\n  };\n  render() {\n    console.log(this.state.stage, this.state);\n    return <div>{this.changeStage(this.state.stage)}</div>;\n  }\n}\n\nexport default CreateGem;\n","import React, { Component } from \"react\";\n\nexport default class NotFound extends Component {\n  render() {\n    return <div>404 - Page not found</div>;\n  }\n}\n","import React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\n// import UpdateProfile from \"./UpdateProfile\";\nimport { Link } from \"react-router-dom\";\nimport { requestTrips } from \"../../services/api\";\nimport axios from \"axios\";\nimport Carousel from \"react-bootstrap/Carousel\";\nimport Accordion from \"react-bootstrap/Accordion\";\nimport Card from \"react-bootstrap/Card\";\nimport \"../../stylesheets/profile.css\";\n\nexport default class Profile extends Component {\n  state = {\n    popularGems: [],\n    trips: [],\n    discoveries: 0,\n    experiences: 0,\n    creatorProfileId: this.props.match.params.profileId,\n    ownprofile: this.props.user._id === this.props.match.params.profileId,\n    isFollowing: false,\n    creatorInfos: null,\n    followers: 0\n  };\n\n  handleFollowClick() {\n    if (this.state.isFollowing) {\n      this.setState({\n        followers: this.state.followers - 1\n      });\n    } else {\n      this.setState({\n        followers: this.state.followers + 1\n      });\n    }\n    axios\n      .put(\n        \"/api/user/updateFollower\",\n        { creatorId: this.state.creatorProfileId },\n        {\n          new: true\n        }\n      )\n      .then((updatedfollow) => {\n        console.log(\"My updated follwing array\", updatedfollow);\n        this.setState({\n          isFollowing: !this.state.isFollowing\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  getpopularGems = () => {\n    console.log(\"Get Popular call made\");\n    axios\n      .get(`/api/gem/creator/${this.state.creatorProfileId}`)\n      .then((gems) => {\n        let discoveries = gems.data.filter((gems) => gems.discovery).length;\n        let experiences = gems.data.filter((gems) => !gems.discovery).length;\n        this.setState({\n          popularGems: gems.data,\n          discoveries,\n          experiences\n        });\n        axios\n          .get(`/api/user/user/${this.state.creatorProfileId}`)\n          .then((user) => {\n            this.setState(\n              {\n                creatorInfos: user.data,\n                followers: user.data.followers.length\n              },\n              () => {\n                console.log(\n                  \"Here are the Follower Infors of creator\",\n                  this.state.followers\n                );\n              }\n            );\n          })\n          .catch((err) => {\n            console.log(\"Problem getting gems\");\n            axios\n              .get(`/api/user/${this.state.creatorProfileId}`)\n              .then((user) => {\n                this.setState(\n                  {\n                    creatorInfos: user.data\n                  },\n                  () => {\n                    console.log(\n                      \"Here are the Follower Infors of creator\",\n                      this.state.creatorInfos\n                    );\n                  }\n                );\n              })\n              .catch((err) => {\n                console.log(\n                  \"Problem getting user\",\n                  this.state.creatorProfileId\n                );\n              });\n          });\n      });\n  };\n\n  componentDidMount = () => {\n    requestTrips(this.state.creatorProfileId)\n      .then((trips) => {\n        this.setState({ trips }, () => {\n          this.getpopularGems();\n          this.showTrips();\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    if (\n      this.props.user.following &&\n      this.props.user.following.includes(this.state.creatorProfileId)\n    ) {\n      this.setState({ isFollowing: true });\n    }\n  };\n\n  displayPopularGems = () => {\n    return (\n      <Carousel className=\"slider\">\n        {this.state.popularGems.map((gem) => (\n          <Carousel.Item key={gem._id}>\n            <img\n              className=\"d-block w-100 slider\"\n              src={gem.imageUrl}\n              alt=\"gem\"\n            />\n            <Carousel.Caption>\n              <h3 style={{ fontWeight: 900 }}>{gem.title}</h3>\n              <p style={{ fontWeight: 500 }}>{gem.locationName}</p>\n\n              <a href={`/gem/${gem._id}`}>\n                <div\n                  className=\"generalBtn btn btn-primary\"\n                  onClick={() => console.log(\"test\")}\n                >\n                  Explore\n                </div>\n              </a>\n            </Carousel.Caption>\n          </Carousel.Item>\n        ))}\n      </Carousel>\n    );\n  };\n\n  showTrips = () => {\n    console.log(\"Here is showTrips elements:\", this.state.trips);\n    if (!this.state.trips) {\n      return <div>No trips created yet. Start to create a Gem :)</div>;\n    } else {\n      return this.state.trips.map((element) => {\n        return (\n          <div>\n            <Link to={`/trip/${element._id}`}>\n              <Button className=\"btn-triplist\">{element.name} ></Button>\n            </Link>\n            <hr />\n          </div>\n        );\n      });\n    }\n  };\n\n  render() {\n    let user = this.state.creatorInfos;\n    console.log(\"Creator Infos\", this.state.creatorInfos);\n    return (\n      <>\n        <div className=\"profile-flexbox\">\n          <div className=\"nameedit\">\n            <div>\n              <h1>\n                {this.state.creatorInfos !== null &&\n                  this.state.creatorInfos.username}\n              </h1>\n            </div>\n\n            <div>\n              {this.state.ownprofile ? (\n                <Link to=\"/profile\">\n                  <Button\n                    variant=\"contained\"\n                    type=\"button\"\n                    className=\"editprof btn-primary btn generalBtn\"\n                  >\n                    Edit\n                  </Button>\n                </Link>\n              ) : (\n                <div>\n                  {this.state.isFollowing ? (\n                    <button\n                      className=\"follow-button btn btn-primary generalBtn\"\n                      onClick={(event) => this.handleFollowClick(user._id)}\n                    >\n                      Unfollow{\" \"}\n                      <img src=\"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697521/gembox/icons/followed-user_dlgqrl.png\" />\n                    </button>\n                  ) : (\n                    <button\n                      className=\"follow-button btn btn-primary generalBtn-disabled\"\n                      onClick={(event) => this.handleFollowClick(user._id)}\n                    >\n                      Follow{\" \"}\n                      <img src=\"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697521/gembox/icons/follow-user_xix0yg.png\" />\n                    </button>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"headerinfo\">\n            <div>\n              <img\n                className=\"profilepic\"\n                src={\n                  this.state.creatorInfos !== null &&\n                  this.state.creatorInfos.profilePic\n                }\n              />\n            </div>\n            <div className=\"basiccounts\">\n              <p>\n                Score\n                <span className=\"Score\">1200</span>\n              </p>\n              <p>\n                Followers\n                <span className=\"Score\">{this.state.followers}</span>\n              </p>\n              <p>\n                Following\n                <span className=\"Score\">\n                  {this.state.creatorInfos !== null &&\n                    // this.state.creatorInfos.following.length !== 0 &&\n                    this.state.creatorInfos.following.length}\n                </span>\n              </p>\n            </div>\n          </div>\n          <div className=\"experiences-discoveries\">\n            <div>\n              <img src=\"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697079/gembox/icons/diamond-icon-gold_a6lkxq.png\" />\n\n              <span className=\"Score\"> {this.state.discoveries}</span>\n              <span> Discoveries </span>\n            </div>\n            <div>\n              <img src=\"https://res.cloudinary.com/dy9sawxrm/image/upload/v1570697079/gembox/icons/diamond-icon-green_kjzvbz.png\" />\n\n              <span className=\"Score\">{this.state.experiences}</span>\n              <span> Experiences</span>\n            </div>\n          </div>\n          <div className=\"travelinterests\">\n            <div className=\"topicheader\">\n              <h2>Travelinterests</h2> <hr />\n              <div>\n                {this.state.creatorInfos !== null &&\n                  this.state.creatorInfos.travelInterests}\n              </div>\n            </div>\n          </div>\n          <div className=\"topicheader\">\n            <h2>Most popular gems</h2>\n            <hr />\n            <div className=\"gemlist\">{this.displayPopularGems()}</div>\n          </div>\n\n          <div className=\"trips\">\n            <div className=\"topicheader\">\n              <h2>All Trips</h2>\n              <hr />\n              <div>{this.showTrips()}</div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport Menu from \"./components/global/Menu\";\nimport AboutUs from \"./components/global/AboutUs\";\n// import \"./App.css\";\nimport Login from \"./components/auth/Login\";\nimport Signup from \"./components/auth/Signup\";\nimport Logout from \"./components/auth/Logout\";\nimport Home from \"./components/global/Home\";\nimport ExplorePlaces from \"./components/explore/ExplorePlaces\";\nimport UpdateProfile from \"./components/profile/UpdateProfile\";\nimport TripDetails from \"./components/explore/TripDetails\";\nimport GemDetails from \"./components/explore/GemDetails\";\nimport CreateGem from \"./components/create/CreateGem\";\nimport NotFound from \"./components/global/NotFound\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport ShowProfileNew from \"./components/profile/ShowProfileNew\";\n\nclass App extends React.Component {\n  state = {\n    user: this.props.user\n  };\n\n  setUser = user => {\n    this.setState({\n      user: user\n    });\n  };\n\n  setUserProfile = userid => {\n    console.log(\"HERE setUser called\", userid);\n    this.setState({\n      creatorProfile: userid\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"app-wrapper\">\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={props => (\n              <Home user={this.state.user} setUser={this.setUser} {...props} />\n            )}\n          />\n          <>\n            <Route\n              render={props => (\n                <Menu\n                  user={this.state.user}\n                  setUser={this.setUser}\n                  {...props}\n                />\n              )}\n            />\n            <Switch>\n              <Route\n                exact\n                path=\"/login\"\n                render={props => <Login setUser={this.setUser} {...props} />}\n              />\n              <Route\n                exact\n                path=\"/signup\"\n                render={props => <Signup setUser={this.setUser} {...props} />}\n              />\n              )} />\n              <Route\n                exact\n                path=\"/create-gem\"\n                render={props => (\n                  <CreateGem {...props} user={this.state.user} />\n                )}\n              />\n              <Route exact path=\"/logout\" component={Logout} />\n              <Route\n                exact\n                path=\"/explore-places\"\n                render={props => (\n                  <ExplorePlaces\n                    setUser={this.setUser}\n                    {...props}\n                    user={this.state.user}\n                    referredbyProfile={this.state.referredbyProfile}\n                  />\n                )}\n              />\n              <Route\n                path=\"/profile/:profileId\"\n                render={props => (\n                  <ShowProfileNew\n                    setUser={this.setUser}\n                    {...props}\n                    user={this.state.user}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/profile\"\n                render={props => (\n                  <UpdateProfile\n                    setUser={this.setUser}\n                    {...props}\n                    user={this.state.user}\n                  />\n                )}\n              />\n              <Route exact path=\"/trip\" component={TripDetails} />\n              <Route\n                exact\n                path=\"/trip/:tripId\"\n                render={props => (\n                  <TripDetails {...props} user={this.state.user} />\n                )}\n              />\n              <Route\n                exact\n                path=\"/gem/:gemId\"\n                render={props => (\n                  <GemDetails {...props} user={this.state.user} />\n                )}\n              />\n              <Route exact path=\"/about-us\" component={AboutUs} />\n              <Route component={NotFound} />\n            </Switch>\n          </>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport axios from \"axios\";\n\naxios.get(\"/api/auth/loggedin\").then((response) => {\n  const user = response.data;\n\n  ReactDOM.render(\n    <BrowserRouter>\n      <App user={user} />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  );\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}